(()=>{"use strict";var t,e,i,n={75:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DURATION_LINE_SCALES=e.SMALL_FONT_SIZE_MULTIPLIER=e.FONT_SIZE_MULTIPLIER=e.AUGMENTATION_SPACING_FACTOR=e.ACCIDENTAL_SPACING_FACTOR=e.AUGMENTATION_DASH_FACTOR=e.DOT_SIZE_FACTOR=e.OCTAVE_DOT_OFFSET_FACTOR=e.UNDERLINE_SPACING_FACTOR=e.COMPACT_SPACING_FACTOR=e.LINE_STROKE_WIDTH=void 0,e.LINE_STROKE_WIDTH=1,e.COMPACT_SPACING_FACTOR=1.5,e.UNDERLINE_SPACING_FACTOR=.2,e.OCTAVE_DOT_OFFSET_FACTOR=1,e.DOT_SIZE_FACTOR=.1,e.AUGMENTATION_DASH_FACTOR=.8,e.ACCIDENTAL_SPACING_FACTOR=.1,e.AUGMENTATION_SPACING_FACTOR=.2,e.FONT_SIZE_MULTIPLIER=1.2,e.SMALL_FONT_SIZE_MULTIPLIER=.75,e.DURATION_LINE_SCALES=new Map([[1,1.78],[2,1.6],[3,1.3],[4,1.15]])},88:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JianpuSVGRender=e.ScrollType=void 0;var n,s=i(75),a=i(811),r=i(388),o=i(567),h=i(186),l=i(214);!function(t){t[t.PAGE=0]="PAGE",t[t.NOTE=1]="NOTE",t[t.BAR=2]="BAR"}(n||(e.ScrollType=n={}));var u=function(){function t(t,e,i){var a,r,l,u,c,d,p,g,m,f,S,y=this;this.handleScrollEvent=function(t){y.lastKnownScrollLeft=y.parentElement.scrollLeft,y.isScrolling||window.requestAnimationFrame((function(){y.updateOverlaySignaturesForScroll(y.lastKnownScrollLeft),y.isScrolling=!1})),y.isScrolling=!0},this.jianpuInfo=t,this.div=i,this.config={noteHeight:null!==(a=e.noteHeight)&&void 0!==a?a:20,noteSpacingFactor:null!==(r=e.noteSpacingFactor)&&void 0!==r?r:s.COMPACT_SPACING_FACTOR,pixelsPerTimeStep:null!==(l=e.pixelsPerTimeStep)&&void 0!==l?l:0,noteColor:null!==(u=e.noteColor)&&void 0!==u?u:"black",activeNoteColor:null!==(c=e.activeNoteColor)&&void 0!==c?c:"red",defaultKey:null!==(d=e.defaultKey)&&void 0!==d?d:0,scrollType:null!==(p=e.scrollType)&&void 0!==p?p:n.PAGE,fontFamily:null!==(g=e.fontFamily)&&void 0!==g?g:"sans-serif",width:null!==(m=e.width)&&void 0!==m?m:0,height:null!==(f=e.height)&&void 0!==f?f:0},this.jianpuModel=new h.JianpuModel(this.jianpuInfo,this.config.defaultKey),this.currentKey=this.jianpuModel.measuresInfo.keySignatureAtQ(0),this.currentTimeSignature=null!==(S=this.jianpuModel.measuresInfo.timeSignatureAtQ(0))&&void 0!==S?S:o.DEFAULT_TIME_SIGNATURE,this.playingNotes=new Map,this.lastRenderedQ=-1,this.signaturesBlinking=!1,this.lastKnownScrollLeft=0,this.isScrolling=!1,this.numberFontSize=this.config.noteHeight*s.FONT_SIZE_MULTIPLIER,this.smallFontSize=this.config.noteHeight*s.SMALL_FONT_SIZE_MULTIPLIER,this.estimatedNoteWidth=.6*this.numberFontSize,this.yBaseline=1.5*this.config.noteHeight,this.height=0,this.width=0,this.clear(),this.redraw()}return t.prototype.clear=function(){for(var t;this.div.lastChild;)this.div.removeChild(this.div.lastChild);this.div.style.position="relative",this.div.style.overflow="hidden",this.overlaySVG=document.createElementNS(a.SVGNS,"svg"),this.overlaySVG.style.position="absolute",this.overlaySVG.style.left="0",this.overlaySVG.style.top="0",this.overlaySVG.style.pointerEvents="none",this.div.appendChild(this.overlaySVG),this.overlayG=(0,a.createSVGGroupChild)(this.overlaySVG,"overlay"),this.parentElement=document.createElement("div"),this.parentElement.style.overflowX="auto",this.parentElement.style.overflowY="hidden",this.parentElement.style.width="100%",this.parentElement.style.height="100%",this.div.appendChild(this.parentElement),this.parentElement.addEventListener("scroll",this.handleScrollEvent),this.mainSVG=document.createElementNS(a.SVGNS,"svg"),this.mainSVG.style.display="block",this.parentElement.appendChild(this.mainSVG),this.mainG=(0,a.createSVGGroupChild)(this.mainSVG,"main-content"),this.signaturesG=(0,a.createSVGGroupChild)(this.mainG,"signatures"),this.musicG=(0,a.createSVGGroupChild)(this.mainG,"music"),this.playingNotes.clear(),this.lastRenderedQ=-1,this.signaturesBlinking=!1,this.lastKnownScrollLeft=0,this.isScrolling=!1,this.height=this.config.height>0?this.config.height:5*this.config.noteHeight,this.width=this.config.width>0?this.config.width:0,this.currentKey=this.jianpuModel.measuresInfo.keySignatureAtQ(0),this.currentTimeSignature=null!==(t=this.jianpuModel.measuresInfo.timeSignatureAtQ(0))&&void 0!==t?t:o.DEFAULT_TIME_SIGNATURE,this.drawSignatures(this.overlayG,0,!0,!0),this.updateLayout()},t.prototype.updateLayout=function(t){this.width=null!=t?t:this.width,this.config.width>0&&(this.width=this.config.width),this.height=Math.max(this.height,6*this.config.noteHeight),this.config.height>0&&(this.height=this.config.height);var e=1.65*this.config.noteHeight;this.mainSVG.setAttribute("width","".concat(this.width)),this.mainSVG.setAttribute("height","".concat(this.height)),this.mainG.setAttribute("transform","translate(0, ".concat(this.yBaseline+e,")")),this.overlaySVG.setAttribute("width","200"),this.overlaySVG.setAttribute("height","".concat(this.height)),this.overlayG.setAttribute("transform","translate(0, ".concat(this.yBaseline,")"))},t.prototype.redraw=function(t,e){var i=this,s=-1,r=this.config.pixelsPerTimeStep<=0;if(t){var o="".concat(t.start,"-").concat(t.pitch);if(this.playingNotes.forEach((function(t,e){if(e!==o){var n=i.mainSVG.querySelector('g[data-id="'.concat(e,'"]'));n&&(0,a.resetElementHighlight)(n,i.config.noteColor),i.playingNotes.delete(e)}})),!this.playingNotes.has(o)){var h=this.mainSVG.querySelector('g[data-id="'.concat(o,'"]'));if(h){(0,a.highlightElement)(h,this.config.activeNoteColor),this.playingNotes.set(o,t);var l=h.getBoundingClientRect(),u=this.mainSVG.getBoundingClientRect();s=l.left-u.left+this.parentElement.scrollLeft;var c=h.hasAttribute("data-is-measure-start");e&&(this.config.scrollType!==n.BAR||c)&&this.scrollIntoViewIfNeeded(s)}}if(!r&&this.signaturesBlinking){var d=this.overlayG.getBoundingClientRect().width;this.jianpuModel.measuresInfo.quartersToTime(t.start,t.start)*this.config.pixelsPerTimeStep>d&&(this.signaturesBlinking=!1,(0,a.setBlinkAnimation)(this.overlayG,!1))}}else{this.jianpuModel.update(this.jianpuInfo,this.config.defaultKey);var p=this.width,g=this.width,m=this.height>0?this.height-this.yBaseline:3*this.config.noteHeight,f=0,S=new Map;this.jianpuModel.jianpuBlockMap.forEach((function(t,e){if(e>=i.lastRenderedQ-1e-9){p=r?g:i.jianpuModel.measuresInfo.quartersToTime(e,e)*i.config.pixelsPerTimeStep;var n=i.drawJianpuBlock(t,p,S);r?g+=n:g=Math.max(g,p+n);var s=i.mainSVG.querySelector('g[data-block-start="'.concat(t.start,'"]'));if(s)try{var a=s.getBBox(),o=a.y,h=a.y+a.height;f=Math.min(f,o),m=Math.max(m,h)}catch(t){}i.lastRenderedQ=e+t.length}})),this.height=Math.max(this.height,m-f+this.config.noteHeight),this.updateLayout(g)}return s},t.prototype.drawJianpuBlock=function(t,e,i){var n=0,o=this.config.pixelsPerTimeStep<=0,h=t.isMeasureBeginning(),l=(0,a.createSVGGroupChild)(this.musicG,"block-".concat(t.start));if(l.setAttribute("data-block-start","".concat(t.start)),h&&t.start>1e-6){var u=e-(o?.6*this.estimatedNoteWidth:4),c=2*this.config.noteHeight,d=0,p=(0,a.drawSVGPath)(this.musicG,r.barPath,u,d,1,c/r.PATH_SCALE);(0,a.setStroke)(p,this.config.noteColor,s.LINE_STROKE_WIDTH),o&&(n+=s.LINE_STROKE_WIDTH)}var g=this.updateCurrentKey(t.start),m=this.updateCurrentTimeSignature(t.start),f=0;if((g||m)&&t.start>1e-6){var S=e+n;f=this.drawSignatures(this.signaturesG,S,g,m),o&&(n+=f+.2*this.estimatedNoteWidth)}var y=e+n,v=0;if(t.notes.length>0?v=this.drawNotes(t,y,i,l):t.length>1e-6&&(v=this.drawRest(t,y,l)),o){n+=v;var T=this.estimatedNoteWidth*this.config.noteSpacingFactor;t.beatEnd?T*=1:t.length<.0625?T*=.05:t.length<.125?T*=.1:t.length<.25?T*=.2:t.length<.5?T*=.4:t.length<1&&(T*=.5),n+=T}else n=Math.max(f,v);return this.jianpuModel.isLastMeasureAtQ(t.start+t.length)&&(u=e+n,c=2*this.config.noteHeight,d=0,p=(0,a.drawSVGPath)(this.musicG,r.barPath,u,d,1,c/r.PATH_SCALE),(0,a.setStroke)(p,this.config.noteColor,s.LINE_STROKE_WIDTH),o&&(n+=s.LINE_STROKE_WIDTH)),n},t.prototype.drawNotes=function(t,e,i,n){var o=this,h=e,l=e,u=.1*this.estimatedNoteWidth,c="".concat(this.numberFontSize,"px"),d="".concat(this.smallFontSize,"px"),p=t.durationLines,g=void 0===p?0:p,m=t.augmentationDots,f=void 0===m?0:m,S=t.augmentationDash,y=void 0!==S&&S;return t.notes.forEach((function(e){var p,m,S,v="".concat(e.start,"-").concat(e.pitch),T=(0,a.createSVGGroupChild)(n,v);t.isMeasureBeginning()&&T.setAttribute("data-is-measure-start","true");var A=h,E=A;if(0!==e.accidental){var I=r.ACCIDENTAL_TEXT[e.accidental];(0,a.drawSVGText)(T,I,A+u,0,d,"normal","end","text-top",o.config.noteColor)}var N=0;if(y){var _=o.config.noteHeight*s.AUGMENTATION_DASH_FACTOR,b=_/50,M=(0,a.drawSVGPath)(T,r.augmentationDashPath,A,0,b,1);(0,a.setStroke)(M,o.config.noteColor,s.LINE_STROKE_WIDTH),E=A+(N=_)}else{var C="".concat(e.jianpuNumber);E=A+(N=(0,a.drawSVGText)(T,C,A,0,c,"normal","start","middle",o.config.noteColor).getBBox().width)}if(0!==e.octaveDot&&!1===y)for(var L=(H=o.config.noteHeight*s.DOT_SIZE_FACTOR)/(.15*r.PATH_SCALE),w=A+N/2,O=2.8*H,D=o.config.noteHeight*s.OCTAVE_DOT_OFFSET_FACTOR,R=0;R<Math.abs(e.octaveDot);R++){var G=(e.octaveDot>0?-D:.6*D)-R*O*(e.octaveDot>0?1:-1);(0,a.drawSVGPath)(T,r.dotPath,w,G,L,L)}if(g>0)for(var k=o.config.noteHeight*s.UNDERLINE_SPACING_FACTOR*2.5,P=o.config.noteHeight*s.UNDERLINE_SPACING_FACTOR,F=N/r.PATH_SCALE*(null!==(p=s.DURATION_LINE_SCALES.get(g))&&void 0!==p?p:1),V=0;V<g;V++){var x=k+V*P,B=(0,a.drawSVGPath)(T,r.underlinePath,A,x,F,1);(0,a.setStroke)(B,o.config.noteColor,s.LINE_STROKE_WIDTH)}var U=E+u;if(f>0){var H;for(L=(H=o.config.noteHeight*s.DOT_SIZE_FACTOR)/(.15*r.PATH_SCALE),R=0;R<f;R++)(0,a.drawSVGPath)(T,r.dotPath,U,0,L,L),U+=H+u;E=U+u}var j=E;if(e.tiedTo&&!y)i.set(e,{g:T,xNoteRight:j,yNoteBaseline:0});else if(e.tiedFrom){for(var Q=e.tiedFrom;Q.tiedFrom;)Q=Q.tiedFrom;var J=i.get(Q);if(J){var K=1*J.xNoteRight,W=(y?A-2.2*o.estimatedNoteWidth:A-u)-K,q=1.2*-o.config.noteHeight,Z=W/r.PATH_SCALE*1.3,z=o.config.noteHeight/r.PATH_SCALE*1.6;W>1&&(0,a.drawSVGPath)(J.g,r.tiePath,K-(null!==(S=null===(m=J.g.getCTM())||void 0===m?void 0:m.e)&&void 0!==S?S:0),q,Z,z);for(var X=Q;X&&X!==e;){i.delete(X);var Y=X.tiedTo;Y&&(X=Y)}}else console.warn("Missing linked SVG details for first tied note:",Q)}l=Math.max(l,E)})),l-e},t.prototype.drawRest=function(t,e,i){var n,o="".concat(this.numberFontSize,"px"),h=.1*this.estimatedNoteWidth,l=t.durationLines,u=void 0===l?0:l,c=t.augmentationDots,d=void 0===c?0:c,p=e,g=p,m=(0,a.drawSVGText)(i,"0",p,0,o,"normal","start","middle",this.config.noteColor).getBBox().width;if(g=p+m,u>0)for(var f=this.config.noteHeight*s.UNDERLINE_SPACING_FACTOR*2.5,S=this.config.noteHeight*s.UNDERLINE_SPACING_FACTOR,y=m/r.PATH_SCALE*(null!==(n=s.DURATION_LINE_SCALES.get(u))&&void 0!==n?n:1),v=0;v<u;v++){var T=f+v*S,A=(0,a.drawSVGPath)(i,r.underlinePath,p,T,y,1);(0,a.setStroke)(A,this.config.noteColor,s.LINE_STROKE_WIDTH)}var E=g+h;if(d>0){for(var I=this.config.noteHeight*s.DOT_SIZE_FACTOR,N=I/(.15*r.PATH_SCALE),_=0;_<d;_++)(0,a.drawSVGPath)(i,r.dotPath,E,0,N,N),E+=I+h;g=E+h}return g-e},t.prototype.drawSignatures=function(t,e,i,n){var s,r=e,o=.3*this.estimatedNoteWidth,h="".concat(this.smallFontSize,"px"),u="".concat(this.numberFontSize,"px");if(i){var c=null!==(s=l.PITCH_CLASS_NAMES[this.currentKey%12])&&void 0!==s?s:"C",d="1=".concat(c);r+=(0,a.drawSVGText)(t,d,r,0,u,"normal","start","middle",this.config.noteColor).getBBox().width+2*o}if(n){var p="".concat(this.currentTimeSignature.numerator,"/").concat(this.currentTimeSignature.denominator);r+=(0,a.drawSVGText)(t,p,r,0,h,"normal","start","middle",this.config.noteColor).getBBox().width+o}var g=r-e;try{var m=t.getBBox(),f=m.y,S=m.y+m.height,y=Math.max(this.yBaseline+S,this.yBaseline-f)+.5*this.config.noteHeight;this.height=Math.max(this.height,y)}catch(t){}return t===this.overlayG&&this.config.pixelsPerTimeStep>0&&(this.signaturesBlinking=!0,(0,a.setBlinkAnimation)(this.overlayG,!0)),g},t.prototype.updateCurrentKey=function(t){var e=this.jianpuModel.measuresInfo.keySignatureAtQ(t,!0);return-1!==e&&e!==this.currentKey&&(this.currentKey=e,!0)},t.prototype.updateCurrentTimeSignature=function(t){var e=this.jianpuModel.measuresInfo.timeSignatureAtQ(t,!0);return!(!e||e.numerator===this.currentTimeSignature.numerator&&e.denominator===this.currentTimeSignature.denominator||(this.currentTimeSignature=e,0))},t.prototype.scrollIntoViewIfNeeded=function(t){var e=this.parentElement.getBoundingClientRect().width,i=this.parentElement.scrollLeft,s=i;this.config.scrollType===n.PAGE?t<i+20?s=t-20:t>i+e-20&&(s=t-e+20):s=t-.5*e,s=Math.max(0,Math.min(s,this.parentElement.scrollWidth-e)),Math.abs(s-i)>1&&(this.parentElement.scrollTo({left:s,behavior:"smooth"}),this.updateOverlaySignaturesForScroll(s))},t.prototype.updateOverlaySignaturesForScroll=function(t){var e,i=this.pixelsToTime(t),n=this.jianpuModel.measuresInfo.keySignatureAtQ(i),s=null!==(e=this.jianpuModel.measuresInfo.timeSignatureAtQ(i))&&void 0!==e?e:this.currentTimeSignature,r=!1;if(n!==this.currentKey&&(this.currentKey=n,r=!0),s.numerator===this.currentTimeSignature.numerator&&s.denominator===this.currentTimeSignature.denominator||(this.currentTimeSignature=s,r=!0),r){for(;this.overlayG.lastChild;)this.overlayG.removeChild(this.overlayG.lastChild);this.drawSignatures(this.overlayG,0,!0,!0),t<10&&this.config.pixelsPerTimeStep>0?((0,a.setBlinkAnimation)(this.overlayG,!0),this.signaturesBlinking=!0):this.config.pixelsPerTimeStep>0&&((0,a.setBlinkAnimation)(this.overlayG,!1),this.signaturesBlinking=!1)}},t.prototype.pixelsToTime=function(t){return this.config.pixelsPerTimeStep<=0?0:this.jianpuModel.measuresInfo.timeToQuarters(t/this.config.pixelsPerTimeStep,0)},t}();e.JianpuSVGRender=u},186:function(t,e,i){var n=this&&this.__assign||function(){return n=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var s in e=arguments[i])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t},n.apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.JianpuModel=void 0,e.mapMidiToJianpu=l;var s=i(567),a=i(980),r=i(826),o=i(214),h=function(){function t(t,e){this.jianpuInfo=t,this.jianpuBlockMap=new Map,this.lastQ=0,this.update(t,e)}return t.prototype.isLastMeasureAtQ=function(t){return t>=this.lastQ-1e-6},t.prototype.getTotalDuration=function(){return this.lastQ},t.prototype.update=function(t,e){var i=this;this.jianpuInfo=t,t.notes.sort((function(t,e){return t.start-e.start})),this.lastQ=0,t.notes.forEach((function(t){i.lastQ=Math.max(i.lastQ,t.start+t.length)})),this.lastQ+=1e-6,t.tempos=t.tempos&&t.tempos.length?t.tempos:[s.DEFAULT_TEMPO],t.tempos.sort((function(t,e){return t.start-e.start})),t.tempos[0].start>1e-6&&t.tempos.unshift(n(n({},s.DEFAULT_TEMPO),{start:0}));var r=void 0!==e?{start:0,key:e}:n({},s.DEFAULT_KEY_SIGNATURE);t.keySignatures=t.keySignatures&&t.keySignatures.length?t.keySignatures:[r],t.keySignatures.sort((function(t,e){return t.start-e.start})),t.keySignatures[0].start>1e-6&&t.keySignatures.unshift(n(n({},r),{start:0})),t.timeSignatures=t.timeSignatures&&t.timeSignatures.length?t.timeSignatures:[s.DEFAULT_TIME_SIGNATURE],t.timeSignatures.sort((function(t,e){return t.start-e.start})),t.timeSignatures[0].start>1e-6&&t.timeSignatures.unshift(n(n({},s.DEFAULT_TIME_SIGNATURE),{start:0})),this.measuresInfo=new a.MeasuresInfo(t,this.lastQ),this.infoToBlocks()},t.prototype.infoToBlocks=function(){var t=this,e=new Map,i=0;if(this.jianpuInfo.notes.forEach((function(n){var s=n.start,a=t.measuresInfo.measureNumberAtQ(s);if(s>i+1e-6){var o=i,h=s-o,l=t.measuresInfo.measureNumberAtQ(o),u=new r.JianpuBlock(o,h,[],l);e.set(o,u)}var c=t.measuresInfo.keySignatureAtQ(s),d=t.createJianpuNote(n,c),p=e.get(s);p||(p=new r.JianpuBlock(s,0,[],a),e.set(s,p)),p.addNote(d),i=Math.max(i,s+p.length)})),this.lastQ>i+1e-6){var n=i,s=this.lastQ-n;if(s>1e-6){var a=this.measuresInfo.measureNumberAtQ(n),o=new r.JianpuBlock(n,s,[],a);e.set(n,o)}}this.jianpuBlockMap=new Map;var h=Array.from(e.keys()).sort((function(t,e){return t-e})),l=[];h.forEach((function(t){l.push(e.get(t))}));for(var u=new Set;l.length>0;){var c=l.shift();u.has(c.start)&&this.jianpuBlockMap.has(c.start);var d=c.splitToBeat(this.measuresInfo);if(d)c.mergeToMap(this.jianpuBlockMap),u.add(c.start),l.unshift(d);else{var p=c,g=null;do{g=p.splitToStandardSymbol(this.measuresInfo),p.mergeToMap(this.jianpuBlockMap),u.add(p.start),g&&(p=g)}while(g)}}this.jianpuBlockMap.forEach((function(e){e.calculateRenderProperties(t.measuresInfo)}))},t.prototype.createJianpuNote=function(t,e){var i=l(t.pitch,e);return n(n({},t),{jianpuNumber:i.jianpuNumber,octaveDot:i.octaveDot,accidental:i.accidental})},t}();function l(t,e){var i=e%12,n=o.MIDDLE_C_MIDI+i;i>o.MIDDLE_C_MIDI%12&&(n-=12);var s=(t-(n+12*Math.round((t-n)/12))+12)%12,a=o.MAJOR_SCALE_INTERVALS[s],r=0;if(void 0===a){switch(s){case 1:a=o.MAJOR_SCALE_INTERVALS[0],r=1;break;case 3:a=o.MAJOR_SCALE_INTERVALS[4],r=2;break;case 6:a=o.MAJOR_SCALE_INTERVALS[5],r=1;break;case 8:a=o.MAJOR_SCALE_INTERVALS[9],r=2;break;case 10:a=o.MAJOR_SCALE_INTERVALS[11],r=2;break;default:console.warn("Unexpected chromatic interval ".concat(s," in mapMidiToJianpu. Defaulting to sharp of lower valid degree."));var h=(s-1+12)%12,l=(s+1+12)%12,u=o.MAJOR_SCALE_INTERVALS[h],c=o.MAJOR_SCALE_INTERVALS[l];void 0!==u?(a=u,r=1):void 0!==c?(a=c,r=2):(a=1,r=1,console.error("Could not determine Jianpu number components for MIDI ".concat(t,", interval ").concat(s," from tonic in key ").concat(e,".")))}void 0===a&&(console.error("Jianpu number became undefined for MIDI ".concat(t," (interval ").concat(s,", key ").concat(e,") after chromatic processing. This indicates a logic error or misconfigured MAJOR_SCALE_INTERVALS.")),a=1,r=1)}return{jianpuNumber:a,octaveDot:Math.floor((t-n)/12),accidental:r}}e.JianpuModel=h},214:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MIDDLE_C_MIDI=e.MAJOR_SCALE_INTERVALS=e.PITCH_CLASS_NAMES=e.MAX_QUARTER_DIVISION=e.MIN_RESOLUTION=void 0,e.MIN_RESOLUTION=.0625,e.MAX_QUARTER_DIVISION=240,e.PITCH_CLASS_NAMES=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],e.MAJOR_SCALE_INTERVALS={0:1,2:2,4:3,5:4,7:5,9:6,11:7},e.MIDDLE_C_MIDI=60},229:function(t,e,i){var n=this&&this.__createBinding||(Object.create?function(t,e,i,n){void 0===n&&(n=i);var s=Object.getOwnPropertyDescriptor(e,i);s&&!("get"in s?!e.__esModule:s.writable||s.configurable)||(s={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,n,s)}:function(t,e,i,n){void 0===n&&(n=i),t[n]=e[i]}),s=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||n(e,t,i)};Object.defineProperty(e,"__esModule",{value:!0}),s(i(88),e),s(i(186),e),s(i(826),e),s(i(567),e)},291:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.testData=void 0,e.testData=[];var i=0;e.testData[0]={title:"Note symbols and their durations",description:"Notes of different length should complete each bar going from     whole note through 1/2th, 1/4th, 1/8th, 1/16th, 1/32th and 1/64th, which     is the lowest handled resolution.",data:{notes:[]}},i=0;for(var n=1;n<128;n*=2)for(var s=4/n,a=0;a<n;++a){var r=67+(a>=n/2?5:0);e.testData[0].data.notes.push({start:i,length:s,pitch:r,intensity:127}),i+=s}for(e.testData[1]={title:"simple note display",description:"simple note display",data:{notes:[{start:0,length:1,pitch:69,intensity:127},{start:1,length:1,pitch:71,intensity:127},{start:2,length:1,pitch:72,intensity:127},{start:3,length:1,pitch:74,intensity:127}]}},e.testData[2]={title:"Rest symbols and their durations",description:"Notes of different length should be paired with their relative     rest. Last note has been placed to complete the bar and make previous rest     noticeable.",data:{notes:[]}},i=0,n=1;n<128;n*=2)s=4/n,e.testData[2].data.notes.push({start:i,length:s,pitch:67,intensity:127}),i+=2*s;for(e.testData[2].data.notes.push({start:i,length:.125,pitch:67,intensity:127}),e.testData[3]={title:"Dotted notes",description:"Note length can be extended to a 150% of its nominal value     adding a dot after the note symbol. This applies to all number notation     symbols but it will not be applied to rests symbols in jianpu system,     following the simplified notation principles that prioritize readability.     Last note is included to make previous rests noticeable.",data:{notes:[{start:0,length:3,pitch:67,intensity:127},{start:3.75,length:.25,pitch:67,intensity:127},{start:4,length:3,pitch:72,intensity:127},{start:7,length:.75,pitch:74,intensity:127},{start:7.75,length:.25,pitch:72,intensity:127}]}},e.testData[4]={title:"Jianpu High-High Pitch Test",description:"This test is designed to verify the display and handling of high - high pitches in the jianpu system. It includes a series of notes with high - high pitches to ensure the correct representation in the rendering process.",data:{notes:[{start:0,length:1,pitch:62,intensity:127},{start:1,length:1,pitch:64,intensity:127},{start:2,length:1,pitch:65,intensity:127},{start:3,length:1,pitch:67,intensity:127},{start:4,length:1,pitch:69,intensity:127},{start:5,length:1,pitch:71,intensity:127},{start:6,length:1,pitch:72,intensity:127},{start:7,length:1,pitch:74,intensity:127},{start:8,length:1,pitch:76,intensity:127},{start:9,length:1,pitch:77,intensity:127},{start:10,length:1,pitch:79,intensity:127},{start:11,length:1,pitch:60,intensity:127},{start:12,length:1,pitch:59,intensity:127},{start:13,length:1,pitch:57,intensity:127},{start:14,length:1,pitch:55,intensity:127},{start:15,length:1,pitch:81,intensity:127},{start:16,length:1,pitch:83,intensity:127},{start:17,length:1,pitch:84,intensity:127},{start:18,length:1,pitch:86,intensity:127}]}},e.testData[5]={title:"Test of Jianpu Low-Low Pitch Symbols",description:"This test is designed to verify the display and handling of low - low pitch symbols in the jianpu system. It includes a series of notes with low - low pitches to ensure the correct representation in the rendering process.",data:{notes:[{start:0,length:1,pitch:59,intensity:127},{start:1,length:1,pitch:57,intensity:127},{start:2,length:1,pitch:55,intensity:127},{start:3,length:1,pitch:53,intensity:127},{start:4,length:1,pitch:52,intensity:127},{start:5,length:1,pitch:50,intensity:127},{start:6,length:1,pitch:48,intensity:127},{start:7,length:1,pitch:47,intensity:127},{start:8,length:1,pitch:45,intensity:127},{start:9,length:1,pitch:43,intensity:127},{start:10,length:1,pitch:41,intensity:127},{start:11,length:1,pitch:60,intensity:127},{start:12,length:1,pitch:62,intensity:127},{start:13,length:1,pitch:64,intensity:127},{start:14,length:1,pitch:65,intensity:127},{start:15,length:1,pitch:40,intensity:127},{start:16,length:1,pitch:38,intensity:127},{start:17,length:1,pitch:36,intensity:127},{start:18,length:1,pitch:35,intensity:127}]}},e.testData[6]={title:"Sharp Accidentals",description:"In jianpu notation, the sharp symbol '#' only affects the immediate note it precedes. Unlike staff notation, it does not carry through the rest of the measure. Each note requiring alteration must be explicitly marked.",data:{keySignatures:[{start:0,key:7}],notes:[{start:0,length:.5,pitch:67,intensity:127},{start:.5,length:.5,pitch:68,intensity:127},{start:1,length:.5,pitch:68,intensity:127},{start:1.5,length:.5,pitch:80,intensity:127},{start:2,length:.5,pitch:67,intensity:127},{start:2.5,length:.5,pitch:80,intensity:127},{start:3,length:.5,pitch:67,intensity:127},{start:3.5,length:.5,pitch:68,intensity:127},{start:4,length:2,pitch:68,intensity:127},{start:6,length:2,pitch:66,intensity:127}]}},e.testData[7]={title:"Flat Accidentals",description:"Similar to sharp accidentals, the flat symbol 'b' in jianpu only applies to the single note it directly precedes. This differs from staff notation where accidentals affect all subsequent same-pitch notes in the measure.",data:{keySignatures:[{start:0,key:5}],notes:[{start:0,length:.5,pitch:69,intensity:127},{start:.5,length:.5,pitch:68,intensity:127},{start:1,length:.5,pitch:68,intensity:127},{start:1.5,length:.5,pitch:80,intensity:127},{start:2,length:.5,pitch:69,intensity:127},{start:2.5,length:.5,pitch:80,intensity:127},{start:3,length:.5,pitch:69,intensity:127},{start:3.5,length:.5,pitch:68,intensity:127},{start:4,length:2,pitch:68,intensity:127},{start:6,length:2,pitch:58,intensity:127}]}},e.testData[8]={title:"Key Signatures on chromatic scales",description:"There is a close set of 12 Key Signatures. Half of them use     sharps (from 0 to 5 sharps: C, G, D, A, E and B keys, the right side of     the Circle of Fifths) and the rest use flats (from 1 to 6 flats: F, Bb,     Eb, Ab, Db and Gb keys). Following score will show a chromatic scale on     each key in that precise order. Overlapping keys with different names (Gb     = F#) have been removed for simplicity sake. Accidentals will be of a     unique kind along a given key, so tere won't appear a mix sharps and     flats (even though it's allowed in musical handwriting).",data:{keySignatures:[{start:0,key:0},{start:12,key:7},{start:24,key:2},{start:36,key:9},{start:48,key:4},{start:60,key:11},{start:72,key:5},{start:84,key:10},{start:96,key:3},{start:108,key:8},{start:120,key:1},{start:132,key:6}],notes:[]}},i=0,n=0;n<12;++n)for(var o=60;o<72;++o)e.testData[8].data.notes.push({start:i++,length:1,pitch:o,intensity:127});e.testData[9]={title:"Time Signatures",description:'Notes can be gropued on bars according to "beat" rhythm     patterns, defined by Time Signatures consisting on a numerator and a     denominator number. Denominator defines the length of its beat as the     fraction of a whole note, and numerator defines the number of beats     needed to complete a bar. A Time Signature shown at the beginning of a     bar changes rhythm to that bar and followings. Next score shows several     Time Signatures.',data:{timeSignatures:[],notes:[]}},i=0;for(var h=2;h<=8;h*=2){var l=4/h,u=e.testData[9].data;for(n=2;n<=12;++n)for(u.timeSignatures.push({start:i,numerator:n,denominator:h}),a=0;a<n;++a)u.notes.push({start:i,length:l,pitch:67,intensity:127}),i+=l}e.testData[10]={title:"Whole rests",description:"Whole rest symbol is used to specify a whole silent bar, no     matter which the time signature is.",data:{timeSignatures:[{start:0,numerator:3,denominator:4},{start:6,numerator:6,denominator:8},{start:12,numerator:7,denominator:2},{start:40,numerator:4,denominator:4}],notes:[{start:3,length:3,pitch:67,intensity:127},{start:9,length:3,pitch:67,intensity:127},{start:26,length:14,pitch:67,intensity:127},{start:44,length:4,pitch:67,intensity:127}]}},e.testData[11]={title:"Ties",description:"Notes longer than avilable note symbols length can be achieved   combining two or more through ties. Notes which surpass bars must be   splitted using ties. Rest aggregation does not need any tie. Following score   shows three tied notes, a rests set and two tied notes to surpass a bar.",data:{notes:[{start:0,length:2.625,pitch:67,intensity:127},{start:3,length:5,pitch:67,intensity:127}]}}},388:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.dotPath=e.tiePath=e.augmentationDashPath=e.underlinePath=e.barPath=e.ACCIDENTAL_TEXT=e.ACCIDENTAL_PATHS=e.PATH_SCALE=void 0,e.PATH_SCALE=100,e.ACCIDENTAL_PATHS=[null,"m 30,15 h 40 m -35,20 h 40 M 50,0 v 50 M 70,5 v 50","m 45,5 v 40 c 0,15 20,15 20,0 V 20 C 65,5 45,5 45,5 Z","M 45,5 v 45 M 65,0 v 45 H 45 m 20,10 H 45"],e.ACCIDENTAL_TEXT=["","#","b"],e.barPath="m 0,-50 v 100",e.underlinePath="m 0,0 h 100",e.augmentationDashPath="m 0,0 h 50",e.tiePath="M -13,5 C 15,-15 65,-15 90,5 C 65,-25 15,-25 -13,5 Z",e.dotPath="M 0 0 a 15 15 0 1 0 0.0001 0 z"},567:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_TIME_SIGNATURE=e.DEFAULT_KEY_SIGNATURE=e.DEFAULT_TEMPO=void 0,e.getMeasureLength=function(t){return t.numerator*(4/t.denominator)},e.DEFAULT_TEMPO={start:0,qpm:60},e.DEFAULT_KEY_SIGNATURE={start:0,key:0},e.DEFAULT_TIME_SIGNATURE={start:0,numerator:4,denominator:4}},811:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGNS=void 0,e.drawSVGPath=function(t,i,n,s,a,r,o){void 0===o&&(o=1);var h=document.createElementNS(e.SVGNS,"path");return h.setAttributeNS(null,"d",i),h.setAttributeNS(null,"transform","translate(".concat(n,", ").concat(s,") scale(").concat(a,", ").concat(r,")")),o<1&&h.setAttributeNS(null,"opacity","".concat(o)),t.appendChild(h),h},e.drawSVGText=function(t,i,n,s,a,r,o,h,l,u){void 0===r&&(r="normal"),void 0===o&&(o="middle"),void 0===h&&(h="middle"),void 0===l&&(l="currentColor"),void 0===u&&(u=1);var c=document.createElementNS(e.SVGNS,"text");c.setAttributeNS(null,"font-family","sans-serif"),c.setAttributeNS(null,"font-size",a),c.setAttributeNS(null,"font-weight",r),c.setAttributeNS(null,"x","".concat(n)),c.setAttributeNS(null,"y","".concat(s)),c.setAttributeNS(null,"text-anchor",o),c.setAttributeNS(null,"dominant-baseline",h),"currentColor"!==l&&c.setAttributeNS(null,"fill",l),u<1&&c.setAttributeNS(null,"opacity","".concat(u));var d=document.createTextNode(i);return c.appendChild(d),t.appendChild(c),c},e.createSVGGroupChild=function(t,i){var n=document.createElementNS(e.SVGNS,"g");return i&&n.setAttribute("data-id",i),t.appendChild(n),n},e.setBlinkAnimation=function(t,i,n){void 0===i&&(i=!0),void 0===n&&(n="1s");var s=t.querySelector('animate[attributeName="opacity"]');return i?s?(s.setAttributeNS(null,"repeatCount","indefinite"),s.beginElement()):((s=document.createElementNS(e.SVGNS,"animate")).setAttributeNS(null,"attributeName","opacity"),s.setAttributeNS(null,"values","1;0.2;1"),s.setAttributeNS(null,"keyTimes","0;0.5;1"),s.setAttributeNS(null,"dur",n),s.setAttributeNS(null,"repeatCount","indefinite"),t.appendChild(s)):(s&&(s.endElement(),s.setAttributeNS(null,"repeatCount","0"),t.style.opacity="1"),t.style.opacity="1"),t},e.setFill=function(t,e){t.setAttributeNS(null,"fill",e)},e.setStroke=function(t,e,i){t.setAttributeNS(null,"stroke",e),t.setAttributeNS(null,"stroke-width","".concat(i))},e.highlightElement=function(t,e){var i=[];return t.matches("text, path")&&i.push(t),t.querySelectorAll("text, path").forEach((function(t){i.push(t)})),i.forEach((function(t){"none"!==t.getAttribute("fill")&&t.setAttribute("fill",e)})),t},e.resetElementHighlight=function(t,e){t.querySelectorAll("text, path").forEach((function(t){"none"!==t.getAttribute("fill")&&t.setAttribute("fill",e)}))},e.SVGNS="http://www.w3.org/2000/svg"},826:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.JianpuBlock=void 0,e.splitJianpuNote=a;var n=i(214);function s(t){return Math.abs(t)<1e-6}function a(t,e){var i=t.start+t.length;if(e<=t.start||e>=i||s(i-e))return null;var n=i-e;t.length=e-t.start;var a={start:e,length:n,pitch:t.pitch,intensity:t.intensity,jianpuNumber:t.jianpuNumber,octaveDot:t.octaveDot,accidental:0,tiedFrom:t};return t.tiedTo&&(a.tiedTo=t.tiedTo,t.tiedTo.tiedFrom=a),t.tiedTo=a,a}var r=function(){function t(t,e,i,n){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=[]),void 0===n&&(n=1),this.start=t,this.length=e,this.notes=i,this.measureNumber=n}return t.prototype.addNote=function(t){if(0===this.notes.length)return this.start=t.start,this.length=t.length,this.notes.push(t),!0;if(!s(this.start-t.start))return console.warn("JianpuBlock: Attempted to add note at ".concat(t.start," to block starting at ").concat(this.start,". Ignoring.")),!1;for(var e=!1,i=!1,n=0;n<this.notes.length;n++)if(this.notes[n].pitch===t.pitch){i=!0,t.length<this.notes[n].length&&(this.notes[n].tiedFrom&&(t.tiedFrom=this.notes[n].tiedFrom,t.tiedFrom&&(t.tiedFrom.tiedTo=t)),this.notes[n].tiedTo&&(t.tiedTo=this.notes[n].tiedTo,t.tiedTo&&(t.tiedTo.tiedFrom=t)),this.notes[n]=t,e=!0);break}i||this.notes.push(t);for(var a=1/0,r=0,o=this.notes;r<o.length;r++){var h=o[r];a=Math.min(a,h.length)}return this.length=a,!i||e},t.prototype.split=function(e,i){var n=this.start+this.length;if(e<=this.start||e>=n||s(n-e))return null;for(var r=n-e,o=e-this.start,h=new t(e,r,[],i.measureNumberAtQ(e)),l=[],u=0,c=this.notes;u<c.length;u++){var d=c[u],p=d.start+d.length;if(p>e+1e-6){var g=a(d,e);g?l.push(g):console.warn("Split failed for note, unexpected state.")}else s(p-e)}return l.forEach((function(t){return h.addNote(t)})),this.length=o,delete this.durationLines,delete this.augmentationDots,delete this.augmentationDash,this.beatEnd&&(h.beatEnd=!0,delete this.beatEnd),this.isTieEnd&&(h.isTieStart=!0,delete this.isTieEnd),h},t.prototype.splitToBeat=function(t){var e=t.timeSignatureAtQ(this.start);if(!e)return null;var i=t.measureLengthAtQ(this.start),n=t.measureNumberAtQ(this.start),a=this.start-(n-Math.floor(n))*i,r=this.start-a,o=4/e.denominator,h=r/o;this.beatBegin=s(h-Math.round(h));var l=a+(Math.floor(h+1e-6)+1)*o,u=a+i,c=this.start+this.length,d=null;l<c-1e-6&&l>this.start+1e-6&&(d=l),u<c-1e-6&&u>this.start+1e-6&&(null===d||u<d)&&(d=u);var p=null;if(null!==d)(p=this.split(d,t))&&(this.beatEnd=!0);else{var g=(r+this.length)/o;this.beatEnd=s(g-Math.round(g)),this.beatEnd||(this.beatEnd=s(c-u))}return this.isTieStart=this.notes.some((function(t){return t.tiedFrom})),this.isTieEnd=this.notes.some((function(t){return t.tiedTo})),p&&(p.isTieStart=p.notes.some((function(t){return t.tiedFrom})),p.isTieEnd=p.notes.some((function(t){return t.tiedTo})),this.notes.some((function(t){return t.tiedTo&&t.start+t.length>d}))&&delete this.isTieEnd),p},t.prototype.calculateRenderProperties=function(t){delete this.durationLines,delete this.augmentationDots,delete this.augmentationDash;var e=this.length;if(!(s(e)||e<0)){if(t.allowDottedRests||this.notes.length>0){if(s(e-1.5))return void(this.augmentationDots=1);if(s(e-.75))return this.durationLines=1,void(this.augmentationDots=1);if(s(e-.375))return this.durationLines=2,void(this.augmentationDots=1);s(e-3)&&(this.augmentationDots=1)}if(this.durationLines=e>=3.999999||e>=1.999999||e>=.999999?0:e>=.499999?1:e>=.249999?2:e>=.124999?3:4,this.augmentationDash=!1,1===this.notes.length){var i=this.notes[0],n=t.timeSignatureAtQ(this.start);if(!n)return;var a=Math.max(4/n.denominator,1);if(!(this.measureNumber%1<=1e-6)&&i.tiedFrom&&s(i.tiedFrom.length-a)&&i.tiedFrom.pitch===i.pitch&&i.length>=1){var r=!0;if(i.tiedTo){var o=i.start+i.length;r=Math.floor(t.measureNumberAtQ(this.start))===Math.floor(t.measureNumberAtQ(o))&&i.tiedTo.length>=1}r&&(this.augmentationDash=!0)}}}},t.prototype.splitToStandardSymbol=function(t){var e=this.length;if(s(e)||e<n.MIN_RESOLUTION-1e-6)return null;var i=[];t.allowDottedRests||this.notes.length>0?(i.push(6),i.push(4),i.push(3),i.push(2),i.push(1.5),i.push(1),i.push(.75),i.push(.5),i.push(.375),i.push(.25),i.push(.125),i.push(.0625)):(i.push(4),i.push(2),i.push(1),i.push(.5),i.push(.25),i.push(.125),i.push(.0625));for(var a=0,r=0,o=i;r<o.length;r++){var h=o[r];if(e>=h-1e-6){a=h;break}}s(a)&&e<(a=n.MIN_RESOLUTION)-1e-6&&e>1e-6&&console.warn("Block length ".concat(e," is too small, rendering as ").concat(a));var l=null;return e>a+1e-6?(l=this.split(this.start+a,t),this.length!==a&&(console.warn("Adjusting block length after split from ".concat(this.length," to ").concat(a)),this.length=a)):this.length=a,l},t.prototype.mergeToMap=function(t){var e=t.get(this.start);e?(this.notes.forEach((function(t){return e.addNote(t)})),0!==this.measureNumber&&(e.measureNumber=this.measureNumber)):t.set(this.start,this)},t.prototype.isMeasureBeginning=function(){return s(this.measureNumber-Math.floor(this.measureNumber))},t}();e.JianpuBlock=r},980:(t,e,i)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MeasuresInfo=void 0;var n=i(567),s=i(214),a=function(){function t(t,e){this.allowDottedRests=!0,this.measuresInfo=[];for(var i=0,a=0,r=0,o=t.tempos[0],h=t.keySignatures[0],l=t.timeSignatures[0],u=1,c=(0,n.getMeasureLength)(l),d=l.start,p=s.MIN_RESOLUTION,g=0;g<e;g+=p){var m={start:g,measureNumber:u+(g-d)/c,measureLength:c,tempo:o,keySignature:h,timeSignature:l};i<t.tempos.length&&Math.abs(t.tempos[i].start-g)<p/2&&(o=t.tempos[i++],m.tempo=o,m.tempoChange=!0),a<t.keySignatures.length&&Math.abs(t.keySignatures[a].start-g)<p/2&&(h=t.keySignatures[a++],m.keySignature=h,m.keyChange=!0),r<t.timeSignatures.length&&Math.abs(t.timeSignatures[r].start-g)<p/2&&(u+=(t.timeSignatures[r].start-d)/c,u=Math.round(1e3*u)/1e3,l=t.timeSignatures[r++],m.timeSignature=l,c=(0,n.getMeasureLength)(l),m.measureLength=c,m.measureNumber=u,m.timeChange=!0,d=m.start),this.measuresInfo.push(m)}}return t.prototype.findIndex=function(t){return Math.max(0,Math.min(this.measuresInfo.length-1,Math.floor(t/s.MIN_RESOLUTION)))},t.prototype.measureNumberAtQ=function(t){if(0===this.measuresInfo.length)return 1;var e=this.findIndex(t),i=this.measuresInfo[e],n=(t-i.start)/i.measureLength;return i.measureNumber+n+1e-9},t.prototype.measureLengthAtQ=function(t){if(0===this.measuresInfo.length)return(0,n.getMeasureLength)(n.DEFAULT_TIME_SIGNATURE);var e=this.findIndex(t);return this.measuresInfo[e].measureLength},t.prototype.tempoAtQ=function(t,e){if(void 0===e&&(e=!1),0===this.measuresInfo.length)return n.DEFAULT_TEMPO.qpm;var i=this.findIndex(t),a=this.measuresInfo[i],r=Math.abs(a.start-t)<s.MIN_RESOLUTION/2;return!e||a.tempoChange&&r?a.tempo.qpm:-1},t.prototype.keySignatureAtQ=function(t,e){if(void 0===e&&(e=!1),0===this.measuresInfo.length)return n.DEFAULT_KEY_SIGNATURE.key;var i=this.findIndex(t),a=this.measuresInfo[i],r=Math.abs(a.start-t)<s.MIN_RESOLUTION/2;return!e||a.keyChange&&r?a.keySignature.key:-1},t.prototype.timeSignatureAtQ=function(t,e){if(void 0===e&&(e=!1),0===this.measuresInfo.length)return n.DEFAULT_TIME_SIGNATURE;var i=this.findIndex(t),a=this.measuresInfo[i],r=Math.abs(a.start-t)<s.MIN_RESOLUTION/2;return!e||a.timeChange&&r?a.timeSignature:null},t.prototype.quartersToTime=function(t,e){var i=this.tempoAtQ(e);return i<=0?0:t/i*60},t.prototype.timeToQuarters=function(t,e){var i=this.tempoAtQ(e);if(i<=0)return 0;var n=t*i/60;return Math.round(n*s.MAX_QUARTER_DIVISION)/s.MAX_QUARTER_DIVISION},t.prototype.isBeatStart=function(t){if(0===this.measuresInfo.length)return!1;var e=this.findIndex(t),i=this.measuresInfo[e],n=i.timeSignature,a=(t-(i.start-(i.measureNumber-Math.floor(i.measureNumber))*i.measureLength))/(4/n.denominator);return Math.abs(a-Math.round(a))<s.MIN_RESOLUTION/2},t}();e.MeasuresInfo=a}},s={};function a(t){var e=s[t];if(void 0!==e)return e.exports;var i=s[t]={exports:{}};return n[t].call(i.exports,i,i.exports,a),i.exports}t=a(291),e=a(229),i=document.getElementById("demo-container"),t.testData.forEach((function(t,n){var s=document.createElement("div");s.className="test-case",s.innerHTML="\n    <h3>".concat(n+1,". ").concat(t.title,"</h3>\n    <p>").concat(t.description,'</p>\n    <div class="jianpu-container" id="case-').concat(n,'"></div>\n    <hr>\n  '),i.appendChild(s);var a=document.getElementById("case-".concat(n));new e.JianpuSVGRender(t.data,{},a)}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZW5kZXIvLi9kZW1vcy9iYXNpY19zeW1ib2xzLnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3NyYy9yZW5kZXJfY29uc3RhbnRzLnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3NyYy9qaWFucHVfc3ZnX3JlbmRlci50cyIsIndlYnBhY2s6Ly9qaWFucHVyZW5kZXIvLi9zcmMvamlhbnB1X21vZGVsLnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3NyYy9tb2RlbF9jb25zdGFudHMudHMiLCJ3ZWJwYWNrOi8vamlhbnB1cmVuZGVyLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3Rlc3QvYmFzaWNfc3ltYm9sc19mZWF0dXJlcy50cyIsIndlYnBhY2s6Ly9qaWFucHVyZW5kZXIvLi9zcmMvc3ZnX3BhdGhzLnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3NyYy9qaWFucHVfaW5mby50cyIsIndlYnBhY2s6Ly9qaWFucHVyZW5kZXIvLi9zcmMvc3ZnX3Rvb2xzLnRzIiwid2VicGFjazovL2ppYW5wdXJlbmRlci8uL3NyYy9qaWFucHVfYmxvY2sudHMiLCJ3ZWJwYWNrOi8vamlhbnB1cmVuZGVyLy4vc3JjL21lYXN1cmVfaW5mby50cyIsIndlYnBhY2s6Ly9qaWFucHVyZW5kZXIvd2VicGFjay9ib290c3RyYXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdGVzdERhdGEgfSBmcm9tICcuLi90ZXN0L2Jhc2ljX3N5bWJvbHNfZmVhdHVyZXMnO1xyXG5pbXBvcnQgeyBKaWFucHVTVkdSZW5kZXIgfSBmcm9tICcuLi9zcmMvaW5kZXgnO1xyXG5cclxuLy8gSW5pdGlhbGl6ZSBjb250YWluZXJcclxuY29uc3QgZGVtb0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZW1vLWNvbnRhaW5lcicpITtcclxuXHJcbi8vIFJlbmRlciBhbGwgdGVzdCBjYXNlc1xyXG50ZXN0RGF0YS5mb3JFYWNoKCh0ZXN0Q2FzZSwgaW5kZXgpID0+IHtcclxuICAvLyBDcmVhdGUgY2FzZSBjb250YWluZXJcclxuICBjb25zdCBjYXNlRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgY2FzZURpdi5jbGFzc05hbWUgPSAndGVzdC1jYXNlJztcclxuICBjYXNlRGl2LmlubmVySFRNTCA9IGBcclxuICAgIDxoMz4ke2luZGV4ICsgMX0uICR7dGVzdENhc2UudGl0bGV9PC9oMz5cclxuICAgIDxwPiR7dGVzdENhc2UuZGVzY3JpcHRpb259PC9wPlxyXG4gICAgPGRpdiBjbGFzcz1cImppYW5wdS1jb250YWluZXJcIiBpZD1cImNhc2UtJHtpbmRleH1cIj48L2Rpdj5cclxuICAgIDxocj5cclxuICBgO1xyXG4gIGRlbW9Db250YWluZXIuYXBwZW5kQ2hpbGQoY2FzZURpdik7XHJcblxyXG4gIC8vIFJlbmRlciBub3RhdGlvblxyXG4gIGNvbnN0IGppYW5wdUNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBjYXNlLSR7aW5kZXh9YCkhIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gIG5ldyBKaWFucHVTVkdSZW5kZXIodGVzdENhc2UuZGF0YSwge30sIGppYW5wdUNvbnRhaW5lcik7XHJcbn0pOyIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbi8qKiBTdHJva2Ugd2lkdGggZm9yIGxpbmVzIGxpa2UgYmFyIGxpbmVzLCB1bmRlcmxpbmVzICovXHJcbmV4cG9ydCBjb25zdCBMSU5FX1NUUk9LRV9XSURUSCA9IDE7IC8vIFBpeGVsIHdpZHRoIGZvciBTVkcgc3Ryb2tlc1xyXG5cclxuLyoqIEhvcml6b250YWwgc3BhY2luZyBtdWx0aXBsaWVyIGluIGNvbXBhY3QgbW9kZSAocmVsYXRpdmUgdG8gYmFzZSBub3RlIHNpemUpICovXHJcbmV4cG9ydCBjb25zdCBDT01QQUNUX1NQQUNJTkdfRkFDVE9SID0gMS41OyAvLyBlLmcuLCAxLjUgdGltZXMgdGhlIG5vdGUgbnVtYmVyIHdpZHRoXHJcblxyXG4vKiogVmVydGljYWwgc3BhY2luZyBiZXR3ZWVuIHVuZGVybGluZXMgKHJlbGF0aXZlIHRvIG5vdGUgaGVpZ2h0KSAqL1xyXG5leHBvcnQgY29uc3QgVU5ERVJMSU5FX1NQQUNJTkdfRkFDVE9SID0gMC4yO1xyXG5cclxuLyoqIFZlcnRpY2FsIG9mZnNldCBmb3Igb2N0YXZlIGRvdHMgKHJlbGF0aXZlIHRvIG5vdGUgaGVpZ2h0KSAqL1xyXG5leHBvcnQgY29uc3QgT0NUQVZFX0RPVF9PRkZTRVRfRkFDVE9SID0gMS4wO1xyXG5cclxuLyoqIFNpemUgb2Ygb2N0YXZlL2F1Z21lbnRhdGlvbiBkb3RzIChyZWxhdGl2ZSB0byBub3RlIGhlaWdodCkgKi9cclxuZXhwb3J0IGNvbnN0IERPVF9TSVpFX0ZBQ1RPUiA9IDAuMTtcclxuXHJcbi8qKiBMZW5ndGggb2YgYXVnbWVudGF0aW9uIGRhc2ggKHJlbGF0aXZlIHRvIG5vdGUgd2lkdGgpICovXHJcbmV4cG9ydCBjb25zdCBBVUdNRU5UQVRJT05fREFTSF9GQUNUT1IgPSAwLjg7XHJcblxyXG4vKiogSG9yaXpvbnRhbCBzcGFjaW5nIGFmdGVyIGFjY2lkZW50YWxzIChyZWxhdGl2ZSB0byBub3RlIGhlaWdodCkgKi9cclxuZXhwb3J0IGNvbnN0IEFDQ0lERU5UQUxfU1BBQ0lOR19GQUNUT1IgPSAwLjE7XHJcblxyXG4vKiogSG9yaXpvbnRhbCBzcGFjaW5nIGFmdGVyIGF1Z21lbnRhdGlvbiBkb3RzL2Rhc2hlcyAocmVsYXRpdmUgdG8gbm90ZSBoZWlnaHQpICovXHJcbmV4cG9ydCBjb25zdCBBVUdNRU5UQVRJT05fU1BBQ0lOR19GQUNUT1IgPSAwLjI7XHJcblxyXG4vKiogRGVmYXVsdCBmb250IHNpemUgbXVsdGlwbGllciByZWxhdGl2ZSB0byBjb25maWcubm90ZUhlaWdodCAqL1xyXG5leHBvcnQgY29uc3QgRk9OVF9TSVpFX01VTFRJUExJRVIgPSAxLjI7IC8vIEFkanVzdCBmb3IgZ29vZCBudW1iZXIgc2l6ZVxyXG5cclxuLyoqIEZvbnQgc2l6ZSBtdWx0aXBsaWVyIGZvciBzbWFsbGVyIGVsZW1lbnRzIGxpa2UgYWNjaWRlbnRhbHMsIHRpbWUgc2lnbmF0dXJlcyAqL1xyXG5leHBvcnQgY29uc3QgU01BTExfRk9OVF9TSVpFX01VTFRJUExJRVIgPSAwLjc1O1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBEVVJBVElPTl9MSU5FX1NDQUxFUyA9IG5ldyBNYXA8bnVtYmVyLCBudW1iZXI+KFtcclxuICAgIFsxLCAxLjc4XSxcclxuICAgIFsyLCAxLjZdLCBcclxuICAgIFszLCAxLjNdLFxyXG4gICAgWzQsIDEuMTVdXHJcbl0pOyIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgTElORV9TVFJPS0VfV0lEVEgsIENPTVBBQ1RfU1BBQ0lOR19GQUNUT1IsIFVOREVSTElORV9TUEFDSU5HX0ZBQ1RPUixcclxuICBPQ1RBVkVfRE9UX09GRlNFVF9GQUNUT1IsIERPVF9TSVpFX0ZBQ1RPUiwgQVVHTUVOVEFUSU9OX0RBU0hfRkFDVE9SLFxyXG4gIEZPTlRfU0laRV9NVUxUSVBMSUVSLCBTTUFMTF9GT05UX1NJWkVfTVVMVElQTElFUiwgRFVSQVRJT05fTElORV9TQ0FMRVNcclxufSBmcm9tICcuL3JlbmRlcl9jb25zdGFudHMnO1xyXG5cclxuaW1wb3J0IHtcclxuICBTVkdOUywgZHJhd1NWR1BhdGgsIGRyYXdTVkdUZXh0LCBjcmVhdGVTVkdHcm91cENoaWxkLCBzZXRCbGlua0FuaW1hdGlvbixcclxuICBzZXRTdHJva2UsIGhpZ2hsaWdodEVsZW1lbnQsIHJlc2V0RWxlbWVudEhpZ2hsaWdodFxyXG59IGZyb20gJy4vc3ZnX3Rvb2xzJztcclxuXHJcbmltcG9ydCAge1xyXG4gIFBBVEhfU0NBTEUsIEFDQ0lERU5UQUxfVEVYVCwgLy8gVXNpbmcgdGV4dCBmb3IgYWNjaWRlbnRhbHNcclxuICBiYXJQYXRoLCB1bmRlcmxpbmVQYXRoLCBhdWdtZW50YXRpb25EYXNoUGF0aCwgdGllUGF0aCwgZG90UGF0aFxyXG59IGZyb20gJy4vc3ZnX3BhdGhzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgSmlhbnB1SW5mbywgVGltZVNpZ25hdHVyZUluZm8sIE5vdGVJbmZvLFxyXG4gICBERUZBVUxUX1RJTUVfU0lHTkFUVVJFXHJcbn0gZnJvbSAnLi9qaWFucHVfaW5mbyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIEppYW5wdUJsb2NrLCBKaWFucHVOb3RlXHJcbn0gZnJvbSAnLi9qaWFucHVfYmxvY2snO1xyXG5cclxuaW1wb3J0IHtcclxuICBKaWFucHVNb2RlbFxyXG59IGZyb20gJy4vamlhbnB1X21vZGVsJztcclxuXHJcbmltcG9ydCB7IFBJVENIX0NMQVNTX05BTUVTIH0gZnJvbSAnLi9tb2RlbF9jb25zdGFudHMnO1xyXG5cclxuXHJcbi8qKlxyXG4gKiBFbnVtZXJhdGlvbiBvZiBkaWZmZXJlbnQgd2F5cyBvZiBob3Jpem9udGFsIHNjb3JlIHNjcm9sbGluZy5cclxuICovXHJcbmV4cG9ydCBlbnVtIFNjcm9sbFR5cGUge1xyXG4gIFBBR0UgPSAwLCAvLyBTY3JvbGwgcGFnZSBieSBwYWdlXHJcbiAgTk9URSA9IDEsIC8vIENlbnRlciBlYWNoIGhpZ2hsaWdodGVkIG5vdGVcclxuICBCQVIgPSAyICAgLy8gU2Nyb2xsIHRvIGNlbnRlciB0aGUgc3RhcnQgb2YgYSBtZWFzdXJlIHdoZW4gaXRzIGZpcnN0IG5vdGUgaXMgaGlnaGxpZ2h0ZWRcclxufVxyXG5cclxuLyoqXHJcbiAqIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgSmlhbnB1U1ZHUmVuZGVyLlxyXG4gKi9cclxuZXhwb3J0IGludGVyZmFjZSBKaWFucHVTVkdSZW5kZXJDb25maWcge1xyXG4gIC8qKiBCYXNlIHZlcnRpY2FsIGhlaWdodCBpbiBwaXhlbHMgZm9yIGEgc3RhbmRhcmQgbm90ZSBudW1iZXIgKGUuZy4sICcxJykuIENvbnRyb2xzIG92ZXJhbGwgc2NhbGUuICovXHJcbiAgbm90ZUhlaWdodD86IG51bWJlcjtcclxuICAvKiogSG9yaXpvbnRhbCBzcGFjaW5nIGZhY3RvciBpbiBDT01QQUNUIG1vZGUgKG11bHRpcGxlIG9mIG5vdGUgd2lkdGgpLiBUaGlzIGZhY3RvciBkZXRlcm1pbmVzIHRoZSBiYXNlIGdhcCAqYWZ0ZXIqIGEgbm90ZS4gKi9cclxuICBub3RlU3BhY2luZ0ZhY3Rvcj86IG51bWJlcjtcclxuICAvKiogUGl4ZWxzIHBlciBxdWFydGVyIG5vdGUgaW4gUFJPUE9SVElPTkFMIG1vZGUuIDAgb3IgdW5kZWZpbmVkIGZvciBDT01QQUNUIG1vZGUuICovXHJcbiAgcGl4ZWxzUGVyVGltZVN0ZXA/OiBudW1iZXI7XHJcbiAgLyoqIENvbG9yIGZvciBzdGFuZGFyZCBub3Rlcy9zeW1ib2xzIChSR0Igc3RyaW5nIG9yIENTUyBjb2xvciBuYW1lKS4gKi9cclxuICBub3RlQ29sb3I/OiBzdHJpbmc7XHJcbiAgLyoqIENvbG9yIGZvciBoaWdobGlnaHRlZC9hY3RpdmUgbm90ZXMgKFJHQiBzdHJpbmcgb3IgQ1NTIGNvbG9yIG5hbWUpLiAqL1xyXG4gIGFjdGl2ZU5vdGVDb2xvcj86IHN0cmluZztcclxuICAvKiogRGVmYXVsdCBrZXkgc2lnbmF0dXJlICgwLTExKSBpZiBub3Qgc3BlY2lmaWVkIGluIEppYW5wdUluZm8gYXQgdGltZSAwLiAqL1xyXG4gIGRlZmF1bHRLZXk/OiBudW1iZXI7XHJcbiAgLyoqIFNjcm9sbCBiZWhhdmlvciBkdXJpbmcgcGxheWJhY2suICovXHJcbiAgc2Nyb2xsVHlwZT86IFNjcm9sbFR5cGU7XHJcbiAgLyoqIEZvbnQgZmFtaWx5IGZvciByZW5kZXJpbmcgbnVtYmVycyBhbmQgdGV4dC4gKi9cclxuICBmb250RmFtaWx5Pzogc3RyaW5nO1xyXG4gIC8qKiBFeHBsaWNpdGx5IHNldCB0aGUgd2lkdGggb2YgdGhlIFNWRyBjb250YWluZXIgKi9cclxuICB3aWR0aD86IG51bWJlcjtcclxuICAgLyoqIEV4cGxpY2l0bHkgc2V0IHRoZSBoZWlnaHQgb2YgdGhlIFNWRyBjb250YWluZXIgKi9cclxuICBoZWlnaHQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBJbnRlcm5hbCBzdHJ1Y3R1cmUgdG8gdHJhY2sgdmlzdWFsIGVsZW1lbnRzIHRpZWQgdG9nZXRoZXIgKGUuZy4sIGFjcm9zcyBibG9ja3MpLiAqL1xyXG5pbnRlcmZhY2UgTGlua2VkU1ZHRGV0YWlscyB7XHJcbiAgLyoqIFRoZSBTVkcgZ3JvdXAgZWxlbWVudCBjb250YWluaW5nIHRoZSBub3RlIHBhcnRzLiAqL1xyXG4gIGc6IFNWR0dFbGVtZW50O1xyXG4gIC8qKiB4IHBvc2l0aW9uIGF0IHRoZSByaWdodG1vc3QgZWRnZSBvZiB0aGUgbm90ZSBudW1iZXIvZG90cy9kYXNoZXMgKGZvciB0aWUgc3RhcnQpLiAqL1xyXG4gIHhOb3RlUmlnaHQ6IG51bWJlcjtcclxuICAvKiogeSBwb3NpdGlvbiBvZiB0aGUgbm90ZSBudW1iZXIgYmFzZWxpbmUgKGZvciB0aWUgdmVydGljYWwgcGxhY2VtZW50KS4gKi9cclxuICB5Tm90ZUJhc2VsaW5lOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBNYXAgdG8gbGluayBsb2dpY2FsIG5vdGVzIHRvIHRoZWlyIHJlbmRlcmVkIFNWRyBlbGVtZW50cyBmb3IgdGllcy4gKi9cclxudHlwZSBMaW5rZWROb3RlTWFwID0gTWFwPEppYW5wdU5vdGUsIExpbmtlZFNWR0RldGFpbHM+O1xyXG5cclxuLyoqXHJcbiAqIFJlbmRlcnMgYEppYW5wdUluZm9gIGRhdGEgYXMgbnVtYmVyZWQgbXVzaWNhbCBub3RhdGlvbiAoSmlhbnB1KSBpbiBhbiBTVkcgZWxlbWVudC5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBKaWFucHVTVkdSZW5kZXIge1xyXG4gIHB1YmxpYyBqaWFucHVJbmZvOiBKaWFucHVJbmZvO1xyXG4gIHB1YmxpYyBqaWFucHVNb2RlbDogSmlhbnB1TW9kZWw7XHJcbiAgcHJpdmF0ZSBjb25maWc6IFJlcXVpcmVkPEppYW5wdVNWR1JlbmRlckNvbmZpZz47IC8vIFVzZSBSZXF1aXJlZCBmb3IgaW50ZXJuYWwgY29uc2lzdGVuY3lcclxuICBwcml2YXRlIGhlaWdodDogbnVtYmVyO1xyXG4gIHByaXZhdGUgd2lkdGg6IG51bWJlcjtcclxuXHJcbiAgLy8gU1ZHIEVsZW1lbnRzXHJcbiAgcHJpdmF0ZSBwYXJlbnRFbGVtZW50OiBIVE1MRWxlbWVudDsgLy8gVGhlIHVzZXItcHJvdmlkZWQgY29udGFpbmVyIGRpdidzIGRpcmVjdCBjaGlsZCBmb3Igc2Nyb2xsaW5nXHJcbiAgcHJpdmF0ZSBkaXY6IEhUTUxEaXZFbGVtZW50OyAgICAgICAvLyBUaGUgdXNlci1wcm92aWRlZCBjb250YWluZXIgZGl2XHJcbiAgcHJpdmF0ZSBtYWluU1ZHOiBTVkdTVkdFbGVtZW50OyAgICAvLyBUaGUgbWFpbiBTVkcgZHJhd2luZyBhcmVhXHJcbiAgcHJpdmF0ZSBtYWluRzogU1ZHR0VsZW1lbnQ7ICAgICAgICAvLyBUb3AtbGV2ZWwgZ3JvdXAgaW4gbWFpblNWRyBmb3IgdHJhbnNmb3Jtc1xyXG4gIHByaXZhdGUgbXVzaWNHOiBTVkdHRWxlbWVudDsgICAgICAgLy8gR3JvdXAgZm9yIG5vdGVzLCByZXN0cywgdGllcywgYmFyIGxpbmVzXHJcbiAgcHJpdmF0ZSBzaWduYXR1cmVzRzogU1ZHR0VsZW1lbnQ7ICAvLyBHcm91cCBmb3Iga2V5L3RpbWUgc2lnbmF0dXJlcyAqd2l0aGluKiB0aGUgc2Nyb2xsYWJsZSBhcmVhXHJcbiAgcHJpdmF0ZSBvdmVybGF5U1ZHOiBTVkdTVkdFbGVtZW50OyAvLyBGaXhlZCBvdmVybGF5IFNWRyBmb3IgY3VycmVudCBzaWduYXR1cmVzXHJcbiAgcHJpdmF0ZSBvdmVybGF5RzogU1ZHR0VsZW1lbnQ7ICAgICAvLyBHcm91cCB3aXRoaW4gb3ZlcmxheVNWR1xyXG5cclxuICAvLyBTdGF0ZVxyXG4gIHByaXZhdGUgc2lnbmF0dXJlc0JsaW5raW5nOiBib29sZWFuO1xyXG4gIHByaXZhdGUgbGFzdEtub3duU2Nyb2xsTGVmdDogbnVtYmVyO1xyXG4gIHByaXZhdGUgaXNTY3JvbGxpbmc6IGJvb2xlYW47XHJcbiAgcHJpdmF0ZSBjdXJyZW50S2V5OiBudW1iZXI7XHJcbiAgcHJpdmF0ZSBjdXJyZW50VGltZVNpZ25hdHVyZTogVGltZVNpZ25hdHVyZUluZm87XHJcbiAgcHJpdmF0ZSBwbGF5aW5nTm90ZXM6IE1hcDxzdHJpbmcsIE5vdGVJbmZvPjsgLy8gTWFwIGtleTogYCR7c3RhcnR9LSR7cGl0Y2h9YFxyXG4gIHByaXZhdGUgbGFzdFJlbmRlcmVkUTogbnVtYmVyOyAvLyBUcmFjayB0aGUgbGFzdCBxdWFydGVyIG5vdGUgdGltZSByZW5kZXJlZFxyXG4gIHByaXZhdGUgZXN0aW1hdGVkTm90ZVdpZHRoOiBudW1iZXI7IC8vIEVzdGltYXRlZCB3aWR0aCBvZiBhIGJhc2ljIG51bWJlciBmb3Igc3BhY2luZ1xyXG5cclxuICAvLyBMYXlvdXQgJiBTY2FsaW5nXHJcbiAgcHJpdmF0ZSBudW1iZXJGb250U2l6ZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgc21hbGxGb250U2l6ZTogbnVtYmVyO1xyXG4gIHByaXZhdGUgeUJhc2VsaW5lOiBudW1iZXI7IC8vIFZlcnRpY2FsIHBvc2l0aW9uIGZvciB0aGUgbnVtYmVyIGJhc2VsaW5lXHJcblxyXG5cclxuICAvKipcclxuICAgKiBgSmlhbnB1U1ZHUmVuZGVyYCBjb25zdHJ1Y3Rvci5cclxuICAgKiBAcGFyYW0gc2NvcmUgVGhlIGBKaWFucHVJbmZvYCB0byB2aXN1YWxpemUuXHJcbiAgICogQHBhcmFtIGNvbmZpZyBWaXN1YWxpemF0aW9uIGNvbmZpZ3VyYXRpb24gb3B0aW9ucy5cclxuICAgKiBAcGFyYW0gZGl2IFRoZSBIVE1MRGl2RWxlbWVudCB3aGVyZSB0aGUgdmlzdWFsaXphdGlvbiBzaG91bGQgYmUgZGlzcGxheWVkLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKFxyXG4gICAgc2NvcmU6IEppYW5wdUluZm8sXHJcbiAgICBjb25maWc6IEppYW5wdVNWR1JlbmRlckNvbmZpZyxcclxuICAgIGRpdjogSFRNTERpdkVsZW1lbnRcclxuICApIHtcclxuICAgIHRoaXMuamlhbnB1SW5mbyA9IHNjb3JlO1xyXG4gICAgdGhpcy5kaXYgPSBkaXY7XHJcblxyXG4gICAgLy8gLS0tIERlZmF1bHQgQ29uZmlndXJhdGlvbiAtLS1cclxuICAgIGNvbnN0IGRlZmF1bHROb3RlSGVpZ2h0ID0gMjA7IC8vIEJhc2Ugc2l6ZSBpbiBwaXhlbHNcclxuICAgIGNvbnN0IGRlZmF1bHRQaXhlbHNQZXJUaW1lU3RlcCA9IDA7IC8vIERlZmF1bHQgdG8gY29tcGFjdCBtb2RlXHJcbiAgICB0aGlzLmNvbmZpZyA9IHtcclxuICAgICAgbm90ZUhlaWdodDogY29uZmlnLm5vdGVIZWlnaHQgPz8gZGVmYXVsdE5vdGVIZWlnaHQsXHJcbiAgICAgIG5vdGVTcGFjaW5nRmFjdG9yOiBjb25maWcubm90ZVNwYWNpbmdGYWN0b3IgPz8gQ09NUEFDVF9TUEFDSU5HX0ZBQ1RPUixcclxuICAgICAgcGl4ZWxzUGVyVGltZVN0ZXA6IGNvbmZpZy5waXhlbHNQZXJUaW1lU3RlcCA/PyBkZWZhdWx0UGl4ZWxzUGVyVGltZVN0ZXAsXHJcbiAgICAgIG5vdGVDb2xvcjogY29uZmlnLm5vdGVDb2xvciA/PyAnYmxhY2snLFxyXG4gICAgICBhY3RpdmVOb3RlQ29sb3I6IGNvbmZpZy5hY3RpdmVOb3RlQ29sb3IgPz8gJ3JlZCcsXHJcbiAgICAgIGRlZmF1bHRLZXk6IGNvbmZpZy5kZWZhdWx0S2V5ID8/IDAsIC8vIERlZmF1bHQgdG8gQyBNYWpvclxyXG4gICAgICBzY3JvbGxUeXBlOiBjb25maWcuc2Nyb2xsVHlwZSA/PyBTY3JvbGxUeXBlLlBBR0UsXHJcbiAgICAgIGZvbnRGYW1pbHk6IGNvbmZpZy5mb250RmFtaWx5ID8/ICdzYW5zLXNlcmlmJyxcclxuICAgICAgd2lkdGg6IGNvbmZpZy53aWR0aCA/PyAwLCAvLyBBdXRvLXdpZHRoIGJ5IGRlZmF1bHRcclxuICAgICAgaGVpZ2h0OiBjb25maWcuaGVpZ2h0ID8/IDAsIC8vIEF1dG8taGVpZ2h0IGJ5IGRlZmF1bHRcclxuICAgIH07XHJcblxyXG4gICAgIC8vIC0tLSBJbml0aWFsIE1vZGVsIENyZWF0aW9uIC0tLVxyXG4gICAgdGhpcy5qaWFucHVNb2RlbCA9IG5ldyBKaWFucHVNb2RlbCh0aGlzLmppYW5wdUluZm8sIHRoaXMuY29uZmlnLmRlZmF1bHRLZXkpO1xyXG4gICAgdGhpcy5jdXJyZW50S2V5ID0gdGhpcy5qaWFucHVNb2RlbC5tZWFzdXJlc0luZm8ua2V5U2lnbmF0dXJlQXRRKDApO1xyXG4gICAgdGhpcy5jdXJyZW50VGltZVNpZ25hdHVyZSA9IHRoaXMuamlhbnB1TW9kZWwubWVhc3VyZXNJbmZvLnRpbWVTaWduYXR1cmVBdFEoMCkgPz8gREVGQVVMVF9USU1FX1NJR05BVFVSRTtcclxuXHJcblxyXG4gICAgLy8gLS0tIEluaXRpYWxpemUgU3RhdGUgJiBMYXlvdXQgLS0tXHJcbiAgICB0aGlzLnBsYXlpbmdOb3RlcyA9IG5ldyBNYXAoKTtcclxuICAgIHRoaXMubGFzdFJlbmRlcmVkUSA9IC0xO1xyXG4gICAgdGhpcy5zaWduYXR1cmVzQmxpbmtpbmcgPSBmYWxzZTtcclxuICAgIHRoaXMubGFzdEtub3duU2Nyb2xsTGVmdCA9IDA7XHJcbiAgICB0aGlzLmlzU2Nyb2xsaW5nID0gZmFsc2U7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHNjYWxpbmcgYW5kIGZvbnQgc2l6ZXMgYmFzZWQgb24gbm90ZUhlaWdodFxyXG4gICAgdGhpcy5udW1iZXJGb250U2l6ZSA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBGT05UX1NJWkVfTVVMVElQTElFUjtcclxuICAgIHRoaXMuc21hbGxGb250U2l6ZSA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBTTUFMTF9GT05UX1NJWkVfTVVMVElQTElFUjtcclxuICAgICAvLyBFc3RpbWF0ZSB3aWR0aCBmb3Igc3BhY2luZyAoY3J1ZGUsIG1pZ2h0IG5lZWQgbWVhc3VyZW1lbnQpXHJcbiAgICB0aGlzLmVzdGltYXRlZE5vdGVXaWR0aCA9IHRoaXMubnVtYmVyRm9udFNpemUgKiAwLjY7IC8vIEd1ZXNzIGJhc2VkIG9uIHR5cGljYWwgZm9udCBhc3BlY3QgcmF0aW9cclxuICAgIC8vIFBvc2l0aW9uIGJhc2VsaW5lOiBwbGFjZSBpdCBzbGlnaHRseSBhYm92ZSBjZW50ZXIgZm9yIGJhbGFuY2VkIGxvb2sgd2l0aCBkb3RzL2xpbmVzXHJcbiAgICB0aGlzLnlCYXNlbGluZSA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiAxLjU7IC8vIFN0YXJ0IGJhc2VsaW5lIGxvd2VyIHRvIGFsbG93IHNwYWNlIGFib3ZlXHJcblxyXG4gICAgdGhpcy5oZWlnaHQgPSAwOyAvLyBXaWxsIGJlIGNhbGN1bGF0ZWRcclxuICAgIHRoaXMud2lkdGggPSAwOyAvLyBXaWxsIGJlIGNhbGN1bGF0ZWRcclxuXHJcbiAgICB0aGlzLmNsZWFyKCk7IC8vIFNldHVwIFNWRyBzdHJ1Y3R1cmVcclxuICAgIHRoaXMucmVkcmF3KCk7IC8vIEluaXRpYWwgZHJhd2luZ1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXJzIHRoZSBTVkcgZWxlbWVudHMgYW5kIHJlc2V0cyBpbnRlcm5hbCBzdGF0ZSBmb3IgYSBmcmVzaCBkcmF3LlxyXG4gICAqL1xyXG4gIHB1YmxpYyBjbGVhcigpIHtcclxuICAgIC8vIEVtcHR5IHRoZSBjb250YWluZXIgZGl2XHJcbiAgICB3aGlsZSAodGhpcy5kaXYubGFzdENoaWxkKSB7XHJcbiAgICAgIHRoaXMuZGl2LnJlbW92ZUNoaWxkKHRoaXMuZGl2Lmxhc3RDaGlsZCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmRpdi5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7IC8vIE5lZWRlZCBmb3Igb3ZlcmxheSBwb3NpdGlvbmluZ1xyXG4gICAgdGhpcy5kaXYuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJzsgLy8gSGlkZSBpbnRlcm5hbCBzY3JvbGxiYXJzIGlmIHBhcmVudEVsZW1lbnQgc2Nyb2xsc1xyXG5cclxuICAgIC8vIC0tLSBPdmVybGF5IGZvciBGaXhlZCBTaWduYXR1cmVzIC0tLVxyXG4gICAgdGhpcy5vdmVybGF5U1ZHID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCAnc3ZnJyk7XHJcbiAgICB0aGlzLm92ZXJsYXlTVkcuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xyXG4gICAgdGhpcy5vdmVybGF5U1ZHLnN0eWxlLmxlZnQgPSAnMCc7XHJcbiAgICB0aGlzLm92ZXJsYXlTVkcuc3R5bGUudG9wID0gJzAnO1xyXG4gICAgdGhpcy5vdmVybGF5U1ZHLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7IC8vIEFsbG93IGludGVyYWN0aW9uIHdpdGggY29udGVudCBiZWxvd1xyXG4gICAgdGhpcy5kaXYuYXBwZW5kQ2hpbGQodGhpcy5vdmVybGF5U1ZHKTtcclxuICAgIHRoaXMub3ZlcmxheUcgPSBjcmVhdGVTVkdHcm91cENoaWxkKHRoaXMub3ZlcmxheVNWRywgJ292ZXJsYXknKTtcclxuXHJcbiAgICAvLyAtLS0gU2Nyb2xsYWJsZSBDb250YWluZXIgLS0tXHJcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIHRoaXMucGFyZW50RWxlbWVudC5zdHlsZS5vdmVyZmxvd1ggPSAnYXV0byc7IC8vIEVuYWJsZSBob3Jpem9udGFsIHNjcm9sbGluZ1xyXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nOyAvLyBWZXJ0aWNhbCBzY3JvbGwgbWFuYWdlZCBieSBvdmVyYWxsIGhlaWdodFxyXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLndpZHRoID0gJzEwMCUnO1xyXG4gICAgdGhpcy5wYXJlbnRFbGVtZW50LnN0eWxlLmhlaWdodCA9ICcxMDAlJzsgLy8gVGFrZSBhdmFpbGFibGUgc3BhY2VcclxuICAgIHRoaXMuZGl2LmFwcGVuZENoaWxkKHRoaXMucGFyZW50RWxlbWVudCk7XHJcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5oYW5kbGVTY3JvbGxFdmVudCk7XHJcblxyXG4gICAgLy8gLS0tIE1haW4gU1ZHIGZvciBTY29yZSBDb250ZW50IC0tLVxyXG4gICAgdGhpcy5tYWluU1ZHID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCAnc3ZnJyk7XHJcbiAgICB0aGlzLm1haW5TVkcuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7IC8vIFByZXZlbnQgZXh0cmEgc3BhY2UgYmVsb3cgU1ZHXHJcbiAgICB0aGlzLnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5tYWluU1ZHKTtcclxuICAgIHRoaXMubWFpbkcgPSBjcmVhdGVTVkdHcm91cENoaWxkKHRoaXMubWFpblNWRywgJ21haW4tY29udGVudCcpO1xyXG5cclxuICAgIC8vIFNwZWNpZmljIGxheWVycyB3aXRoaW4gbWFpbiBjb250ZW50XHJcbiAgICB0aGlzLnNpZ25hdHVyZXNHID0gY3JlYXRlU1ZHR3JvdXBDaGlsZCh0aGlzLm1haW5HLCAnc2lnbmF0dXJlcycpOyAvLyBJbi1saW5lIHNpZ25hdHVyZXNcclxuICAgIHRoaXMubXVzaWNHID0gY3JlYXRlU1ZHR3JvdXBDaGlsZCh0aGlzLm1haW5HLCAnbXVzaWMnKTsgLy8gTm90ZXMsIHJlc3RzLCBiYXJzLCB0aWVzXHJcblxyXG4gICAgLy8gUmVzZXQgc3RhdGVcclxuICAgIHRoaXMucGxheWluZ05vdGVzLmNsZWFyKCk7XHJcbiAgICB0aGlzLmxhc3RSZW5kZXJlZFEgPSAtMTtcclxuICAgIHRoaXMuc2lnbmF0dXJlc0JsaW5raW5nID0gZmFsc2U7XHJcbiAgICB0aGlzLmxhc3RLbm93blNjcm9sbExlZnQgPSAwO1xyXG4gICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWlnaHQgPiAwID8gdGhpcy5jb25maWcuaGVpZ2h0IDogdGhpcy5jb25maWcubm90ZUhlaWdodCAqIDU7IC8vIEluaXRpYWwgZ3Vlc3NcclxuICAgIHRoaXMud2lkdGggPSB0aGlzLmNvbmZpZy53aWR0aCA+IDAgPyB0aGlzLmNvbmZpZy53aWR0aCA6IDA7XHJcblxyXG4gICAgLy8gSW5pdGlhbCBzaWduYXR1cmUgc2V0dXBcclxuICAgIHRoaXMuY3VycmVudEtleSA9IHRoaXMuamlhbnB1TW9kZWwubWVhc3VyZXNJbmZvLmtleVNpZ25hdHVyZUF0USgwKTtcclxuICAgIHRoaXMuY3VycmVudFRpbWVTaWduYXR1cmUgPSB0aGlzLmppYW5wdU1vZGVsLm1lYXN1cmVzSW5mby50aW1lU2lnbmF0dXJlQXRRKDApID8/IERFRkFVTFRfVElNRV9TSUdOQVRVUkU7XHJcbiAgICB0aGlzLmRyYXdTaWduYXR1cmVzKHRoaXMub3ZlcmxheUcsIDAsIHRydWUsIHRydWUpOyAvLyBEcmF3IGluaXRpYWwgc2lnbmF0dXJlcyBpbiBvdmVybGF5XHJcbiAgICB0aGlzLnVwZGF0ZUxheW91dCgpOyAvLyBTZXQgaW5pdGlhbCBzaXplc1xyXG4gIH1cclxuXHJcbiAgLyoqIFVwZGF0ZXMgU1ZHIGFuZCBjb250YWluZXIgZGltZW5zaW9ucyAqL1xyXG4gICBwcml2YXRlIHVwZGF0ZUxheW91dChjb250ZW50V2lkdGg/OiBudW1iZXIpIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gY29udGVudFdpZHRoID8/IHRoaXMud2lkdGg7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLndpZHRoID4gMCkge1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gdGhpcy5jb25maWcud2lkdGg7XHJcbiAgICAgICAgfVxyXG4gICBcclxuICAgICAgICAvLyDlop7liqDln7rnur/lgY/np7vph4/vvIzkuLrnrb7lkI3nlZnlh7rmm7TlpJrnqbrpl7RcclxuICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMuaGVpZ2h0LCB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogNik7IC8vIOS7jjXlop7liqDliLA2XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmhlaWdodCA+IDApIHtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB0aGlzLmNvbmZpZy5oZWlnaHQ7XHJcbiAgICAgICAgfVxyXG4gICBcclxuICAgICAgICAvLyDlop7liqB5QmFzZWxpbmXnmoTlgLzvvIzkvb/kuZDosLHlhoXlrrnkuIvnp7tcclxuICAgICAgICBjb25zdCB2ZXJ0aWNhbFBhZGRpbmcgPSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogMS42NTsgLy8g5aKe5Yqgbm90ZUhlaWdodOeahOmXtOi3nVxyXG4gICAgICAgIHRoaXMubWFpblNWRy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgYCR7dGhpcy53aWR0aH1gKTtcclxuICAgICAgICB0aGlzLm1haW5TVkcuc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBgJHt0aGlzLmhlaWdodH1gKTtcclxuICAgICAgICB0aGlzLm1haW5HLnNldEF0dHJpYnV0ZSgndHJhbnNmb3JtJywgYHRyYW5zbGF0ZSgwLCAke3RoaXMueUJhc2VsaW5lICsgdmVydGljYWxQYWRkaW5nfSlgKTsgLy8g5aKe5Yqg5Z6C55u06Ze06LedXHJcbiAgIFxyXG4gICAgICAgIHRoaXMub3ZlcmxheVNWRy5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgJzIwMCcpO1xyXG4gICAgICAgIHRoaXMub3ZlcmxheVNWRy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGAke3RoaXMuaGVpZ2h0fWApO1xyXG4gICAgICAgIHRoaXMub3ZlcmxheUcuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKDAsICR7dGhpcy55QmFzZWxpbmV9KWApOyAvLyDnrb7lkI3kv53mjIHljp/kvY3nva5cclxuICAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWRyYXdzIHRoZSBzY29yZSBvciBoaWdobGlnaHRzIG5vdGVzLlxyXG4gICAqIElmIGBhY3RpdmVOb3RlYCBpcyBwcm92aWRlZCwgaGlnaGxpZ2h0cyB0aGF0IG5vdGUgYW5kIGRlYWN0aXZhdGVzIG90aGVycy5cclxuICAgKiBJZiBgYWN0aXZlTm90ZWAgaXMgbnVsbC91bmRlZmluZWQsIHJlZHJhd3MgYW55IHBhcnQgb2YgdGhlIHNjb3JlXHJcbiAgICogbm90IHlldCByZW5kZXJlZCAoaW5jcmVtZW50YWwgZHJhd2luZykuXHJcbiAgICogQHBhcmFtIGFjdGl2ZU5vdGUgVGhlIG5vdGUgdG8gaGlnaGxpZ2h0IChvcHRpb25hbCkuXHJcbiAgICogQHBhcmFtIHNjcm9sbEludG9WaWV3IElmIHRydWUsIHNjcm9sbCB0aGUgdmlldyB0byB0aGUgYWN0aXZlIG5vdGUgKG9wdGlvbmFsKS5cclxuICAgKiBAcmV0dXJucyBUaGUgeC1wb3NpdGlvbiBvZiB0aGUgaGlnaGxpZ2h0ZWQgbm90ZSwgb3IgLTEuXHJcbiAgICovXHJcbiAgcHVibGljIHJlZHJhdyhcclxuICAgIGFjdGl2ZU5vdGU/OiBOb3RlSW5mbyxcclxuICAgIHNjcm9sbEludG9WaWV3PzogYm9vbGVhblxyXG4gICk6IG51bWJlciB7XHJcbiAgICBsZXQgYWN0aXZlTm90ZVBvc2l0aW9uID0gLTE7XHJcbiAgICBjb25zdCBpc0NvbXBhY3QgPSB0aGlzLmNvbmZpZy5waXhlbHNQZXJUaW1lU3RlcCA8PSAwO1xyXG5cclxuICAgIC8vIC0tLSBIaWdobGlnaHQgSGFuZGxpbmcgLS0tXHJcbiAgICBpZiAoYWN0aXZlTm90ZSkge1xyXG4gICAgICAgIGNvbnN0IG5vdGVJZCA9IGAke2FjdGl2ZU5vdGUuc3RhcnR9LSR7YWN0aXZlTm90ZS5waXRjaH1gO1xyXG5cclxuICAgICAgICAvLyBEZWFjdGl2YXRlIHByZXZpb3VzbHkgcGxheWluZyBub3RlcyB0aGF0IGFyZSBub3QgdGhlIGN1cnJlbnQgb25lXHJcbiAgICAgICAgdGhpcy5wbGF5aW5nTm90ZXMuZm9yRWFjaCgoX25vdGUsIGlkKSA9PiB7IC8vIENoYW5nZWQgJ25vdGUnIHRvICdfbm90ZScgYXMgaXQncyB1bnVzZWRcclxuICAgICAgICAgICAgaWYgKGlkICE9PSBub3RlSWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGcgPSB0aGlzLm1haW5TVkcucXVlcnlTZWxlY3RvcihgZ1tkYXRhLWlkPVwiJHtpZH1cIl1gKSBhcyBTVkdHRWxlbWVudCB8IG51bGw7XHJcbiAgICAgICAgICAgICAgICBpZiAoZykge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlc2V0RWxlbWVudEhpZ2hsaWdodChnLCB0aGlzLmNvbmZpZy5ub3RlQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5aW5nTm90ZXMuZGVsZXRlKGlkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBBY3RpdmF0ZSB0aGUgY3VycmVudCBub3RlXHJcbiAgICAgICAgaWYgKCF0aGlzLnBsYXlpbmdOb3Rlcy5oYXMobm90ZUlkKSkge1xyXG4gICAgICAgICAgICAgY29uc3QgZyA9IHRoaXMubWFpblNWRy5xdWVyeVNlbGVjdG9yKGBnW2RhdGEtaWQ9XCIke25vdGVJZH1cIl1gKSBhcyBTVkdHRWxlbWVudCB8IG51bGw7XHJcbiAgICAgICAgICAgICBpZiAoZykge1xyXG4gICAgICAgICAgICAgICAgaGlnaGxpZ2h0RWxlbWVudChnLCB0aGlzLmNvbmZpZy5hY3RpdmVOb3RlQ29sb3IpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wbGF5aW5nTm90ZXMuc2V0KG5vdGVJZCwgYWN0aXZlTm90ZSk7XHJcblxyXG4gICAgICAgICAgICAgICAgIC8vIENhbGN1bGF0ZSBwb3NpdGlvbiBmb3Igc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgICAgICAgY29uc3Qgbm90ZVJlY3QgPSBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgICAgICAgICAgIGNvbnN0IHN2Z1JlY3QgPSB0aGlzLm1haW5TVkcuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgICAgICAgICAgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gdGhlICpzY3JvbGxhYmxlIHBhcmVudCdzKiBjb29yZGluYXRlIHN5c3RlbVxyXG4gICAgICAgICAgICAgICAgICBhY3RpdmVOb3RlUG9zaXRpb24gPSBub3RlUmVjdC5sZWZ0IC0gc3ZnUmVjdC5sZWZ0ICsgdGhpcy5wYXJlbnRFbGVtZW50LnNjcm9sbExlZnQ7XHJcblxyXG5cclxuICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgc2Nyb2xsaW5nXHJcbiAgICAgICAgICAgICAgICAgY29uc3QgaXNNZWFzdXJlU3RhcnQgPSBnLmhhc0F0dHJpYnV0ZSgnZGF0YS1pcy1tZWFzdXJlLXN0YXJ0Jyk7XHJcbiAgICAgICAgICAgICAgICAgaWYgKHNjcm9sbEludG9WaWV3ICYmICh0aGlzLmNvbmZpZy5zY3JvbGxUeXBlICE9PSBTY3JvbGxUeXBlLkJBUiB8fCBpc01lYXN1cmVTdGFydCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxJbnRvVmlld0lmTmVlZGVkKGFjdGl2ZU5vdGVQb3NpdGlvbik7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICAgLy8gU2lnbmF0dXJlIGJsaW5raW5nIChvbmx5IGluIHByb3BvcnRpb25hbCBtb2RlKVxyXG4gICAgICAgICBpZiAoIWlzQ29tcGFjdCAmJiB0aGlzLnNpZ25hdHVyZXNCbGlua2luZykge1xyXG4gICAgICAgICAgICAvLyBMb2dpYyB0byBzdG9wIGJsaW5raW5nIGlmIHBsYXliYWNrIG1vdmVzIHBhc3Qgc2lnbmF0dXJlIGFyZWFcclxuICAgICAgICAgICAgLy8gRGV0ZXJtaW5lIHNpZ25hdHVyZSBhcmVhIHdpZHRoIChlLmcuLCBmcm9tIG92ZXJsYXlHIGJvdW5kcylcclxuICAgICAgICAgICAgIGNvbnN0IG92ZXJsYXlSZWN0ID0gdGhpcy5vdmVybGF5Ry5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgIGNvbnN0IHNpZ25hdHVyZVdpZHRoUGl4ZWxzID0gb3ZlcmxheVJlY3Qud2lkdGg7XHJcbiAgICAgICAgICAgICAvLyBDb252ZXJ0IG5vdGUgc3RhcnQgdGltZSB0byBwaXhlbHNcclxuICAgICAgICAgICAgICBjb25zdCBub3RlVGltZVBpeGVscyA9IHRoaXMuamlhbnB1TW9kZWwubWVhc3VyZXNJbmZvLnF1YXJ0ZXJzVG9UaW1lKGFjdGl2ZU5vdGUuc3RhcnQsIGFjdGl2ZU5vdGUuc3RhcnQpICogdGhpcy5jb25maWcucGl4ZWxzUGVyVGltZVN0ZXA7XHJcbiAgICAgICAgICAgICBpZiAobm90ZVRpbWVQaXhlbHMgPiBzaWduYXR1cmVXaWR0aFBpeGVscykge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZXNCbGlua2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICBzZXRCbGlua0FuaW1hdGlvbih0aGlzLm92ZXJsYXlHLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICB9XHJcbiAgICAvLyAtLS0gSW5jcmVtZW50YWwgUmVkcmF3aW5nIC0tLVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdGhpcy5qaWFucHVNb2RlbC51cGRhdGUodGhpcy5qaWFucHVJbmZvLCB0aGlzLmNvbmZpZy5kZWZhdWx0S2V5KTsgLy8gRW5zdXJlIG1vZGVsIGlzIHVwLXRvLWRhdGVcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRYID0gdGhpcy53aWR0aDsgLy8gU3RhcnQgZHJhd2luZyBmcm9tIHRoZSBlbmQgb2YgcHJldmlvdXMgY29udGVudFxyXG4gICAgICAgIGxldCBjb250ZW50V2lkdGggPSB0aGlzLndpZHRoO1xyXG4gICAgICAgIGxldCBtYXhIZWlnaHQgPSB0aGlzLmhlaWdodCA+IDAgPyB0aGlzLmhlaWdodCAtIHRoaXMueUJhc2VsaW5lIDogdGhpcy5jb25maWcubm90ZUhlaWdodCAqIDM7IC8vIE1heCBleHRlbnQgYmVsb3cgYmFzZWxpbmVcclxuICAgICAgICBsZXQgbWluSGVpZ2h0ID0gMDsgLy8gTWF4IGV4dGVudCBhYm92ZSBiYXNlbGluZSAobmVnYXRpdmUgeSlcclxuXHJcbiAgICAgICAgY29uc3QgbGlua2VkTm90ZU1hcDogTGlua2VkTm90ZU1hcCA9IG5ldyBNYXAoKTsgLy8gRm9yIHRpZXMgYWNyb3NzIGJsb2Nrc1xyXG5cclxuICAgICAgICB0aGlzLmppYW5wdU1vZGVsLmppYW5wdUJsb2NrTWFwLmZvckVhY2goKGJsb2NrLCBzdGFydFRpbWVRKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGJsb2NrIHN0YXJ0IHRpbWUgaXMgPj0gbGFzdCByZW5kZXJlZCBxdWFydGVyIG5vdGUgdGltZVxyXG4gICAgICAgICAgICAvLyBVc2UgYSBzbWFsbCB0b2xlcmFuY2UgZm9yIGZsb2F0aW5nIHBvaW50IGNvbXBhcmlzb25zXHJcbiAgICAgICAgICAgIGlmIChzdGFydFRpbWVRID49IHRoaXMubGFzdFJlbmRlcmVkUSAtIDFlLTkpIHsgLy8gRHJhdyBuZXcgb3Igb3ZlcmxhcHBpbmcgYmxvY2tzXHJcbiAgICAgICAgICAgICAgICAgaWYgKGlzQ29tcGFjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAvLyBJbiBjb21wYWN0IG1vZGUsIGN1cnJlbnRYIGFkdmFuY2VzIHdpdGggZWFjaCBkcmF3biBlbGVtZW50XHJcbiAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRYID0gY29udGVudFdpZHRoOyAvLyBQb3NpdGlvbiBkZXRlcm1pbmVkIGJ5IHByZXZpb3VzIGVsZW1lbnQncyB3aWR0aFxyXG4gICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgIC8vIEluIHByb3BvcnRpb25hbCBtb2RlLCB4IGlzIGRldGVybWluZWQgYnkgdGltZVxyXG4gICAgICAgICAgICAgICAgICAgICBjdXJyZW50WCA9IHRoaXMuamlhbnB1TW9kZWwubWVhc3VyZXNJbmZvLnF1YXJ0ZXJzVG9UaW1lKHN0YXJ0VGltZVEsIHN0YXJ0VGltZVEpICogdGhpcy5jb25maWcucGl4ZWxzUGVyVGltZVN0ZXA7XHJcbiAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGJsb2NrV2lkdGggPSB0aGlzLmRyYXdKaWFucHVCbG9jayhibG9jaywgY3VycmVudFgsIGxpbmtlZE5vdGVNYXApO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpc0NvbXBhY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgY29udGVudFdpZHRoICs9IGJsb2NrV2lkdGg7IC8vIEFjY3VtdWxhdGUgd2lkdGggaW4gY29tcGFjdCBtb2RlXHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIFByb3BvcnRpb25hbCBtb2RlIHdpZHRoIGlzIGRldGVybWluZWQgYnkgdGhlIGxhdGVzdCB0aW1lXHJcbiAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRXaWR0aCA9IE1hdGgubWF4KGNvbnRlbnRXaWR0aCwgY3VycmVudFggKyBibG9ja1dpZHRoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBUcmFjayB2ZXJ0aWNhbCBib3VuZHMgLSBVc2UgZ2V0QkJveCBmb3IgU1ZHIGNvb3JkaW5hdGUgc3BhY2UgYm91bmRzXHJcbiAgICAgICAgICAgICAgICAgY29uc3QgYmxvY2tHID0gdGhpcy5tYWluU1ZHLnF1ZXJ5U2VsZWN0b3IoYGdbZGF0YS1ibG9jay1zdGFydD1cIiR7YmxvY2suc3RhcnR9XCJdYCkgYXMgU1ZHR0VsZW1lbnQgfCBudWxsOyAvLyBVc2UgYmxvY2suc3RhcnQgZm9yIHNlbGVjdG9yXHJcbiAgICAgICAgICAgICAgICAgIGlmIChibG9ja0cpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9ja0JveCA9IGJsb2NrRy5nZXRCQm94KCk7IC8vIFVzZSBnZXRCQm94XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJvdW5kcyBhcmUgcmVsYXRpdmUgdG8gdGhlIGVsZW1lbnQncyBjb29yZGluYXRlIHN5c3RlbVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBhbHJlYWR5IHRyYW5zZm9ybWVkIGJ5IG1haW5HJ3MgYmFzZWxpbmUgb2Zmc2V0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0b3BZID0gYmxvY2tCb3gueTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgYm90dG9tWSA9IGJsb2NrQm94LnkgKyBibG9ja0JveC5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbkhlaWdodCA9IE1hdGgubWluKG1pbkhlaWdodCwgdG9wWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heEhlaWdodCA9IE1hdGgubWF4KG1heEhlaWdodCwgYm90dG9tWSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgZ2V0QkJveCBlcnJvciBpZiBlbGVtZW50IGlzIG5vdCByZW5kZXJlZCAoZGlzcGxheTpub25lKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBvciBoYXMgbm8gZ3JhcGhpY2FsIGNvbnRlbnQgeWV0LlxyXG4gICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IHJlbmRlcmVkIFEgKmFmdGVyKiBwcm9jZXNzaW5nIHRoZSBibG9jayBmdWxseVxyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0UmVuZGVyZWRRID0gc3RhcnRUaW1lUSArIGJsb2NrLmxlbmd0aDsgLy8gTW92ZSBtYXJrZXIgdG8gdGhlIGVuZCBvZiB0aGUgYmxvY2tcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyBVcGRhdGUgb3ZlcmFsbCBsYXlvdXQgYmFzZWQgb24gbmV3IGNvbnRlbnQgYm91bmRzXHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBNYXRoLm1heCh0aGlzLmhlaWdodCwgKG1heEhlaWdodCAtIG1pbkhlaWdodCkgKyB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0KTsgLy8gQWRkIGJ1ZmZlclxyXG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0KGNvbnRlbnRXaWR0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGFjdGl2ZU5vdGVQb3NpdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIERyYXdzIGEgc2luZ2xlIEppYW5wdUJsb2NrIChub3RlcyBvciByZXN0KSBhdCB0aGUgc3BlY2lmaWVkIHgtcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIGJsb2NrIFRoZSBKaWFucHVCbG9jayB0byBkcmF3LlxyXG4gICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIHN0YXJ0aW5nIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSBsaW5rZWROb3RlTWFwIE1hcCBmb3IgaGFuZGxpbmcgdGllcy5cclxuICAgKiBAcmV0dXJucyBUaGUgY2FsY3VsYXRlZCB3aWR0aCBvZiB0aGUgZHJhd24gYmxvY2suXHJcbiAgICovXHJcbiAgIHByaXZhdGUgZHJhd0ppYW5wdUJsb2NrKFxyXG4gICAgICAgYmxvY2s6IEppYW5wdUJsb2NrLFxyXG4gICAgICAgeDogbnVtYmVyLFxyXG4gICAgICAgbGlua2VkTm90ZU1hcDogTGlua2VkTm90ZU1hcFxyXG4gICApOiBudW1iZXIge1xyXG4gICAgXHJcbiAgICAgICBsZXQgYmxvY2tXaWR0aCA9IDA7XHJcbiAgICAgICBjb25zdCBpc0NvbXBhY3QgPSB0aGlzLmNvbmZpZy5waXhlbHNQZXJUaW1lU3RlcCA8PSAwO1xyXG4gICAgICAgY29uc3QgaXNNZWFzdXJlU3RhcnQgPSBibG9jay5pc01lYXN1cmVCZWdpbm5pbmcoKTtcclxuICAgICAgIGNvbnN0IGJsb2NrR3JvdXAgPSBjcmVhdGVTVkdHcm91cENoaWxkKHRoaXMubXVzaWNHLCBgYmxvY2stJHtibG9jay5zdGFydH1gKTtcclxuICAgICAgIGJsb2NrR3JvdXAuc2V0QXR0cmlidXRlKCdkYXRhLWJsb2NrLXN0YXJ0JywgYCR7YmxvY2suc3RhcnR9YCk7IC8vIEZvciBsYXRlciBsb29rdXBcclxuXHJcbiAgICAgICAvLyAtLS0gMS4gRHJhdyBCYXIgTGluZSAoaWYgbmVlZGVkKSAtLS1cclxuICAgICAgIC8vIEJhciBsaW5lcyBhcmUgZHJhd24gKmJlZm9yZSogdGhlIGJsb2NrIHRoZXkgcHJlY2VkZS5cclxuICAgICAgIGlmIChpc01lYXN1cmVTdGFydCAmJiBibG9jay5zdGFydCA+IDFlLTYpIHsgLy8gRG9uJ3QgZHJhdyBiYXIgYXQgdGltZSAwXHJcbiAgICAgICAgICAgY29uc3QgYmFyWCA9IHggLSAoaXNDb21wYWN0ID8gdGhpcy5lc3RpbWF0ZWROb3RlV2lkdGggKiAwLjYgOiA0KTsgLy8gUG9zaXRpb24gc2xpZ2h0bHkgYmVmb3JlIGJsb2NrXHJcbiAgICAgICAgICAgLy8gQWRqdXN0IGJhciBoZWlnaHQgYmFzZWQgb24gZXN0aW1hdGVkIGNvbnRlbnQgaGVpZ2h0IG9yIGZpeGVkIHZhbHVlXHJcbiAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gdGhpcy5jb25maWcubm90ZUhlaWdodCAqIDI7IC8vIEV4YW1wbGUgaGVpZ2h0XHJcbiAgICAgICAgICAgY29uc3QgYmFyWSA9IDA7IC8vIENlbnRlciBiYXIgdmVydGljYWxseSBhcm91bmQgYmFzZWxpbmVcclxuICAgICAgICAgICBjb25zdCBiYXIgPSBkcmF3U1ZHUGF0aCh0aGlzLm11c2ljRywgYmFyUGF0aCwgYmFyWCwgYmFyWSwgMSwgYmFySGVpZ2h0IC8gUEFUSF9TQ0FMRSk7IC8vIFNjYWxlIGJhciBwYXRoIChoZWlnaHQgMTAwKVxyXG4gICAgICAgICAgIHNldFN0cm9rZShiYXIsIHRoaXMuY29uZmlnLm5vdGVDb2xvciwgTElORV9TVFJPS0VfV0lEVEgpO1xyXG4gICAgICAgICAgIGlmIChpc0NvbXBhY3QpIHtcclxuICAgICAgICAgICAgICAgIGJsb2NrV2lkdGggKz0gTElORV9TVFJPS0VfV0lEVEg7IC8vIEFkZCBiYXIgd2lkdGggaWYgY29tcGFjdFxyXG4gICAgICAgICAgIH1cclxuICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgLy8gLS0tIDIuIERyYXcgU2lnbmF0dXJlcyAoaWYgY2hhbmdlZCwgaW4tbGluZSBvbmx5KSAtLS1cclxuICAgICAgIC8vIE92ZXJsYXkgaGFuZGxlcyB0aGUgKmN1cnJlbnQqIHNpZ25hdHVyZS4gVGhpcyBkcmF3cyBjaGFuZ2VzICp3aXRoaW4qIHRoZSBzY29yZSBmbG93LlxyXG4gICAgICAgY29uc3Qga2V5Q2hhbmdlZCA9IHRoaXMudXBkYXRlQ3VycmVudEtleShibG9jay5zdGFydCk7XHJcbiAgICAgICBjb25zdCB0aW1lQ2hhbmdlZCA9IHRoaXMudXBkYXRlQ3VycmVudFRpbWVTaWduYXR1cmUoYmxvY2suc3RhcnQpO1xyXG4gICAgICAgbGV0IHNpZ25hdHVyZVdpZHRoID0gMDtcclxuICAgICAgIGlmICgoa2V5Q2hhbmdlZCB8fCB0aW1lQ2hhbmdlZCkgJiYgYmxvY2suc3RhcnQgPiAxZS02KSB7XHJcbiAgICAgICAgICAgIC8vIERyYXcgdGhlIG5ldyBzaWduYXR1cmUocykgaW4gdGhlIHNpZ25hdHVyZXNHIChzY3JvbGxhYmxlIHBhcnQpXHJcbiAgICAgICAgICAgIGNvbnN0IHNpZ1ggPSB4ICsgYmxvY2tXaWR0aDsgLy8gUG9zaXRpb24gaXQgYWZ0ZXIgcG90ZW50aWFsIGJhciBsaW5lXHJcbiAgICAgICAgICAgIHNpZ25hdHVyZVdpZHRoID0gdGhpcy5kcmF3U2lnbmF0dXJlcyh0aGlzLnNpZ25hdHVyZXNHLCBzaWdYLCBrZXlDaGFuZ2VkLCB0aW1lQ2hhbmdlZCk7XHJcbiAgICAgICAgICAgIGlmIChpc0NvbXBhY3QpIHtcclxuICAgICAgICAgICAgICAgICBibG9ja1dpZHRoICs9IHNpZ25hdHVyZVdpZHRoICsgdGhpcy5lc3RpbWF0ZWROb3RlV2lkdGggKiAwLjI7IC8vIEFkZCB3aWR0aCBhbmQgc3BhY2luZ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcblxyXG5cclxuICAgICAgIC8vIC0tLSAzLiBEcmF3IE5vdGVzIG9yIFJlc3QgLS0tXHJcbiAgICAgICBjb25zdCBjb250ZW50WCA9IHggKyBibG9ja1dpZHRoOyAvLyBBZGp1c3Qgc3RhcnRpbmcgWCBiYXNlZCBvbiBwcmVjZWRpbmcgZWxlbWVudHNcclxuICAgICAgIGxldCBjb250ZW50V2lkdGggPSAwO1xyXG4gICAgICAgaWYgKGJsb2NrLm5vdGVzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICBjb250ZW50V2lkdGggPSB0aGlzLmRyYXdOb3RlcyhibG9jaywgY29udGVudFgsIGxpbmtlZE5vdGVNYXAsIGJsb2NrR3JvdXApO1xyXG4gICAgICAgfSBlbHNlIGlmIChibG9jay5sZW5ndGggPiAxZS02KSB7IC8vIE9ubHkgZHJhdyByZXN0IGlmIGl0IGhhcyBkdXJhdGlvblxyXG4gICAgICAgICAgIC8vIEl0J3MgYSByZXN0IGJsb2NrXHJcbiAgICAgICAgICAgY29udGVudFdpZHRoID0gdGhpcy5kcmF3UmVzdChibG9jaywgY29udGVudFgsIGJsb2NrR3JvdXApO1xyXG4gICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAvLyAtLS0gNC4gQ2FsY3VsYXRlIFRvdGFsIFdpZHRoIC0tLVxyXG4gICAgICAgIGlmIChpc0NvbXBhY3QpIHtcclxuICAgICAgICAgICAgLy8gVG90YWwgd2lkdGggaXMgYWNjdW11bGF0ZWQgd2lkdGggb2YgYmFyLCBzaWduYXR1cmUsIGFuZCBjb250ZW50XHJcbiAgICAgICAgICAgIGJsb2NrV2lkdGggKz0gY29udGVudFdpZHRoO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gQWRqdXN0IHNwYWNpbmcgYmFzZWQgb24gYmxvY2sgZHVyYXRpb24gZm9yIGNvbXBhY3QgbW9kZVxyXG4gICAgICAgICAgICBsZXQgZ2FwID0gdGhpcy5lc3RpbWF0ZWROb3RlV2lkdGggKiB0aGlzLmNvbmZpZy5ub3RlU3BhY2luZ0ZhY3RvcjtcclxuICAgICAgICAgICAgLy8gYmxvY2subGVuZ3RoIGlzIGluIHF1YXJ0ZXIgbm90ZXMuXHJcbiAgICAgICAgICAgIC8vIGUuZy4sIDY0dGggbm90ZTogMC4wNjI1OyAzMm5kIG5vdGU6IDAuMTI1OyAxNnRoIG5vdGU6IDAuMjU7IDh0aCBub3RlOiAwLjU7IHF1YXJ0ZXIgbm90ZTogMS4wXHJcbiAgICAgICAgICAgIGlmICggYmxvY2suYmVhdEVuZCkge1xyXG4gICAgICAgICAgICAgICAgZ2FwICo9IDEuMDsgLy8gTG9uZ2VyIHNwYWNpbmcgZm9yIGJlYXQgc3RhcnRcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChibG9jay5sZW5ndGggPCAwLjA2MjUpIHsgLy8g5a+55LqOIDY0IOWIhumfs+espuaIluabtOefreeahOmfs+esplxyXG4gICAgICAgICAgICAgICAgZ2FwICo9IDAuMDU7IC8vIOaegeWwj+eahOmXtOi3nVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLmxlbmd0aCA8IDAuMTI1KSB7IC8vIOWvueS6jiAzMiDliIbpn7PnrKZcclxuICAgICAgICAgICAgICAgIGdhcCAqPSAwLjE7IC8vIOmdnuW4uOWwj+eahOmXtOi3nVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLmxlbmd0aCA8IDAuMjUpIHsgLy8g5a+55LqOIDE2IOWIhumfs+esplxyXG4gICAgICAgICAgICAgICAgZ2FwICo9IDAuMjsgLy8g5bCP6Ze06LedXHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYmxvY2subGVuZ3RoIDwgMC41KSB7IC8vIOWvueS6jiA4IOWIhumfs+esplxyXG4gICAgICAgICAgICAgICAgZ2FwICo9IDAuNDsgIC8vIOWNiumXtOi3nVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLmxlbmd0aCA8IDEuMCkgeyAvLyDlr7nkuo4gNCDliIbpn7PnrKZcclxuICAgICAgICAgICAgICAgIGdhcCAqPSAwLjU7ICAvLyDkuK3nrYnpl7Tot51cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgLy8gRm9yIHF1YXJ0ZXIgbm90ZXMgKGxlbmd0aCAxLjApIG9yIGxvbmdlciwgdGhlIGZ1bGwgZ2FwIGlzIHVzZWQuXHJcbiAgICAgICAgICAgIGJsb2NrV2lkdGggKz0gZ2FwO1xyXG4gICAgICAgICAgIFxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBQcm9wb3J0aW9uYWwgbW9kZTogd2lkdGggaXMgZGV0ZXJtaW5lZCBieSB0aGUgbWF4aW11bSBleHRlbnQgb2YgZWxlbWVudHMgYXQgdGhpcyB0aW1lXHJcbiAgICAgICAgICAgICBibG9ja1dpZHRoID0gTWF0aC5tYXgoc2lnbmF0dXJlV2lkdGgsIGNvbnRlbnRXaWR0aCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyAtLS0g5pu05paw57uT5p2f5bCP6IqC57q/5Yik5patXHJcbiAgICAgICAgY29uc3QgaXNGaW5hbEJsb2NrID0gdGhpcy5qaWFucHVNb2RlbC5pc0xhc3RNZWFzdXJlQXRRKGJsb2NrLnN0YXJ0ICsgYmxvY2subGVuZ3RoKTtcclxuICAgICAgICBpZiAoaXNGaW5hbEJsb2NrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhclggPSB4ICsgYmxvY2tXaWR0aDtcclxuICAgICAgICAgICAgY29uc3QgYmFySGVpZ2h0ID0gdGhpcy5jb25maWcubm90ZUhlaWdodCAqIDI7XHJcbiAgICAgICAgICAgIGNvbnN0IGJhclkgPSAwO1xyXG4gICAgICAgICAgICBjb25zdCBiYXIgPSBkcmF3U1ZHUGF0aCh0aGlzLm11c2ljRywgYmFyUGF0aCwgYmFyWCwgYmFyWSwgMSwgYmFySGVpZ2h0IC8gUEFUSF9TQ0FMRSk7XHJcbiAgICAgICAgICAgIHNldFN0cm9rZShiYXIsIHRoaXMuY29uZmlnLm5vdGVDb2xvciwgTElORV9TVFJPS0VfV0lEVEgpO1xyXG4gICAgICAgICAgICBpZiAoaXNDb21wYWN0KSB7XHJcbiAgICAgICAgICAgICAgICBibG9ja1dpZHRoICs9IExJTkVfU1RST0tFX1dJRFRIO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgIHJldHVybiBibG9ja1dpZHRoOyAvLyBSZXR1cm4gdGhlIHdpZHRoICpvY2N1cGllZCogYnkgdGhpcyBibG9jaydzIGRyYXdpbmcgb3BlcmF0aW9uc1xyXG4gICB9XHJcblxyXG4gLyoqXHJcbiAqIERyYXdzIHRoZSBub3RlcyB3aXRoaW4gYSBKaWFucHVCbG9jay5cclxuICogQHBhcmFtIGJsb2NrIFRoZSBibG9jayBjb250YWluaW5nIG5vdGVzLlxyXG4gKiBAcGFyYW0geCBUaGUgc3RhcnRpbmcgeCBwb3NpdGlvbiBmb3IgZHJhd2luZyB0aGlzIGJsb2NrJ3MgY29udGVudC5cclxuICogQHBhcmFtIGxpbmtlZE5vdGVNYXAgTWFwIGZvciBoYW5kbGluZyB0aWVzLlxyXG4gKiBAcGFyYW0gYmxvY2tHcm91cCBUaGUgcGFyZW50IFNWRyBncm91cCBmb3IgdGhpcyBibG9jay5cclxuICogQHJldHVybnMgVGhlIGhvcml6b250YWwgc3BhY2Ugb2NjdXBpZWQgYnkgdGhlIG5vdGVzIChleGNsdWRpbmcgZmluYWwgcGFkZGluZykuXHJcbiAqL1xyXG5wcml2YXRlIGRyYXdOb3RlcyhcclxuICAgIGJsb2NrOiBKaWFucHVCbG9jayxcclxuICAgIHg6IG51bWJlcixcclxuICAgIGxpbmtlZE5vdGVNYXA6IExpbmtlZE5vdGVNYXAsXHJcbiAgICBibG9ja0dyb3VwOiBTVkdHRWxlbWVudFxyXG4pOiBudW1iZXIge1xyXG4gICAgbGV0IGN1cnJlbnRYID0geDtcclxuICAgIGxldCBtYXhYID0geDsgLy8gVHJhY2sgdGhlIHJpZ2h0bW9zdCBlZGdlXHJcbiAgICBjb25zdCBub3RlU3BhY2luZyA9IHRoaXMuZXN0aW1hdGVkTm90ZVdpZHRoICogMC4xOyAvLyBTbWFsbCBzcGFjaW5nIGJldHdlZW4gZWxlbWVudHNcclxuICAgIGNvbnN0IEZPTlRfU0laRSA9IGAke3RoaXMubnVtYmVyRm9udFNpemV9cHhgO1xyXG4gICAgY29uc3QgU01BTExfRk9OVF9TSVpFID0gYCR7dGhpcy5zbWFsbEZvbnRTaXplfXB4YDtcclxuXHJcbiAgICBjb25zdCB7IGR1cmF0aW9uTGluZXMgPSAwLCBhdWdtZW50YXRpb25Eb3RzID0gMCwgYXVnbWVudGF0aW9uRGFzaCA9IGZhbHNlIH0gPSBibG9jaztcclxuXHJcblxyXG4gICAgLy8gRHJhdyBub3RlcyAocG90ZW50aWFsbHkgYSBjaG9yZClcclxuICAgIGJsb2NrLm5vdGVzLmZvckVhY2goKG5vdGUpID0+IHsgLy8gUmVtb3ZlZCBpbmRleCBhcyBpdCB3YXNuJ3QgdXNlZFxyXG4gICAgICAgIGNvbnN0IG5vdGVJZCA9IGAke25vdGUuc3RhcnR9LSR7bm90ZS5waXRjaH1gO1xyXG4gICAgICAgIC8vIEdyb3VwIGZvciBpbmRpdmlkdWFsIG5vdGUgYWxsb3dzIGhpZ2hsaWdodGluZyBhbmQgdGllIGxpbmtpbmdcclxuICAgICAgICBjb25zdCBub3RlRyA9IGNyZWF0ZVNWR0dyb3VwQ2hpbGQoYmxvY2tHcm91cCwgbm90ZUlkKTtcclxuICAgICAgICBpZiAoYmxvY2suaXNNZWFzdXJlQmVnaW5uaW5nKCkpIHtcclxuICAgICAgICAgICAgIG5vdGVHLnNldEF0dHJpYnV0ZSgnZGF0YS1pcy1tZWFzdXJlLXN0YXJ0JywgJ3RydWUnKTsgLy8gTWFyayBmb3Igc2Nyb2xsaW5nXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbm90ZVN0YXJ0WCA9IGN1cnJlbnRYOyAvLyBSZXNldCBzdGFydCBYIGZvciBlYWNoIGVsZW1lbnQgcmVsYXRpdmUgdG8gYmxvY2sgc3RhcnQgJ3gnXHJcbiAgICAgICAgbGV0IG5vdGVFbmRYID0gbm90ZVN0YXJ0WDsgLy8gVHJhY2sgcmlnaHQgZWRnZSBvZiBlbGVtZW50cyBmb3IgdGhpcyBub3RlXHJcblxyXG4gICAgICAgIC8vIC0tLSBBY2NpZGVudGFsIC0tLVxyXG4gICAgICAgIGlmIChub3RlLmFjY2lkZW50YWwgIT09IDApIHtcclxuICAgICAgICAgICAgY29uc3QgYWNjVGV4dCA9IEFDQ0lERU5UQUxfVEVYVFtub3RlLmFjY2lkZW50YWxdO1xyXG4gICAgICAgICAgICAvLyBQb3NpdGlvbiBhY2NpZGVudGFsIHNsaWdodGx5IGJlZm9yZSB0aGUgbnVtYmVyXHJcbiAgICAgICAgICAgIGRyYXdTVkdUZXh0KG5vdGVHLCBhY2NUZXh0LCBub3RlU3RhcnRYICsgbm90ZVNwYWNpbmcsIDAsIFNNQUxMX0ZPTlRfU0laRSwgJ25vcm1hbCcsICdlbmQnLCAndGV4dC10b3AnLCB0aGlzLmNvbmZpZy5ub3RlQ29sb3IpO1xyXG4gICAgICAgICAgICAvLyBXZSBkb24ndCBhZHZhbmNlIG5vdGVTdGFydFggaGVyZSwgYWNjaWRlbnRhbCBzaXRzIHRvIHRoZSBsZWZ0XHJcbiAgICAgICAgICAgIC8vIFdlIGRvIG5lZWQgaXRzIHdpZHRoIHRvIHBvdGVudGlhbGx5IGFkanVzdCBvdmVyYWxsIGJsb2NrIHNwYWNpbmcgbGF0ZXIgaWYgbmVlZGVkLlxyXG4gICAgICAgICAgICAvL2xldCBhY2NXaWR0aCA9IGFjYy5nZXRCQm94KCkud2lkdGg7XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IG5vdGVXaWR0aCA9IDA7XHJcbiAgICAgICAgLy8g5aaC5p6cIGF1Z21lbnRhdGlvbkRhc2gg5Li6IHRydWUg5YiZ55S7ICctJ++8jOWQpuWImeeUu+mfs+espuaVsOWtl1xyXG4gICAgICAgIGlmIChhdWdtZW50YXRpb25EYXNoKSB7XHJcbiAgICAgICAgICAgLy8gTGV0J3MgYXNzdW1lIEFVR01FTlRBVElPTl9EQVNIX0ZBQ1RPUiBkZXRlcm1pbmVzIHRoZSB3aWR0aCByZWxhdGl2ZSB0byBub3RlSGVpZ2h0XHJcbiAgICAgICAgICAgLy8gTWFrZSBzdXJlIEFVR01FTlRBVElPTl9EQVNIX0ZBQ1RPUiBpcyBkZWZpbmVkIGFuZCBwcm92aWRlcyBhIHNlbnNpYmxlIHdpZHRoIG11bHRpcGxpZXIgKGUuZy4sIDAuNSwgMS4wKVxyXG4gICAgICAgICAgIGNvbnN0IGRhc2hXaWR0aCA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBBVUdNRU5UQVRJT05fREFTSF9GQUNUT1I7IC8vIERlc2lyZWQgdmlzdWFsIGxlbmd0aFxyXG5cclxuICAgICAgICAgICAvLyAyLiBDYWxjdWxhdGUgdGhlIGhvcml6b250YWwgc2NhbGUgbmVlZGVkIGZvciB0aGUgYmFzZSBwYXRoICgnaCA1MCcpXHJcbiAgICAgICAgICAgY29uc3QgcGF0aE9yaWdpbmFsV2lkdGggPSA1MDsgLy8gV2lkdGggZGVmaW5lZCBpbiBhdWdtZW50YXRpb25EYXNoUGF0aFxyXG4gICAgICAgICAgIGNvbnN0IGRhc2hTY2FsZVggPSBkYXNoV2lkdGggLyBwYXRoT3JpZ2luYWxXaWR0aDtcclxuXHJcbiAgICAgICAgICAgLy8gMy4gRHJhdyB0aGUgcGF0aCBlbGVtZW50LiBTZXQgdmVydGljYWwgc2NhbGUgdG8gMSAoaXQncyBpcnJlbGV2YW50IGZvciBzdHJva2UgdGhpY2tuZXNzKS5cclxuICAgICAgICAgICBjb25zdCBkYXNoID0gZHJhd1NWR1BhdGgobm90ZUcsIGF1Z21lbnRhdGlvbkRhc2hQYXRoLCBub3RlU3RhcnRYLCAwLCBkYXNoU2NhbGVYLCAxKTtcclxuXHJcbiAgICAgICAgICAgLy8gNC4gQXBwbHkgc3Ryb2tlIGZvciB2aXNpYmlsaXR5IGFuZCB0aGlja25lc3NcclxuICAgICAgICAgICAvLyAgICBVc2UgdGhlIGNhbGN1bGF0ZWQgZGFzaFRoaWNrbmVzcyBmb3Igc3Ryb2tlLXdpZHRoXHJcbiAgICAgICAgICAgc2V0U3Ryb2tlKGRhc2gsIHRoaXMuY29uZmlnLm5vdGVDb2xvciwgTElORV9TVFJPS0VfV0lEVEgpO1xyXG5cclxuICAgICAgICAgICAvLyA1LiBVc2UgdGhlIGNhbGN1bGF0ZWQgZGFzaFdpZHRoIGZvciBsYXlvdXQgcHVycG9zZXNcclxuICAgICAgICAgICBub3RlV2lkdGggPSBkYXNoV2lkdGg7IC8vIFVzZSB0aGUgaW50ZW5kZWQgd2lkdGgsIG5vdCBnZXRCQm94IHdoaWNoIG1pZ2h0IG5vdCBhY2NvdW50IGZvciBzdHJva2VcclxuXHJcbiAgICAgICAgICAgbm90ZUVuZFggPSBub3RlU3RhcnRYICsgbm90ZVdpZHRoOyAvLyBVcGRhdGUgcmlnaHQgZWRnZVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgY29uc3QgbnVtVGV4dCA9IGAke25vdGUuamlhbnB1TnVtYmVyfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IG51bSA9IGRyYXdTVkdUZXh0KG5vdGVHLCBudW1UZXh0LCBub3RlU3RhcnRYLCAwLCBGT05UX1NJWkUsICdub3JtYWwnLCAnc3RhcnQnLCAnbWlkZGxlJywgdGhpcy5jb25maWcubm90ZUNvbG9yKTtcclxuICAgICAgICAgICAgbm90ZVdpZHRoID0gbnVtLmdldEJCb3goKS53aWR0aDtcclxuICAgICAgICAgICAgbm90ZUVuZFggPSBub3RlU3RhcnRYICsgbm90ZVdpZHRoOyAvLyBOdW1iZXIgZGVmaW5lcyB0aGUgbWFpbiBib2R5IHdpZHRoIGZvciBub3dcclxuICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIC8vIC0tLSBPY3RhdmUgRG90cyAtLS1cclxuXHJcbiAgICAgICAgaWYgKG5vdGUub2N0YXZlRG90ICE9PSAwICYmIGF1Z21lbnRhdGlvbkRhc2ggPT09IGZhbHNlKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRvdFNpemUgPSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogRE9UX1NJWkVfRkFDVE9SO1xyXG4gICAgICAgICAgICBjb25zdCBkb3RTY2FsZSA9IGRvdFNpemUgLyAoUEFUSF9TQ0FMRSAqIDAuMTUpO1xyXG4gICAgICAgICAgICBjb25zdCBkb3RYID0gbm90ZVN0YXJ0WCArIG5vdGVXaWR0aCAvIDI7XHJcbiAgICAgICAgICAgIC8vIOS/ruaUueeCuemXtOi3neiuoeeul++8jOWinuWKoOWeguebtOmXtOi3nVxyXG4gICAgICAgICAgICBjb25zdCBkb3RTcGFjaW5nID0gZG90U2l6ZSAqIDIuODsgLy8g5aKe5Yqg54K55LmL6Ze055qE6Ze06LedXHJcbiAgICAgICAgICAgIGNvbnN0IGJhc2VPZmZzZXQgPSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogT0NUQVZFX0RPVF9PRkZTRVRfRkFDVE9SO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBNYXRoLmFicyhub3RlLm9jdGF2ZURvdCk7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgLy8g5L2/55So57ud5a+55Z2Q5qCH6ICM6Z2e55u45a+55Z2Q5qCHXHJcbiAgICAgICAgICAgICAgICBjb25zdCB5ID0gKG5vdGUub2N0YXZlRG90ID4gMCA/IC1iYXNlT2Zmc2V0IDogYmFzZU9mZnNldCowLjYpIC0gKGkgKiBkb3RTcGFjaW5nICogKG5vdGUub2N0YXZlRG90ID4gMCA/IDEgOiAtMSkgKTsgLy8gQWRqdXN0ZWQgeSBjYWxjdWxhdGlvblxyXG4gICAgICAgICAgICAgICAgZHJhd1NWR1BhdGgobm90ZUcsIGRvdFBhdGgsIGRvdFgsIHksIGRvdFNjYWxlLCBkb3RTY2FsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyAtLS0gRHVyYXRpb24gVW5kZXJsaW5lcyAtLS1cclxuICAgICAgICBpZiAoZHVyYXRpb25MaW5lcyA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbGluZVlPZmZzZXQgPSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogVU5ERVJMSU5FX1NQQUNJTkdfRkFDVE9SICogMi41O1xyXG4gICAgICAgICAgICBjb25zdCBsaW5lU3BhY2luZyA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBVTkRFUkxJTkVfU1BBQ0lOR19GQUNUT1I7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpbmVXaWR0aFNjYWxlID0gbm90ZVdpZHRoIC8gUEFUSF9TQ0FMRSAqIChEVVJBVElPTl9MSU5FX1NDQUxFUy5nZXQoZHVyYXRpb25MaW5lcykgPz8gMSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBmb3IgKGxldCBsaW5lSW5kZXggPSAwOyBsaW5lSW5kZXggPCBkdXJhdGlvbkxpbmVzOyBsaW5lSW5kZXgrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgeVBvc2l0aW9uID0gbGluZVlPZmZzZXQgKyBsaW5lSW5kZXggKiBsaW5lU3BhY2luZztcclxuICAgICAgICAgICAgICAgIGNvbnN0IGR1cmF0aW9uTGluZSA9IGRyYXdTVkdQYXRoKG5vdGVHLCB1bmRlcmxpbmVQYXRoLCBub3RlU3RhcnRYLCB5UG9zaXRpb24sIGxpbmVXaWR0aFNjYWxlLCAxKTtcclxuICAgICAgICAgICAgICAgIHNldFN0cm9rZShkdXJhdGlvbkxpbmUsIHRoaXMuY29uZmlnLm5vdGVDb2xvciwgTElORV9TVFJPS0VfV0lEVEgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gLS0tIEF1Z21lbnRhdGlvbiBEb3RzIC0tLVxyXG4gICAgICAgICBsZXQgYXVnbWVudGF0aW9uWCA9IG5vdGVFbmRYICsgbm90ZVNwYWNpbmc7IC8vIFBvc2l0aW9uIGFmdGVyIHRoZSBudW1iZXJcclxuXHJcbiAgICAgICAgIGlmIChhdWdtZW50YXRpb25Eb3RzID4gMCkgeyAvLyBEb3RzIG9ubHkgaWYgbm8gZGFzaFxyXG4gICAgICAgICAgICBjb25zdCBkb3RTaXplID0gdGhpcy5jb25maWcubm90ZUhlaWdodCAqIERPVF9TSVpFX0ZBQ1RPUjtcclxuICAgICAgICAgICAgY29uc3QgZG90U2NhbGUgPSBkb3RTaXplIC8gKFBBVEhfU0NBTEUgKiAwLjE1KTtcclxuICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXVnbWVudGF0aW9uRG90czsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgLy8gRHJhdyByZWxhdGl2ZSB0byBub3RlRyBvcmlnaW5cclxuICAgICAgICAgICAgICAgICBkcmF3U1ZHUGF0aChub3RlRywgZG90UGF0aCwgYXVnbWVudGF0aW9uWCwgMCwgZG90U2NhbGUsIGRvdFNjYWxlKTtcclxuICAgICAgICAgICAgICAgICBhdWdtZW50YXRpb25YICs9IGRvdFNpemUgKyBub3RlU3BhY2luZztcclxuICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgIG5vdGVFbmRYID0gYXVnbWVudGF0aW9uWCArIG5vdGVTcGFjaW5nO1xyXG4gICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICAvLyAtLS0gVGllcyAtLS1cclxuXHJcbiAgICAgICAgY29uc3Qgbm90ZUxvZ2ljYWxFbmRQb3NpdGlvblggPSBub3RlRW5kWDtcclxuICAgICAgICBpZiAobm90ZS50aWVkVG8gJiYgIWF1Z21lbnRhdGlvbkRhc2gpIHtcclxuICAgICAgICAgICAgLy8g5a2Y5YKo5b2T5YmNbm90ZeS/oeaBr++8jOetieW+heWQjue7ree7mOWItlxyXG4gICAgICAgICAgICBsaW5rZWROb3RlTWFwLnNldChub3RlLCB7IGc6IG5vdGVHLCB4Tm90ZVJpZ2h0OiBub3RlTG9naWNhbEVuZFBvc2l0aW9uWCwgeU5vdGVCYXNlbGluZTogMCB9KTtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vdGUudGllZEZyb20pIHtcclxuICAgICAgICAgICAgLy8g6YCS5b2S5p+l5om+6ZO+5o6l55qE56ys5LiA5Liqbm90ZVxyXG4gICAgICAgICAgICBsZXQgZmlyc3ROb3RlID0gbm90ZS50aWVkRnJvbTtcclxuICAgICAgICAgICAgd2hpbGUgKGZpcnN0Tm90ZS50aWVkRnJvbSkge1xyXG4gICAgICAgICAgICAgICAgZmlyc3ROb3RlID0gZmlyc3ROb3RlLnRpZWRGcm9tO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBwcmV2TGluayA9IGxpbmtlZE5vdGVNYXAuZ2V0KGZpcnN0Tm90ZSk7XHJcbiAgICAgICAgICAgIGlmIChwcmV2TGluaykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGllU3RhcnRYID0gcHJldkxpbmsueE5vdGVSaWdodCAqIDEuMDtcclxuICAgICAgICAgICAgICAgIC8vY29uc3QgdGllRW5kWCA9IG5vdGVTdGFydFggLSBub3RlU3BhY2luZztcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRpZUVuZFggPSBhdWdtZW50YXRpb25EYXNoID8gXHJcbiAgICAgICAgICAgICAgICAobm90ZVN0YXJ0WCAtIHRoaXMuZXN0aW1hdGVkTm90ZVdpZHRoICogMi4yKSA6XHJcbiAgICAgICAgICAgICAgICAobm90ZVN0YXJ0WCAtIG5vdGVTcGFjaW5nKTtcclxuXHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgdGllV2lkdGggPSB0aWVFbmRYIC0gdGllU3RhcnRYO1xyXG5cclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCB0aWVZID0gLSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogMS4yO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGllU2NhbGVYID0gdGllV2lkdGggLyBQQVRIX1NDQUxFICogMS4zO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdGllU2NhbGVZID0gKHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgLyBQQVRIX1NDQUxFKSAqIDEuNjtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGllV2lkdGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g5LuO56ys5LiA5Liqbm90ZeWIsOW9k+WJjW5vdGXnu5jliLZ0aWVcclxuICAgICAgICAgICAgICAgICAgICBkcmF3U1ZHUGF0aChwcmV2TGluay5nLCB0aWVQYXRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpZVN0YXJ0WCAtIChwcmV2TGluay5nLmdldENUTSgpPy5lID8/IDApLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpZVksIHRpZVNjYWxlWCwgdGllU2NhbGVZKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vIOa4hemZpOaVtOS4qumTvuaOpemTvueahOe8k+WtmFxyXG4gICAgICAgICAgICAgICAgbGV0IGN1cnJlbnQgPSBmaXJzdE5vdGU7XHJcbiAgICAgICAgICAgICAgICB3aGlsZSAoY3VycmVudCAmJiBjdXJyZW50ICE9PSBub3RlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbGlua2VkTm90ZU1hcC5kZWxldGUoY3VycmVudCk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dE5vdGUgPSBjdXJyZW50LnRpZWRUbztcclxuICAgICAgICAgICAgICAgICAgICBpZiAobmV4dE5vdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudCA9IG5leHROb3RlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIk1pc3NpbmcgbGlua2VkIFNWRyBkZXRhaWxzIGZvciBmaXJzdCB0aWVkIG5vdGU6XCIsIGZpcnN0Tm90ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG5cclxuXHJcbiAgICAgICAgIG1heFggPSBNYXRoLm1heChtYXhYLCBub3RlRW5kWCk7IC8vIFVwZGF0ZSB0aGUgb3ZlcmFsbCByaWdodG1vc3QgZWRnZSByZWxhdGl2ZSB0byBibG9jayBzdGFydCAneCdcclxuXHJcbiAgICB9KTsgLy8gRW5kIGZvckVhY2ggbm90ZVxyXG5cclxuICAgIHJldHVybiBtYXhYIC0geDsgLy8gUmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgY29udGVudCBkcmF3blxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIERyYXdzIGEgcmVzdCBzeW1ib2wgZm9yIGEgSmlhbnB1QmxvY2suXHJcbiAqIEBwYXJhbSBibG9jayBUaGUgcmVzdCBibG9jay5cclxuICogQHBhcmFtIHggVGhlIHN0YXJ0aW5nIHggcG9zaXRpb24uXHJcbiAqIEBwYXJhbSBibG9ja0dyb3VwIFRoZSBwYXJlbnQgU1ZHIGdyb3VwLlxyXG4gKiBAcmV0dXJucyBUaGUgaG9yaXpvbnRhbCBzcGFjZSBvY2N1cGllZCBieSB0aGUgcmVzdCAoZXhjbHVkaW5nIGZpbmFsIHBhZGRpbmcpLlxyXG4gKi9cclxucHJpdmF0ZSBkcmF3UmVzdChibG9jazogSmlhbnB1QmxvY2ssIHg6IG51bWJlciwgYmxvY2tHcm91cDogU1ZHR0VsZW1lbnQpOiBudW1iZXIge1xyXG4gICAgY29uc3QgRk9OVF9TSVpFID0gYCR7dGhpcy5udW1iZXJGb250U2l6ZX1weGA7XHJcbiAgICBjb25zdCBub3RlU3BhY2luZyA9IHRoaXMuZXN0aW1hdGVkTm90ZVdpZHRoICogMC4xO1xyXG5cclxuICAgIGNvbnN0IHsgZHVyYXRpb25MaW5lcyA9IDAsIGF1Z21lbnRhdGlvbkRvdHMgPSAwfSA9IGJsb2NrO1xyXG4gICAgbGV0IGN1cnJlbnRYID0geDsgLy8gUG9zaXRpb24gcmVsYXRpdmUgdG8gYmxvY2sgc3RhcnRcclxuICAgIGxldCBub3RlRW5kWCA9IGN1cnJlbnRYOyAvLyBUcmFjayByaWdodCBlZGdlXHJcblxyXG4gICAgLy8gLS0tIFJlc3QgU3ltYm9sICgnMCcpIC0tLVxyXG4gICAgY29uc3QgcmVzdFN5bWJvbCA9ICcwJztcclxuICAgIGNvbnN0IHJlc3RUZXh0ID0gZHJhd1NWR1RleHQoYmxvY2tHcm91cCwgcmVzdFN5bWJvbCwgY3VycmVudFgsIDAsIEZPTlRfU0laRSwgJ25vcm1hbCcsICdzdGFydCcsICdtaWRkbGUnLCB0aGlzLmNvbmZpZy5ub3RlQ29sb3IpO1xyXG4gICAgY29uc3QgcmVzdFdpZHRoID0gcmVzdFRleHQuZ2V0QkJveCgpLndpZHRoO1xyXG4gICAgbm90ZUVuZFggPSBjdXJyZW50WCArIHJlc3RXaWR0aDtcclxuXHJcbiAgICAgLy8gLS0tIER1cmF0aW9uIFVuZGVybGluZXMgLS0tXHJcbiAgICBpZiAoZHVyYXRpb25MaW5lcyA+IDApIHtcclxuICAgICAgICBjb25zdCBsaW5lWU9mZnNldCA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBVTkRFUkxJTkVfU1BBQ0lOR19GQUNUT1IgKiAyLjU7XHJcbiAgICAgICAgY29uc3QgbGluZVNwYWNpbmcgPSB0aGlzLmNvbmZpZy5ub3RlSGVpZ2h0ICogVU5ERVJMSU5FX1NQQUNJTkdfRkFDVE9SO1xyXG4gICAgICAgIGNvbnN0IGxpbmVXaWR0aFNjYWxlID0gcmVzdFdpZHRoIC8gUEFUSF9TQ0FMRSAqIChEVVJBVElPTl9MSU5FX1NDQUxFUy5nZXQoZHVyYXRpb25MaW5lcykgPz8gMSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgZm9yIChsZXQgbGluZUluZGV4ID0gMDsgbGluZUluZGV4IDwgZHVyYXRpb25MaW5lczsgbGluZUluZGV4KyspIHtcclxuICAgICAgICAgICAgY29uc3QgeVBvc2l0aW9uID0gbGluZVlPZmZzZXQgKyBsaW5lSW5kZXggKiBsaW5lU3BhY2luZztcclxuICAgICAgICAgICAgY29uc3QgZHVyYXRpb25MaW5lID0gZHJhd1NWR1BhdGgoYmxvY2tHcm91cCwgdW5kZXJsaW5lUGF0aCwgY3VycmVudFgsIHlQb3NpdGlvbiwgbGluZVdpZHRoU2NhbGUsIDEpO1xyXG4gICAgICAgICAgICBzZXRTdHJva2UoZHVyYXRpb25MaW5lLCB0aGlzLmNvbmZpZy5ub3RlQ29sb3IsIExJTkVfU1RST0tFX1dJRFRIKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIEF1Z21lbnRhdGlvbiBEb3RzIC0tLVxyXG4gICAgbGV0IGF1Z21lbnRhdGlvblggPSBub3RlRW5kWCArIG5vdGVTcGFjaW5nOyAvLyBQb3NpdGlvbiBhZnRlciB0aGUgbnVtYmVyXHJcblxyXG4gICAgaWYgKGF1Z21lbnRhdGlvbkRvdHMgPiAwKSB7IC8vIERvdHMgb25seSBpZiBubyBkYXNoXHJcbiAgICAgICAgY29uc3QgZG90U2l6ZSA9IHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiBET1RfU0laRV9GQUNUT1I7XHJcbiAgICAgICAgY29uc3QgZG90U2NhbGUgPSBkb3RTaXplIC8gKFBBVEhfU0NBTEUgKiAwLjE1KTtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGF1Z21lbnRhdGlvbkRvdHM7IGkrKykge1xyXG4gICAgICAgICAgICAvLyBEcmF3IHJlbGF0aXZlIHRvIG5vdGVHIG9yaWdpblxyXG4gICAgICAgICAgICBkcmF3U1ZHUGF0aChibG9ja0dyb3VwLCBkb3RQYXRoLCBhdWdtZW50YXRpb25YLCAwLCBkb3RTY2FsZSwgZG90U2NhbGUpO1xyXG4gICAgICAgICAgICBhdWdtZW50YXRpb25YICs9IGRvdFNpemUgKyBub3RlU3BhY2luZztcclxuICAgICAgICB9XHJcbiAgICAgICAgbm90ZUVuZFggPSBhdWdtZW50YXRpb25YICsgbm90ZVNwYWNpbmc7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIG5vdGVFbmRYIC0geDsgLy8gUmV0dXJuIHRoZSB3aWR0aCBvZiB0aGUgY29udGVudCBkcmF3blxyXG59XHJcblxyXG5cclxuICAvKipcclxuICAgKiBEcmF3cyBLZXkgYW5kL29yIFRpbWUgc2lnbmF0dXJlcy5cclxuICAgKiBAcGFyYW0gY29udGFpbmVyIFRoZSBTVkcgZ3JvdXAgdG8gZHJhdyBpbnRvIChvdmVybGF5RyBvciBzaWduYXR1cmVzRykuICoqTXVzdCBiZSBTVkdHRWxlbWVudC4qKlxyXG4gICAqIEBwYXJhbSB4IFRoZSBzdGFydGluZyB4IHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSBkcmF3S2V5IERyYXcgdGhlIGtleSBzaWduYXR1cmUgKDE9WCkuXHJcbiAgICogQHBhcmFtIGRyYXdUaW1lIERyYXcgdGhlIHRpbWUgc2lnbmF0dXJlIChYL1kpLlxyXG4gICAqIEByZXR1cm5zIFRoZSB3aWR0aCBvZiB0aGUgZHJhd24gc2lnbmF0dXJlcy5cclxuICAgKi9cclxuICAgcHJpdmF0ZSBkcmF3U2lnbmF0dXJlcyhcclxuICAgICAgIGNvbnRhaW5lcjogU1ZHR0VsZW1lbnQsXHJcbiAgICAgICB4OiBudW1iZXIsXHJcbiAgICAgICBkcmF3S2V5OiBib29sZWFuLFxyXG4gICAgICAgZHJhd1RpbWU6IGJvb2xlYW5cclxuICAgKTogbnVtYmVyIHtcclxuICAgICAgIGxldCBjdXJyZW50WCA9IHg7XHJcbiAgICAgICBjb25zdCBzcGFjaW5nID0gdGhpcy5lc3RpbWF0ZWROb3RlV2lkdGggKiAwLjM7IC8vIFNwYWNpbmcgYmV0d2VlbiBlbGVtZW50c1xyXG4gICAgICAgY29uc3QgdGltZUZvbnRTaXplID0gYCR7dGhpcy5zbWFsbEZvbnRTaXplfXB4YDtcclxuICAgICAgIGNvbnN0IGtleUZvbnRTaXplID0gYCR7dGhpcy5udW1iZXJGb250U2l6ZX1weGA7IC8vIEtleSBzaWcgc2xpZ2h0bHkgbGFyZ2VyXHJcblxyXG4gICAgICAgLy8gLS0tIEtleSBTaWduYXR1cmUgKGUuZy4sIDE9QykgLS0tXHJcbiAgICAgICBpZiAoZHJhd0tleSkge1xyXG4gICAgICAgICAgIGNvbnN0IGtleU5hbWUgPSBQSVRDSF9DTEFTU19OQU1FU1t0aGlzLmN1cnJlbnRLZXkgJSAxMl0gPz8gJ0MnO1xyXG4gICAgICAgICAgIGNvbnN0IGtleVRleHQgPSBgMT0ke2tleU5hbWV9YDtcclxuICAgICAgICAgICBjb25zdCBrZXlTaWcgPSBkcmF3U1ZHVGV4dChjb250YWluZXIsIGtleVRleHQsIGN1cnJlbnRYLCAwLCBrZXlGb250U2l6ZSwgJ25vcm1hbCcsICdzdGFydCcsICdtaWRkbGUnLCB0aGlzLmNvbmZpZy5ub3RlQ29sb3IpO1xyXG4gICAgICAgICAgIGN1cnJlbnRYICs9IGtleVNpZy5nZXRCQm94KCkud2lkdGggKyBzcGFjaW5nICogMjsgLy8gTW9yZSBzcGFjZSBhZnRlciBrZXkgc2lnXHJcbiAgICAgICB9XHJcblxyXG4gICAgICAgLy8gLS0tIFRpbWUgU2lnbmF0dXJlIChlLmcuLCA0LzQpIC0tLVxyXG4gICAgICAgaWYgKGRyYXdUaW1lKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTdHIgPSBgJHt0aGlzLmN1cnJlbnRUaW1lU2lnbmF0dXJlLm51bWVyYXRvcn0vJHt0aGlzLmN1cnJlbnRUaW1lU2lnbmF0dXJlLmRlbm9taW5hdG9yfWA7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaWcgPSBkcmF3U1ZHVGV4dChcclxuICAgICAgICAgICAgICAgIGNvbnRhaW5lciwgXHJcbiAgICAgICAgICAgICAgICB0aW1lU3RyLCBcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRYLCBcclxuICAgICAgICAgICAgICAgIDAsICAvLyDkv53mjIHkuI7ln7rnur/lr7npvZBcclxuICAgICAgICAgICAgICAgIHRpbWVGb250U2l6ZSwgXHJcbiAgICAgICAgICAgICAgICAnbm9ybWFsJywgXHJcbiAgICAgICAgICAgICAgICAnc3RhcnQnLCBcclxuICAgICAgICAgICAgICAgICdtaWRkbGUnLCAgLy8g5Z6C55u05bGF5LitXHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5ub3RlQ29sb3JcclxuICAgICAgICAgICAgKTtcclxuICAgICAgICAgICAgY3VycmVudFggKz0gdGltZVNpZy5nZXRCQm94KCkud2lkdGggKyBzcGFjaW5nO1xyXG4gICAgICAgfVxyXG5cclxuICAgICAgIGNvbnN0IHRvdGFsV2lkdGggPSBjdXJyZW50WCAtIHg7XHJcblxyXG4gICAgICAgLy8gVXBkYXRlIHZlcnRpY2FsIGJvdW5kcyBiYXNlZCBvbiBzaWduYXR1cmUgaGVpZ2h0XHJcbiAgICAgICAvLyBVc2UgdHJ5LWNhdGNoIGFzIGdldEJCb3ggY2FuIGZhaWwgaWYgZWxlbWVudCBpcyBub3QgcmVuZGVyZWRcclxuICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgY29uc3QgYm91bmRzID0gY29udGFpbmVyLmdldEJCb3goKTtcclxuICAgICAgICAgICBjb25zdCBtaW5ZID0gYm91bmRzLnk7IC8vIFJlbGF0aXZlIHRvIGJhc2VsaW5lXHJcbiAgICAgICAgICAgY29uc3QgbWF4WSA9IGJvdW5kcy55ICsgYm91bmRzLmhlaWdodDtcclxuICAgICAgICAgICAvLyBDYWxjdWxhdGUgcmVxdWlyZWQgdG90YWwgaGVpZ2h0IGJhc2VkIG9uIGJhc2VsaW5lIGFuZCBib3VuZHNcclxuICAgICAgICAgICBjb25zdCByZXF1aXJlZEhlaWdodCA9IE1hdGgubWF4KHRoaXMueUJhc2VsaW5lICsgbWF4WSwgdGhpcy55QmFzZWxpbmUgLSBtaW5ZKSArIHRoaXMuY29uZmlnLm5vdGVIZWlnaHQgKiAwLjU7IC8vIEFkZCBidWZmZXJcclxuICAgICAgICAgICB0aGlzLmhlaWdodCA9IE1hdGgubWF4KHRoaXMuaGVpZ2h0LCByZXF1aXJlZEhlaWdodCk7XHJcbiAgICAgICB9IGNhdGNoKGUpIHtcclxuICAgICAgICAgICAvLyBJZ25vcmUgZXJyb3JcclxuICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgLy8gLS0tIEJsaW5raW5nIExvZ2ljIChPdmVybGF5IE9ubHkpIC0tLVxyXG4gICAgICAgIGlmIChjb250YWluZXIgPT09IHRoaXMub3ZlcmxheUcgJiYgdGhpcy5jb25maWcucGl4ZWxzUGVyVGltZVN0ZXAgPiAwKSB7XHJcbiAgICAgICAgICAgICB0aGlzLnNpZ25hdHVyZXNCbGlua2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICBzZXRCbGlua0FuaW1hdGlvbih0aGlzLm92ZXJsYXlHLCB0cnVlKTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgIHJldHVybiB0b3RhbFdpZHRoO1xyXG4gICB9XHJcblxyXG4gIC8qKiBVcGRhdGVzIHRoZSBjdXJyZW50IGtleSBpZiBjaGFuZ2VkIGF0IHRoZSBnaXZlbiB0aW1lICovXHJcbiAgcHJpdmF0ZSB1cGRhdGVDdXJyZW50S2V5KHRpbWVROiBudW1iZXIpOiBib29sZWFuIHtcclxuICAgICAgY29uc3QgbmV3S2V5ID0gdGhpcy5qaWFucHVNb2RlbC5tZWFzdXJlc0luZm8ua2V5U2lnbmF0dXJlQXRRKHRpbWVRLCB0cnVlKTsgLy8gQ2hlY2sgZm9yIGV4YWN0IGNoYW5nZVxyXG4gICAgICBpZiAobmV3S2V5ICE9PSAtMSAmJiBuZXdLZXkgIT09IHRoaXMuY3VycmVudEtleSkge1xyXG4gICAgICAgICAgdGhpcy5jdXJyZW50S2V5ID0gbmV3S2V5O1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqIFVwZGF0ZXMgdGhlIGN1cnJlbnQgdGltZSBzaWduYXR1cmUgaWYgY2hhbmdlZCBhdCB0aGUgZ2l2ZW4gdGltZSAqL1xyXG4gIHByaXZhdGUgdXBkYXRlQ3VycmVudFRpbWVTaWduYXR1cmUodGltZVE6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICBjb25zdCBuZXdUaW1lU2lnID0gdGhpcy5qaWFucHVNb2RlbC5tZWFzdXJlc0luZm8udGltZVNpZ25hdHVyZUF0USh0aW1lUSwgdHJ1ZSk7IC8vIENoZWNrIGZvciBleGFjdCBjaGFuZ2VcclxuICAgICAgaWYgKG5ld1RpbWVTaWcgJiYgKG5ld1RpbWVTaWcubnVtZXJhdG9yICE9PSB0aGlzLmN1cnJlbnRUaW1lU2lnbmF0dXJlLm51bWVyYXRvciB8fFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgbmV3VGltZVNpZy5kZW5vbWluYXRvciAhPT0gdGhpcy5jdXJyZW50VGltZVNpZ25hdHVyZS5kZW5vbWluYXRvcikpXHJcbiAgICAgIHtcclxuICAgICAgICAgIHRoaXMuY3VycmVudFRpbWVTaWduYXR1cmUgPSBuZXdUaW1lU2lnO1xyXG4gICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgLyoqIEhhbmRsZXMgc2Nyb2xsIGV2ZW50cyB0byB1cGRhdGUgdGhlIGZpeGVkIHNpZ25hdHVyZSBvdmVybGF5ICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVTY3JvbGxFdmVudCA9IChfZXZlbnQ6IEV2ZW50KSA9PiB7XHJcbiAgICB0aGlzLmxhc3RLbm93blNjcm9sbExlZnQgPSB0aGlzLnBhcmVudEVsZW1lbnQuc2Nyb2xsTGVmdDtcclxuICAgIGlmICghdGhpcy5pc1Njcm9sbGluZykge1xyXG4gICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZU92ZXJsYXlTaWduYXR1cmVzRm9yU2Nyb2xsKHRoaXMubGFzdEtub3duU2Nyb2xsTGVmdCk7XHJcbiAgICAgICAgdGhpcy5pc1Njcm9sbGluZyA9IGZhbHNlO1xyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHRoaXMuaXNTY3JvbGxpbmcgPSB0cnVlO1xyXG4gIH07XHJcblxyXG4gIC8qKiBTY3JvbGxzIHRoZSBjb250YWluZXIgdG8gYnJpbmcgdGhlIGFjdGl2ZSBub3RlIGludG8gdmlldyAqL1xyXG4gIHByaXZhdGUgc2Nyb2xsSW50b1ZpZXdJZk5lZWRlZChhY3RpdmVOb3RlUG9zaXRpb246IG51bWJlcikge1xyXG4gICAgICBjb25zdCBjb250YWluZXJXaWR0aCA9IHRoaXMucGFyZW50RWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aDtcclxuICAgICAgY29uc3QgY3VycmVudFNjcm9sbCA9IHRoaXMucGFyZW50RWxlbWVudC5zY3JvbGxMZWZ0O1xyXG4gICAgICBsZXQgdGFyZ2V0U2Nyb2xsID0gY3VycmVudFNjcm9sbDtcclxuXHJcbiAgICAgIGlmICh0aGlzLmNvbmZpZy5zY3JvbGxUeXBlID09PSBTY3JvbGxUeXBlLlBBR0UpIHtcclxuICAgICAgICAgIGNvbnN0IHNjcm9sbE1hcmdpbiA9IDIwOyAvLyBNYXJnaW4gZnJvbSBlZGdlXHJcbiAgICAgICAgICBpZiAoYWN0aXZlTm90ZVBvc2l0aW9uIDwgY3VycmVudFNjcm9sbCArIHNjcm9sbE1hcmdpbikge1xyXG4gICAgICAgICAgICAgIC8vIE5vdGUgaXMgb2ZmIHRoZSBsZWZ0IGVkZ2VcclxuICAgICAgICAgICAgICB0YXJnZXRTY3JvbGwgPSBhY3RpdmVOb3RlUG9zaXRpb24gLSBzY3JvbGxNYXJnaW47XHJcbiAgICAgICAgICB9IGVsc2UgaWYgKGFjdGl2ZU5vdGVQb3NpdGlvbiA+IGN1cnJlbnRTY3JvbGwgKyBjb250YWluZXJXaWR0aCAtIHNjcm9sbE1hcmdpbikge1xyXG4gICAgICAgICAgICAgIC8vIE5vdGUgaXMgb2ZmIHRoZSByaWdodCBlZGdlXHJcbiAgICAgICAgICAgICAgdGFyZ2V0U2Nyb2xsID0gYWN0aXZlTm90ZVBvc2l0aW9uIC0gY29udGFpbmVyV2lkdGggKyBzY3JvbGxNYXJnaW47XHJcbiAgICAgICAgICB9XHJcbiAgICAgIH0gZWxzZSB7IC8vIE5PVEUgb3IgQkFSIHNjcm9sbGluZyAoY2VudGVyIHRoZSBub3RlL2JhciBzdGFydClcclxuICAgICAgICAgIGNvbnN0IGNlbnRlck9mZnNldCA9IGNvbnRhaW5lcldpZHRoICogMC41O1xyXG4gICAgICAgICAgdGFyZ2V0U2Nyb2xsID0gYWN0aXZlTm90ZVBvc2l0aW9uIC0gY2VudGVyT2Zmc2V0O1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDbGFtcCBzY3JvbGwgcG9zaXRpb24gdG8gdmFsaWQgcmFuZ2VcclxuICAgICAgdGFyZ2V0U2Nyb2xsID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGFyZ2V0U2Nyb2xsLCB0aGlzLnBhcmVudEVsZW1lbnQuc2Nyb2xsV2lkdGggLSBjb250YWluZXJXaWR0aCkpO1xyXG5cclxuICAgICAgaWYgKE1hdGguYWJzKHRhcmdldFNjcm9sbCAtIGN1cnJlbnRTY3JvbGwpID4gMSkgeyAvLyBPbmx5IHNjcm9sbCBpZiBuZWVkZWRcclxuICAgICAgICAgIHRoaXMucGFyZW50RWxlbWVudC5zY3JvbGxUbyh7XHJcbiAgICAgICAgICAgICAgbGVmdDogdGFyZ2V0U2Nyb2xsLFxyXG4gICAgICAgICAgICAgIGJlaGF2aW9yOiAnc21vb3RoJyAvLyBVc2Ugc21vb3RoIHNjcm9sbGluZ1xyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgLy8gTWFudWFsbHkgdXBkYXRlIG92ZXJsYXkgYWZ0ZXIgc2Nyb2xsIHN0YXJ0cywgYXMgc2Nyb2xsIGV2ZW50IG1pZ2h0IGxhZ1xyXG4gICAgICAgICAgIHRoaXMudXBkYXRlT3ZlcmxheVNpZ25hdHVyZXNGb3JTY3JvbGwodGFyZ2V0U2Nyb2xsKTtcclxuICAgICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIEhlbHBlciB0byB1cGRhdGUgb3ZlcmxheSBiYXNlZCBvbiBhIHRhcmdldCBzY3JvbGwgcG9zaXRpb24gKi9cclxuICAgcHJpdmF0ZSB1cGRhdGVPdmVybGF5U2lnbmF0dXJlc0ZvclNjcm9sbChzY3JvbGxMZWZ0OiBudW1iZXIpIHtcclxuICAgICAgICBjb25zdCBzY3JvbGxlZFRpbWVRID0gdGhpcy5waXhlbHNUb1RpbWUoc2Nyb2xsTGVmdCk7XHJcbiAgICAgICAgY29uc3Qga2V5QXRTY3JvbGwgPSB0aGlzLmppYW5wdU1vZGVsLm1lYXN1cmVzSW5mby5rZXlTaWduYXR1cmVBdFEoc2Nyb2xsZWRUaW1lUSk7XHJcbiAgICAgICAgY29uc3QgdGltZVNpZ0F0U2Nyb2xsID0gdGhpcy5qaWFucHVNb2RlbC5tZWFzdXJlc0luZm8udGltZVNpZ25hdHVyZUF0UShzY3JvbGxlZFRpbWVRKSA/PyB0aGlzLmN1cnJlbnRUaW1lU2lnbmF0dXJlO1xyXG5cclxuICAgICAgICBsZXQgbmVlZHNSZWRyYXcgPSBmYWxzZTtcclxuICAgICAgICBpZiAoa2V5QXRTY3JvbGwgIT09IHRoaXMuY3VycmVudEtleSkge1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRLZXkgPSBrZXlBdFNjcm9sbDtcclxuICAgICAgICAgICAgbmVlZHNSZWRyYXcgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAgaWYgKHRpbWVTaWdBdFNjcm9sbC5udW1lcmF0b3IgIT09IHRoaXMuY3VycmVudFRpbWVTaWduYXR1cmUubnVtZXJhdG9yIHx8XHJcbiAgICAgICAgICAgICB0aW1lU2lnQXRTY3JvbGwuZGVub21pbmF0b3IgIT09IHRoaXMuY3VycmVudFRpbWVTaWduYXR1cmUuZGVub21pbmF0b3IpIHtcclxuICAgICAgICAgICAgIHRoaXMuY3VycmVudFRpbWVTaWduYXR1cmUgPSB0aW1lU2lnQXRTY3JvbGw7XHJcbiAgICAgICAgICAgICBuZWVkc1JlZHJhdyA9IHRydWU7XHJcbiAgICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKG5lZWRzUmVkcmF3KSB7XHJcbiAgICAgICAgICAgIHdoaWxlICh0aGlzLm92ZXJsYXlHLmxhc3RDaGlsZCkgdGhpcy5vdmVybGF5Ry5yZW1vdmVDaGlsZCh0aGlzLm92ZXJsYXlHLmxhc3RDaGlsZCk7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd1NpZ25hdHVyZXModGhpcy5vdmVybGF5RywgMCwgdHJ1ZSwgdHJ1ZSk7XHJcbiAgICAgICAgICAgIC8vIEJsaW5raW5nIGxvZ2ljIG9uIHNjcm9sbCB1cGRhdGVcclxuICAgICAgICAgICAgIGlmIChzY3JvbGxMZWZ0IDwgMTAgJiYgdGhpcy5jb25maWcucGl4ZWxzUGVyVGltZVN0ZXAgPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgIHNldEJsaW5rQW5pbWF0aW9uKHRoaXMub3ZlcmxheUcsIHRydWUpOyB0aGlzLnNpZ25hdHVyZXNCbGlua2luZyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmNvbmZpZy5waXhlbHNQZXJUaW1lU3RlcCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgc2V0QmxpbmtBbmltYXRpb24odGhpcy5vdmVybGF5RywgZmFsc2UpOyB0aGlzLnNpZ25hdHVyZXNCbGlua2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgIH1cclxuXHJcblxyXG4gIC8qKiBDb252ZXJ0cyBhIHBpeGVsIHBvc2l0aW9uIHRvIGEgdGltZSBpbiBxdWFydGVyIG5vdGVzIChwcm9wb3J0aW9uYWwgbW9kZSBvbmx5KSAqL1xyXG4gIHByaXZhdGUgcGl4ZWxzVG9UaW1lKHBpeGVsczogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgaWYgKHRoaXMuY29uZmlnLnBpeGVsc1BlclRpbWVTdGVwIDw9IDApIHJldHVybiAwOyAvLyBOb3QgYXBwbGljYWJsZSBpbiBjb21wYWN0IG1vZGVcclxuICAgICAgLy8gVXNlIHN0YXJ0IHRpbWUgMCBmb3IgdGVtcG8gY29udGV4dCBmb3IgZ2VuZXJhbCBzY3JvbGwgcG9zaXRpb25cclxuICAgICAgcmV0dXJuIHRoaXMuamlhbnB1TW9kZWwubWVhc3VyZXNJbmZvLnRpbWVUb1F1YXJ0ZXJzKHBpeGVscyAvIHRoaXMuY29uZmlnLnBpeGVsc1BlclRpbWVTdGVwLCAwKTtcclxuICB9XHJcblxyXG59IiwiLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDI1IGZsdWZ5M2QuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICAgIEppYW5wdUluZm8sIE5vdGVJbmZvLCBLZXlTaWduYXR1cmVJbmZvLFxyXG4gICAgREVGQVVMVF9URU1QTywgREVGQVVMVF9USU1FX1NJR05BVFVSRSwgREVGQVVMVF9LRVlfU0lHTkFUVVJFXHJcbiAgfSBmcm9tICcuL2ppYW5wdV9pbmZvJztcclxuICBpbXBvcnQgeyBNZWFzdXJlc0luZm8gfSBmcm9tICcuL21lYXN1cmVfaW5mbyc7XHJcbiAgaW1wb3J0IHsgSmlhbnB1QmxvY2ssIEppYW5wdUJsb2NrTWFwLCBKaWFucHVOb3RlIH0gZnJvbSAnLi9qaWFucHVfYmxvY2snO1xyXG4gIGltcG9ydCB7XHJcbiAgICAgTUFKT1JfU0NBTEVfSU5URVJWQUxTLCBNSURETEVfQ19NSURJXHJcbiAgfSBmcm9tICcuL21vZGVsX2NvbnN0YW50cyc7XHJcbiAgXHJcbiAgLyoqXHJcbiAgICogTW9kZWxzIEppYW5wdUluZm8gaW50byBhIG11c2ljYWwgc3RydWN0dXJlIG9mIEppYW5wdUJsb2NrcyBpbmRleGVkIGJ5IHRoZVxyXG4gICAqIHF1YXJ0ZXIgbm90ZSB0aW1lIHRoZXkgc3RhcnQgZnJvbS4gSGFuZGxlcyBub3RlIHByb2Nlc3NpbmcsIHNwbGl0dGluZywgYW5kXHJcbiAgICogcmh5dGhtaWMgY29udGV4dC5cclxuICAgKi9cclxuICBleHBvcnQgY2xhc3MgSmlhbnB1TW9kZWwge1xyXG4gICAgLyoqIFRoZSBpbnB1dCBzY29yZSBpbmZvLCBzdG9yZWQgZm9yIHBvdGVudGlhbCBleHRlcm5hbCB1cGRhdGVzLiAqL1xyXG4gICAgcHVibGljIGppYW5wdUluZm86IEppYW5wdUluZm87XHJcbiAgICAvKiogUHJlLWNhbGN1bGF0ZWQgbWVhc3VyZSwgdGVtcG8sIGtleSwgYW5kIHRpbWUgc2lnbmF0dXJlIGluZm8gcGVyIHRpbWUgY2h1bmsuICovXHJcbiAgICBwdWJsaWMgbWVhc3VyZXNJbmZvOiBNZWFzdXJlc0luZm87XHJcbiAgICAvKiogVGhlIHJlc3VsdCBvZiBhbmFseXNpczogSmlhbnB1QmxvY2tzIGluZGV4ZWQgYnkgc3RhcnQgdGltZSAocXVhcnRlcnMpLiAqL1xyXG4gICAgcHVibGljIGppYW5wdUJsb2NrTWFwOiBKaWFucHVCbG9ja01hcDtcclxuICAgIC8qKiBMYXN0IHByb2Nlc3NlZCBxdWFydGVyIG5vdGUgdGltZSwgaW5kaWNhdGluZyB0aGUgc2NvcmUncyBkdXJhdGlvbi4gKi9cclxuICAgIHByaXZhdGUgbGFzdFE6IG51bWJlcjtcclxuICBcclxuICAgIC8qKlxyXG4gICAgICogQ3JlYXRlcyBhIGBKaWFucHVNb2RlbGAuXHJcbiAgICAgKiBAcGFyYW0gamlhbnB1SW5mbyBHZW5lcmljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBzY29yZS5cclxuICAgICAqIEBwYXJhbSBkZWZhdWx0S2V5IE9wdGlvbmFsIGRlZmF1bHQga2V5IHNpZ25hdHVyZSAoMC0xMSwgMD1DKSBpZiBub3Qgc3BlY2lmaWVkIGF0IHRpbWUgMC5cclxuICAgICAqL1xyXG4gICAgY29uc3RydWN0b3IoamlhbnB1SW5mbzogSmlhbnB1SW5mbywgZGVmYXVsdEtleT86IG51bWJlcikge1xyXG4gICAgICB0aGlzLmppYW5wdUluZm8gPSBqaWFucHVJbmZvO1xyXG4gICAgICB0aGlzLmppYW5wdUJsb2NrTWFwID0gbmV3IE1hcCgpO1xyXG4gICAgICB0aGlzLmxhc3RRID0gMDtcclxuICAgICAgdGhpcy51cGRhdGUoamlhbnB1SW5mbywgZGVmYXVsdEtleSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvKipcclxuICAgICAqIOWIpOaWree7meWumuaXtumXtOaYr+WQpuWkhOS6juS5kOiwseacgOWQjuS4gOS4quWwj+iKglxyXG4gICAgICogQHBhcmFtIHEg6KaB5qOA5p+l55qE5Zub5YiG6Z+z56ym5pe26Ze05L2N572uXHJcbiAgICAgKiBAcmV0dXJucyDlpoLmnpzlpITkuo7mnIDlkI7lsI/oioLov5Tlm550cnVlXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBpc0xhc3RNZWFzdXJlQXRRKHE6IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gICAgICByZXR1cm4gcSA+PSB0aGlzLmxhc3RRIC0gMWUtNjsgLy8g5YWB6K645rWu54K55pWw57K+5bqm6K+v5beuXHJcbiAgICB9XHJcbiAgXHJcbiAgICAvKipcclxuICAgICAqIOiOt+WPluS5kOiwseaAu+aXtumVvyjnlKjkuo7lpJbpg6jorr/pl65sYXN0USlcclxuICAgICAqL1xyXG4gICAgcHVibGljIGdldFRvdGFsRHVyYXRpb24oKTogbnVtYmVyIHtcclxuICAgICAgcmV0dXJuIHRoaXMubGFzdFE7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvKipcclxuICAgICAqIFByb2Nlc3NlcyBuZXcgSmlhbnB1SW5mbyB0byB1cGRhdGUgdGhlIGludGVybmFsIG1vZGVsLlxyXG4gICAgICogU29ydHMgaW5wdXQgYXJyYXlzIGFuZCBlbnN1cmVzIGRlZmF1bHRzIGFyZSBwcmVzZW50LlxyXG4gICAgICogUmVjYWxjdWxhdGVzIGBtZWFzdXJlc0luZm9gIGFuZCBgamlhbnB1QmxvY2tNYXBgLlxyXG4gICAgICogQHBhcmFtIGppYW5wdUluZm8gTmV3IHNjb3JlIGluZm9ybWF0aW9uLlxyXG4gICAgICogQHBhcmFtIGRlZmF1bHRLZXkgT3B0aW9uYWwgZGVmYXVsdCBrZXkuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyB1cGRhdGUoamlhbnB1SW5mbzogSmlhbnB1SW5mbywgZGVmYXVsdEtleT86IG51bWJlcikge1xyXG4gICAgICB0aGlzLmppYW5wdUluZm8gPSBqaWFucHVJbmZvO1xyXG4gIFxyXG4gICAgICBqaWFucHVJbmZvLm5vdGVzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KTtcclxuICBcclxuICAgICAgdGhpcy5sYXN0USA9IDA7XHJcbiAgICAgIGppYW5wdUluZm8ubm90ZXMuZm9yRWFjaChub3RlID0+IHtcclxuICAgICAgICAgIHRoaXMubGFzdFEgPSBNYXRoLm1heCh0aGlzLmxhc3RRLCBub3RlLnN0YXJ0ICsgbm90ZS5sZW5ndGgpO1xyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5sYXN0USArPSAxZS02OyAvLyBTbWFsbCBidWZmZXIgZm9yIGZpbmFsIGJsb2NrIHByb2Nlc3NpbmdcclxuICBcclxuICAgICAgamlhbnB1SW5mby50ZW1wb3MgPSBqaWFucHVJbmZvLnRlbXBvcyAmJiBqaWFucHVJbmZvLnRlbXBvcy5sZW5ndGggPyBqaWFucHVJbmZvLnRlbXBvcyA6IFtERUZBVUxUX1RFTVBPXTtcclxuICAgICAgamlhbnB1SW5mby50ZW1wb3Muc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xyXG4gICAgICBpZiAoamlhbnB1SW5mby50ZW1wb3NbMF0uc3RhcnQgPiAxZS02KSB7XHJcbiAgICAgICAgICBqaWFucHVJbmZvLnRlbXBvcy51bnNoaWZ0KHsuLi5ERUZBVUxUX1RFTVBPLCBzdGFydDogMCB9KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICBjb25zdCBzdGFydGluZ0tleTogS2V5U2lnbmF0dXJlSW5mbyA9IGRlZmF1bHRLZXkgIT09IHVuZGVmaW5lZCA/XHJcbiAgICAgICAgICB7IHN0YXJ0OiAwLCBrZXk6IGRlZmF1bHRLZXkgfSA6IHsgLi4uREVGQVVMVF9LRVlfU0lHTkFUVVJFIH07XHJcbiAgICAgIGppYW5wdUluZm8ua2V5U2lnbmF0dXJlcyA9IGppYW5wdUluZm8ua2V5U2lnbmF0dXJlcyAmJiBqaWFucHVJbmZvLmtleVNpZ25hdHVyZXMubGVuZ3RoID8gamlhbnB1SW5mby5rZXlTaWduYXR1cmVzIDogW3N0YXJ0aW5nS2V5XTtcclxuICAgICAgamlhbnB1SW5mby5rZXlTaWduYXR1cmVzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KTtcclxuICAgICAgaWYgKGppYW5wdUluZm8ua2V5U2lnbmF0dXJlc1swXS5zdGFydCA+IDFlLTYpIHtcclxuICAgICAgICAgICBqaWFucHVJbmZvLmtleVNpZ25hdHVyZXMudW5zaGlmdCh7Li4uc3RhcnRpbmdLZXksIHN0YXJ0OiAwfSk7XHJcbiAgICAgIH1cclxuICBcclxuICAgICAgamlhbnB1SW5mby50aW1lU2lnbmF0dXJlcyA9IGppYW5wdUluZm8udGltZVNpZ25hdHVyZXMgJiYgamlhbnB1SW5mby50aW1lU2lnbmF0dXJlcy5sZW5ndGggPyBqaWFucHVJbmZvLnRpbWVTaWduYXR1cmVzIDogW0RFRkFVTFRfVElNRV9TSUdOQVRVUkVdO1xyXG4gICAgICBqaWFucHVJbmZvLnRpbWVTaWduYXR1cmVzLnNvcnQoKGEsIGIpID0+IGEuc3RhcnQgLSBiLnN0YXJ0KTtcclxuICAgICAgaWYgKGppYW5wdUluZm8udGltZVNpZ25hdHVyZXNbMF0uc3RhcnQgPiAxZS02KSB7XHJcbiAgICAgICAgICAgamlhbnB1SW5mby50aW1lU2lnbmF0dXJlcy51bnNoaWZ0KHsuLi5ERUZBVUxUX1RJTUVfU0lHTkFUVVJFLCBzdGFydDogMH0pO1xyXG4gICAgICB9XHJcbiAgXHJcbiAgICAgIHRoaXMubWVhc3VyZXNJbmZvID0gbmV3IE1lYXN1cmVzSW5mbyhqaWFucHVJbmZvLCB0aGlzLmxhc3RRKTtcclxuICAgICAgdGhpcy5pbmZvVG9CbG9ja3MoKTtcclxuICAgIH1cclxuICBcclxuICAgIC8qKlxyXG4gICAgKiBDb252ZXJ0cyByYXcgTm90ZUluZm8gaW50byBzdHJ1Y3R1cmVkIEppYW5wdUJsb2Nrcy5cclxuICAgICogSGFuZGxlcyBub3RlIGdyb3VwaW5nLCByZXN0cywgYW5kIGJhc2ljIHNwbGl0dGluZy5cclxuICAgICovXHJcbiAgICBwcml2YXRlIGluZm9Ub0Jsb2NrcygpOiB2b2lkIHtcclxuICAgICAgY29uc3QgcmF3QmxvY2tzID0gbmV3IE1hcDxudW1iZXIsIEppYW5wdUJsb2NrPigpO1xyXG4gICAgICBsZXQgbGFzdE5vdGVFbmRUaW1lID0gMDtcclxuICBcclxuICAgICAgdGhpcy5qaWFucHVJbmZvLm5vdGVzLmZvckVhY2gobm90ZSA9PiB7XHJcbiAgICAgICAgICBjb25zdCBub3RlU3RhcnQgPSBub3RlLnN0YXJ0O1xyXG4gICAgICAgICAgY29uc3QgbWVhc3VyZU51bWJlciA9IHRoaXMubWVhc3VyZXNJbmZvLm1lYXN1cmVOdW1iZXJBdFEobm90ZVN0YXJ0KTtcclxuICBcclxuICAgICAgICAgIGlmIChub3RlU3RhcnQgPiBsYXN0Tm90ZUVuZFRpbWUgKyAxZS02KSB7IC8vIEZpbGwgUmVzdHNcclxuICAgICAgICAgICAgICBjb25zdCByZXN0U3RhcnQgPSBsYXN0Tm90ZUVuZFRpbWU7XHJcbiAgICAgICAgICAgICAgY29uc3QgcmVzdExlbmd0aCA9IG5vdGVTdGFydCAtIHJlc3RTdGFydDtcclxuICAgICAgICAgICAgICBjb25zdCByZXN0TWVhc3VyZU51bSA9IHRoaXMubWVhc3VyZXNJbmZvLm1lYXN1cmVOdW1iZXJBdFEocmVzdFN0YXJ0KTtcclxuICAgICAgICAgICAgICBjb25zdCByZXN0QmxvY2sgPSBuZXcgSmlhbnB1QmxvY2socmVzdFN0YXJ0LCByZXN0TGVuZ3RoLCBbXSwgcmVzdE1lYXN1cmVOdW0pO1xyXG4gICAgICAgICAgICAgIHJhd0Jsb2Nrcy5zZXQocmVzdFN0YXJ0LCByZXN0QmxvY2spO1xyXG4gICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgY29uc3Qga2V5U2lnbmF0dXJlS2V5ID0gdGhpcy5tZWFzdXJlc0luZm8ua2V5U2lnbmF0dXJlQXRRKG5vdGVTdGFydCk7XHJcbiAgICAgICAgICBjb25zdCBqaWFucHVOb3RlID0gdGhpcy5jcmVhdGVKaWFucHVOb3RlKG5vdGUsIGtleVNpZ25hdHVyZUtleSk7XHJcbiAgXHJcbiAgICAgICAgICBsZXQgYmxvY2sgPSByYXdCbG9ja3MuZ2V0KG5vdGVTdGFydCk7XHJcbiAgICAgICAgICBpZiAoIWJsb2NrKSB7XHJcbiAgICAgICAgICAgICAgYmxvY2sgPSBuZXcgSmlhbnB1QmxvY2sobm90ZVN0YXJ0LCAwLCBbXSwgbWVhc3VyZU51bWJlcik7XHJcbiAgICAgICAgICAgICAgcmF3QmxvY2tzLnNldChub3RlU3RhcnQsIGJsb2NrKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICAgIGJsb2NrLmFkZE5vdGUoamlhbnB1Tm90ZSk7XHJcbiAgICAgICAgICBsYXN0Tm90ZUVuZFRpbWUgPSBNYXRoLm1heChsYXN0Tm90ZUVuZFRpbWUsIG5vdGVTdGFydCArIGJsb2NrLmxlbmd0aCk7XHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICAgaWYgKHRoaXMubGFzdFEgPiBsYXN0Tm90ZUVuZFRpbWUgKyAxZS02KSB7IC8vIEFkZCBmaW5hbCByZXN0IGlmIG5lZWRlZFxyXG4gICAgICAgICAgIGNvbnN0IHJlc3RTdGFydCA9IGxhc3ROb3RlRW5kVGltZTtcclxuICAgICAgICAgICBjb25zdCByZXN0TGVuZ3RoID0gdGhpcy5sYXN0USAtIHJlc3RTdGFydDtcclxuICAgICAgICAgICAgaWYgKHJlc3RMZW5ndGggPiAxZS02KSB7XHJcbiAgICAgICAgICAgICAgIGNvbnN0IHJlc3RNZWFzdXJlTnVtID0gdGhpcy5tZWFzdXJlc0luZm8ubWVhc3VyZU51bWJlckF0UShyZXN0U3RhcnQpO1xyXG4gICAgICAgICAgICAgICBjb25zdCByZXN0QmxvY2sgPSBuZXcgSmlhbnB1QmxvY2socmVzdFN0YXJ0LCByZXN0TGVuZ3RoLCBbXSwgcmVzdE1lYXN1cmVOdW0pO1xyXG4gICAgICAgICAgICAgICByYXdCbG9ja3Muc2V0KHJlc3RTdGFydCwgcmVzdEJsb2NrKTtcclxuICAgICAgICAgICB9XHJcbiAgICAgICB9XHJcbiAgXHJcbiAgICAgIHRoaXMuamlhbnB1QmxvY2tNYXAgPSBuZXcgTWFwKCk7XHJcbiAgICAgIGNvbnN0IHNvcnRlZFN0YXJ0c0Zyb21SYXcgPSBBcnJheS5mcm9tKHJhd0Jsb2Nrcy5rZXlzKCkpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcclxuICAgICAgbGV0IGJsb2NrUHJvY2Vzc2luZ1F1ZXVlOiBKaWFucHVCbG9ja1tdID0gW107XHJcbiAgICAgIHNvcnRlZFN0YXJ0c0Zyb21SYXcuZm9yRWFjaChzdGFydCA9PiB7XHJcbiAgICAgICAgICBibG9ja1Byb2Nlc3NpbmdRdWV1ZS5wdXNoKHJhd0Jsb2Nrcy5nZXQoc3RhcnQpISk7XHJcbiAgICAgIH0pO1xyXG4gIFxyXG4gICAgICBjb25zdCBwcm9jZXNzZWRCbG9ja3NGb3JTcGxpdHRpbmcgPSBuZXcgU2V0PG51bWJlcj4oKTtcclxuICBcclxuICAgICAgd2hpbGUgKGJsb2NrUHJvY2Vzc2luZ1F1ZXVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgIGxldCBjdXJyZW50QmxvY2sgPSBibG9ja1Byb2Nlc3NpbmdRdWV1ZS5zaGlmdCgpITtcclxuICBcclxuICAgICAgICAgIGlmIChwcm9jZXNzZWRCbG9ja3NGb3JTcGxpdHRpbmcuaGFzKGN1cnJlbnRCbG9jay5zdGFydCkgJiYgdGhpcy5qaWFucHVCbG9ja01hcC5oYXMoY3VycmVudEJsb2NrLnN0YXJ0KSkge1xyXG4gICAgICAgICAgICAgIC8vIEJsb2NrIG1pZ2h0IGhhdmUgYmVlbiByZS1hZGRlZCBhZnRlciBhIHNwbGl0LCBwb3RlbnRpYWxseSBtZXJnZWQgYWxyZWFkeS5cclxuICAgICAgICAgICAgICAvLyBtZXJnZVRvTWFwIHNob3VsZCBoYW5kbGUgdXBkYXRlcyBpZiBuZWNlc3NhcnkuXHJcbiAgICAgICAgICB9XHJcbiAgXHJcbiAgICAgICAgICBsZXQgcmVtYWluaW5nQmVhdFNwbGl0ID0gY3VycmVudEJsb2NrLnNwbGl0VG9CZWF0KHRoaXMubWVhc3VyZXNJbmZvKTtcclxuICAgICAgICAgIGlmIChyZW1haW5pbmdCZWF0U3BsaXQpIHtcclxuICAgICAgICAgICAgICBjdXJyZW50QmxvY2subWVyZ2VUb01hcCh0aGlzLmppYW5wdUJsb2NrTWFwKTtcclxuICAgICAgICAgICAgICBwcm9jZXNzZWRCbG9ja3NGb3JTcGxpdHRpbmcuYWRkKGN1cnJlbnRCbG9jay5zdGFydCk7XHJcbiAgICAgICAgICAgICAgYmxvY2tQcm9jZXNzaW5nUXVldWUudW5zaGlmdChyZW1haW5pbmdCZWF0U3BsaXQpO1xyXG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICAgICAgfVxyXG4gIFxyXG4gICAgICAgICAgbGV0IGJsb2NrVG9TeW1ib2xTcGxpdCA9IGN1cnJlbnRCbG9jaztcclxuICAgICAgICAgIGxldCByZW1haW5pbmdTeW1ib2xTcGxpdCA6IEppYW5wdUJsb2NrIHwgbnVsbCA9IG51bGw7XHJcbiAgICAgICAgICBkbyB7XHJcbiAgICAgICAgICAgICAgcmVtYWluaW5nU3ltYm9sU3BsaXQgPSBibG9ja1RvU3ltYm9sU3BsaXQuc3BsaXRUb1N0YW5kYXJkU3ltYm9sKHRoaXMubWVhc3VyZXNJbmZvKTtcclxuICAgICAgICAgICAgICBibG9ja1RvU3ltYm9sU3BsaXQubWVyZ2VUb01hcCh0aGlzLmppYW5wdUJsb2NrTWFwKTtcclxuICAgICAgICAgICAgICBwcm9jZXNzZWRCbG9ja3NGb3JTcGxpdHRpbmcuYWRkKGJsb2NrVG9TeW1ib2xTcGxpdC5zdGFydCk7XHJcbiAgICAgICAgICAgICAgaWYgKHJlbWFpbmluZ1N5bWJvbFNwbGl0KSB7XHJcbiAgICAgICAgICAgICAgICAgIGJsb2NrVG9TeW1ib2xTcGxpdCA9IHJlbWFpbmluZ1N5bWJvbFNwbGl0O1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICB9IHdoaWxlKHJlbWFpbmluZ1N5bWJvbFNwbGl0KTtcclxuICAgICAgfVxyXG4gIFxyXG4gICAgICB0aGlzLmppYW5wdUJsb2NrTWFwLmZvckVhY2goKGJsb2NrKSA9PiB7XHJcbiAgICAgICAgICBibG9jay5jYWxjdWxhdGVSZW5kZXJQcm9wZXJ0aWVzKHRoaXMubWVhc3VyZXNJbmZvKTtcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgXHJcbiAgICAvKipcclxuICAgICAqIENvbnZlcnRzIGEgcmF3IE5vdGVJbmZvIGludG8gYSBKaWFucHVOb3RlLCBjYWxjdWxhdGluZyB0aGVcclxuICAgICAqIEppYW5wdSBudW1iZXIsIG9jdGF2ZSBkb3RzLCBhbmQgYWNjaWRlbnRhbCBiYXNlZCBvbiBrZXkgY29udGV4dC5cclxuICAgICAqIEBwYXJhbSBub3RlIFRoZSByYXcgTm90ZUluZm8uXHJcbiAgICAgKiBAcGFyYW0ga2V5IFRoZSBjdXJyZW50IGtleSBzaWduYXR1cmUgKDAtMTEpLlxyXG4gICAgICogQHJldHVybnMgQSBwcm9jZXNzZWQgSmlhbnB1Tm90ZS5cclxuICAgICAqL1xyXG4gICAgIHByaXZhdGUgY3JlYXRlSmlhbnB1Tm90ZShub3RlOiBOb3RlSW5mbywga2V5OiBudW1iZXIpOiBKaWFucHVOb3RlIHtcclxuICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBtYXBNaWRpVG9KaWFucHUobm90ZS5waXRjaCwga2V5KTtcclxuICBcclxuICAgICAgICAgIGNvbnN0IGppYW5wdU5vdGU6IEppYW5wdU5vdGUgPSB7XHJcbiAgICAgICAgICAgICAgLi4ubm90ZSxcclxuICAgICAgICAgICAgICBqaWFucHVOdW1iZXI6IGRldGFpbHMuamlhbnB1TnVtYmVyLFxyXG4gICAgICAgICAgICAgIG9jdGF2ZURvdDogZGV0YWlscy5vY3RhdmVEb3QsXHJcbiAgICAgICAgICAgICAgYWNjaWRlbnRhbDogZGV0YWlscy5hY2NpZGVudGFsLCAvLyBEaXJlY3RseSB1c2UgYWNjaWRlbnRhbCBmcm9tIGtleSBjb250ZXh0XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgICAgcmV0dXJuIGppYW5wdU5vdGU7XHJcbiAgICAgIH1cclxuICB9XHJcbiAgXHJcblxyXG4vKipcclxuICogTWFwcyBhIE1JREkgcGl0Y2ggdG8gaXRzIEppYW5wdSByZXByZXNlbnRhdGlvbiAobnVtYmVyLCBvY3RhdmUgZG90cywgYWNjaWRlbnRhbClcclxuICogcmVsYXRpdmUgdG8gYSBnaXZlbiBrZXkgc2lnbmF0dXJlICh0b25pYykuXHJcbiAqIEBwYXJhbSBtaWRpUGl0Y2ggVGhlIE1JREkgcGl0Y2ggbnVtYmVyIChlLmcuLCA2MCA9IE1pZGRsZSBDKS5cclxuICogQHBhcmFtIGtleSBUaGUga2V5IHNpZ25hdHVyZSB0b25pYyAoMD1DLCAxPURiL0MjLCAuLi4sIDExPUIpLlxyXG4gKiBAcmV0dXJucyBPYmplY3QgY29udGFpbmluZyB7IGppYW5wdU51bWJlciAoMS03KSwgb2N0YXZlRG90LCBhY2NpZGVudGFsICgwPW5vbmUsIDE9IywgMj1iLCAzPW5hdHVyYWwgaXMgbm90IHVzZWQgYnkgdGhpcyBmdW5jKSB9LlxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIG1hcE1pZGlUb0ppYW5wdShtaWRpUGl0Y2g6IG51bWJlciwga2V5OiBudW1iZXIpOiB7XHJcbiAgICBqaWFucHVOdW1iZXI6IG51bWJlcjtcclxuICAgIG9jdGF2ZURvdDogbnVtYmVyO1xyXG4gICAgYWNjaWRlbnRhbDogbnVtYmVyO1xyXG4gIH0ge1xyXG4gICAgY29uc3Qga2V5UGl0Y2hDbGFzcyA9IGtleSAlIDEyO1xyXG4gICAgbGV0IHRvbmljTWlkaVJlZiA9IE1JRERMRV9DX01JREkgKyBrZXlQaXRjaENsYXNzO1xyXG4gICAgLy8gQWRqdXN0IHRvbmljTWlkaVJlZiB0byBiZSB0aGUgdG9uaWMgaW4gdGhlIG9jdGF2ZSB0eXBpY2FsbHkgcmVwcmVzZW50ZWQgd2l0aCBubyBkb3RzXHJcbiAgICAvLyBGb3IgQyBtYWpvciwgdG9uaWNNaWRpUmVmIGlzIEM0LiBGb3IgRyBtYWpvciwgRzMuIEZvciBGIG1ham9yLCBGMyBldGMuXHJcbiAgICBpZiAoa2V5UGl0Y2hDbGFzcyA+IChNSURETEVfQ19NSURJICUgMTIpKSB7IC8vIE1JRERMRV9DX01JREkgJSAxMiBpcyAwIChDKVxyXG4gICAgICAgIHRvbmljTWlkaVJlZiAtPSAxMjtcclxuICAgIH1cclxuICBcclxuICAgIC8vIHRvbmljTWlkaTogVGhlIHRvbmljIG9mIHRoZSBrZXksIGFkanVzdGVkIHRvIGJlIGluIGFuIG9jdGF2ZSBjbG9zZSB0byB0aGUgaW5wdXQgbWlkaVBpdGNoXHJcbiAgICAvLyBUaGlzIGhlbHBzIGluIGNhbGN1bGF0aW5nIHRoZSBpbnRlcnZhbCB3aXRoaW4gYSBzaW5nbGUgb2N0YXZlLlxyXG4gICAgY29uc3Qgb2N0YXZlT2Zmc2V0Rm9ySW50ZXJ2YWxDYWxjID0gTWF0aC5yb3VuZCgobWlkaVBpdGNoIC0gdG9uaWNNaWRpUmVmKSAvIDEyKTtcclxuICAgIGNvbnN0IHRvbmljTWlkaSA9IHRvbmljTWlkaVJlZiArIG9jdGF2ZU9mZnNldEZvckludGVydmFsQ2FsYyAqIDEyO1xyXG4gIFxyXG4gICAgLy8gSW50ZXJ2YWwgaW4gc2VtaXRvbmVzIGZyb20gdGhlIG9jdGF2ZS1hZGp1c3RlZCB0b25pYyB0byB0aGUgbWlkaVBpdGNoLlxyXG4gICAgY29uc3QgaW50ZXJ2YWwgPSAobWlkaVBpdGNoIC0gdG9uaWNNaWRpICsgMTIpICUgMTI7XHJcbiAgXHJcbiAgICBsZXQgamlhbnB1TnVtYmVyID0gTUFKT1JfU0NBTEVfSU5URVJWQUxTW2ludGVydmFsXTtcclxuICAgIGxldCBhY2NpZGVudGFsID0gMDsgLy8gMDpub25lLCAxOiMsIDI6YlxyXG4gIFxyXG4gICAgaWYgKGppYW5wdU51bWJlciA9PT0gdW5kZWZpbmVkKSB7IC8vIE5vdGUgaXMgY2hyb21hdGljIHJlbGF0aXZlIHRvIHRoZSBtYWpvciBzY2FsZSBvZiB0aGUga2V5XHJcbiAgICAgICAgLy8gaW50ZXJ2YWwgaXMgdGhlIGNocm9tYXRpYyBzZW1pdG9uZSBkaXN0YW5jZSBmcm9tIHRoZSB0b25pYyBvZiB0aGUgY3VycmVudCBrZXkuXHJcbiAgICAgICAgLy8gZS5nLiBpbiBDIG1ham9yICh0b25pYyBDKTogQyMgaXMgaW50ZXJ2YWwgMSwgRWIgaXMgaW50ZXJ2YWwgMywgZXRjLlxyXG4gICAgICAgIC8vIE1BSk9SX1NDQUxFX0lOVEVSVkFMUyBtYXBzIGRpYXRvbmljIGludGVydmFscyBmcm9tIHRvbmljIHRvIGppYW5wdSBkZWdyZWVzICgxLTcpXHJcbiAgICAgICAgLy8gZS5nLiBNQUpPUl9TQ0FMRV9JTlRFUlZBTFNbMF0gaXMgMSAoRG8pLCBNQUpPUl9TQ0FMRV9JTlRFUlZBTFNbNF0gaXMgMyAoTWkpXHJcbiAgXHJcbiAgICAgICAgc3dpdGNoIChpbnRlcnZhbCkge1xyXG4gICAgICAgICAgICBjYXNlIDE6IC8vIGUuZy4sIEMjIGluIEMgbWFqb3IgKDEgc2VtaXRvbmUgYWJvdmUgdG9uaWMpXHJcbiAgICAgICAgICAgICAgICAvLyBQcmVmZXIgQyMgKERvIHNoYXJwKSBvdmVyIERiIChSZSBmbGF0KVxyXG4gICAgICAgICAgICAgICAgamlhbnB1TnVtYmVyID0gTUFKT1JfU0NBTEVfSU5URVJWQUxTWzBdOyAvLyBKaWFucHUgZGVncmVlIG9mIHRoZSBub3RlIGl0J3Mgc2hhcnBlbmluZyAodG9uaWMpXHJcbiAgICAgICAgICAgICAgICBhY2NpZGVudGFsID0gMTsgLy8gc2hhcnBcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDM6IC8vIGUuZy4sIEViIGluIEMgbWFqb3IgKDMgc2VtaXRvbmVzIGFib3ZlIHRvbmljKVxyXG4gICAgICAgICAgICAgICAgLy8gUHJlZmVyIEViIChNaSBmbGF0KSBvdmVyIEQjIChSZSBzaGFycClcclxuICAgICAgICAgICAgICAgIGppYW5wdU51bWJlciA9IE1BSk9SX1NDQUxFX0lOVEVSVkFMU1s0XTsgLy8gSmlhbnB1IGRlZ3JlZSBvZiB0aGUgbm90ZSBpdCdzIGZsYXR0aW5nIChtYWpvciB0aGlyZClcclxuICAgICAgICAgICAgICAgIGFjY2lkZW50YWwgPSAyOyAvLyBmbGF0XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSA2OiAvLyBlLmcuLCBGIyBpbiBDIG1ham9yICg2IHNlbWl0b25lcyBhYm92ZSB0b25pYylcclxuICAgICAgICAgICAgICAgIC8vIFByZWZlciBGIyAoRmEgc2hhcnApIG92ZXIgR2IgKFNvIGZsYXQpXHJcbiAgICAgICAgICAgICAgICBqaWFucHVOdW1iZXIgPSBNQUpPUl9TQ0FMRV9JTlRFUlZBTFNbNV07IC8vIEppYW5wdSBkZWdyZWUgb2YgdGhlIG5vdGUgaXQncyBzaGFycGVuaW5nIChwZXJmZWN0IGZvdXJ0aClcclxuICAgICAgICAgICAgICAgIGFjY2lkZW50YWwgPSAxOyAvLyBzaGFycFxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgODogLy8gZS5nLiwgQWIgaW4gQyBtYWpvciAoOCBzZW1pdG9uZXMgYWJvdmUgdG9uaWMpXHJcbiAgICAgICAgICAgICAgICAvLyBQcmVmZXIgQWIgKExhIGZsYXQpIG92ZXIgRyMgKFNvIHNoYXJwKVxyXG4gICAgICAgICAgICAgICAgamlhbnB1TnVtYmVyID0gTUFKT1JfU0NBTEVfSU5URVJWQUxTWzldOyAvLyBKaWFucHUgZGVncmVlIG9mIHRoZSBub3RlIGl0J3MgZmxhdHRpbmcgKG1ham9yIHNpeHRoKVxyXG4gICAgICAgICAgICAgICAgYWNjaWRlbnRhbCA9IDI7IC8vIGZsYXRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDEwOiAvLyBlLmcuLCBCYiBpbiBDIG1ham9yICgxMCBzZW1pdG9uZXMgYWJvdmUgdG9uaWMpXHJcbiAgICAgICAgICAgICAgICAvLyBQcmVmZXIgQmIgKFRpIGZsYXQpIG92ZXIgQSMgKExhIHNoYXJwKVxyXG4gICAgICAgICAgICAgICAgamlhbnB1TnVtYmVyID0gTUFKT1JfU0NBTEVfSU5URVJWQUxTWzExXTsgLy8gSmlhbnB1IGRlZ3JlZSBvZiB0aGUgbm90ZSBpdCdzIGZsYXR0aW5nIChtYWpvciBzZXZlbnRoKVxyXG4gICAgICAgICAgICAgICAgYWNjaWRlbnRhbCA9IDI7IC8vIGZsYXRcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgLy8gVGhpcyBjYXNlIHNob3VsZCBpZGVhbGx5IG5vdCBiZSByZWFjaGVkIGlmIGBpbnRlcnZhbGAgaXMgdHJ1bHkgY2hyb21hdGljICgxLDMsNiw4LDEwKVxyXG4gICAgICAgICAgICAgICAgLy8gYW5kIE1BSk9SX1NDQUxFX0lOVEVSVkFMUyBpcyB3ZWxsLWRlZmluZWQuXHJcbiAgICAgICAgICAgICAgICAvLyBBcyBhIGZhbGxiYWNrLCB0cnkgdGhlIG9yaWdpbmFsIGxvZ2ljJ3Mgc2hhcnAgcHJlZmVyZW5jZS5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCBjaHJvbWF0aWMgaW50ZXJ2YWwgJHtpbnRlcnZhbH0gaW4gbWFwTWlkaVRvSmlhbnB1LiBEZWZhdWx0aW5nIHRvIHNoYXJwIG9mIGxvd2VyIHZhbGlkIGRlZ3JlZS5gKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VySW50ZXJ2YWxGYWxsYmFjayA9IChpbnRlcnZhbCAtIDEgKyAxMikgJSAxMjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVySW50ZXJ2YWxGYWxsYmFjayA9IChpbnRlcnZhbCArIDEgKyAxMikgJSAxMjtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGxvd2VyRGVncmVlRmFsbGJhY2sgPSBNQUpPUl9TQ0FMRV9JTlRFUlZBTFNbbG93ZXJJbnRlcnZhbEZhbGxiYWNrXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHVwcGVyRGVncmVlRmFsbGJhY2sgPSBNQUpPUl9TQ0FMRV9JTlRFUlZBTFNbdXBwZXJJbnRlcnZhbEZhbGxiYWNrXTtcclxuICBcclxuICAgICAgICAgICAgICAgIGlmIChsb3dlckRlZ3JlZUZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBqaWFucHVOdW1iZXIgPSBsb3dlckRlZ3JlZUZhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY2lkZW50YWwgPSAxOyAvLyBzaGFycFxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh1cHBlckRlZ3JlZUZhbGxiYWNrICE9PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBqaWFucHVOdW1iZXIgPSB1cHBlckRlZ3JlZUZhbGxiYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgIGFjY2lkZW50YWwgPSAyOyAvLyBmbGF0XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJlbWVseSB1bmxpa2VseSBmYWxsYmFjayBpZiBNQUpPUl9TQ0FMRV9JTlRFUlZBTFMgaXMgc3BhcnNlLlxyXG4gICAgICAgICAgICAgICAgICAgIGppYW5wdU51bWJlciA9IDE7IC8vIERlZmF1bHQgdG8gMSNcclxuICAgICAgICAgICAgICAgICAgICBhY2NpZGVudGFsID0gMTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBDb3VsZCBub3QgZGV0ZXJtaW5lIEppYW5wdSBudW1iZXIgY29tcG9uZW50cyBmb3IgTUlESSAke21pZGlQaXRjaH0sIGludGVydmFsICR7aW50ZXJ2YWx9IGZyb20gdG9uaWMgaW4ga2V5ICR7a2V5fS5gKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICBcclxuICAgICAgICAvLyBGaW5hbCBjaGVjazogamlhbnB1TnVtYmVyIHNob3VsZCBiZSBkZWZpbmVkIGFmdGVyIHRoZSBzd2l0Y2ggaWYgaW50ZXJ2YWwgd2FzIG9uZSBvZiAxLDMsNiw4LDEwXHJcbiAgICAgICAgLy8gYW5kIE1BSk9SX1NDQUxFX0lOVEVSVkFMUyBoYXMgZW50cmllcyBmb3IgMCw0LDUsOSwxMS5cclxuICAgICAgICBpZiAoamlhbnB1TnVtYmVyID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYEppYW5wdSBudW1iZXIgYmVjYW1lIHVuZGVmaW5lZCBmb3IgTUlESSAke21pZGlQaXRjaH0gKGludGVydmFsICR7aW50ZXJ2YWx9LCBrZXkgJHtrZXl9KSBhZnRlciBjaHJvbWF0aWMgcHJvY2Vzc2luZy4gVGhpcyBpbmRpY2F0ZXMgYSBsb2dpYyBlcnJvciBvciBtaXNjb25maWd1cmVkIE1BSk9SX1NDQUxFX0lOVEVSVkFMUy5gKTtcclxuICAgICAgICAgICAgIC8vIFByb3ZpZGUgYSB2ZXJ5IGJhc2ljIGZhbGxiYWNrIHRvIHByZXZlbnQgY3Jhc2hlcywgdGhvdWdoIHRoaXMgc3RhdGUgaXMgZXJyb25lb3VzLlxyXG4gICAgICAgICAgICAgamlhbnB1TnVtYmVyID0gMTtcclxuICAgICAgICAgICAgIGFjY2lkZW50YWwgPSAxOyAvLyBEZWZhdWx0IHRvIDEjXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gIFxyXG4gICAgLy8gT2N0YXZlIGRvdHMgYXJlIHJlbGF0aXZlIHRvIHRoZSB0b25pY01pZGlSZWYgKHRoZSBcIm5vIGRvdHNcIiByZWZlcmVuY2Ugb2N0YXZlIGZvciB0aGUgY3VycmVudCBrZXkncyB0b25pYykuXHJcbiAgICBjb25zdCBvY3RhdmVEb3QgPSBNYXRoLmZsb29yKChtaWRpUGl0Y2ggLSB0b25pY01pZGlSZWYpIC8gMTIpO1xyXG4gICAgXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGppYW5wdU51bWJlcixcclxuICAgICAgICBvY3RhdmVEb3QsXHJcbiAgICAgICAgYWNjaWRlbnRhbCxcclxuICAgIH07XHJcbiAgfSIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbi8qKiAxLzE2IG9mIGEgcXVhcnRlciBub3RlICgxLzY0dGggbm90ZSkgLSBzbWFsbGVzdCB1bml0IHZpc3VhbGx5IHJlcHJlc2VudGVkIGJ5IHVuZGVybGluZXMgKi9cclxuZXhwb3J0IGNvbnN0IE1JTl9SRVNPTFVUSU9OID0gMC4wNjI1OyAvLyAxLzE2dGggcXVhcnRlciA9IDY0dGggbm90ZVxyXG5cclxuLyoqXHJcbiAqIE1pbmltYWwgZHVyYXRpb24gcmVjb2duaXplZCBub3RlIGZvciBpbnRlcm5hbCBjYWxjdWxhdGlvbnMuXHJcbiAqIEFsbG93cyBmb3IgZmluZSB0aW1pbmcgZGlzdGluY3Rpb25zIGV2ZW4gaWYgbm90IHZpc3VhbGx5IGRpc3RpbmN0LlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE1BWF9RVUFSVEVSX0RJVklTSU9OID0gMTYgKiAzICogNTsgLy8gPSAyNDAuIEFsbG93cyBzaXh0eWZvdXJ0aCB0cmlwbGV0cy9xdWludHVwbGV0c1xyXG5cclxuLyoqXHJcbiAqIFNpbXBsZSBtYXBwaW5nIGZyb20gTUlESSBwaXRjaCAlIDEyIHRvIE5vdGUgTmFtZXMgKHVzaW5nIHNoYXJwcyBwcmltYXJpbHkpLlxyXG4gKiBVc2VkIGZvciBkZXRlcm1pbmluZyBrZXkgc2lnbmF0dXJlIGRpc3BsYXkgKGUuZy4sIFwiMT1DXCIsIFwiMT1HXCIpLlxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IFBJVENIX0NMQVNTX05BTUVTID0gW1xyXG4gICAgJ0MnLCAnQyMnLCAnRCcsICdEIycsICdFJywgJ0YnLCAnRiMnLCAnRycsICdHIycsICdBJywgJ0EjJywgJ0InXHJcbl07XHJcblxyXG4vKipcclxuICogRGVmaW5lcyB0aGUgaW50ZXJ2YWxzIChpbiBzZW1pdG9uZXMpIG9mIGEgbWFqb3Igc2NhbGUgcmVsYXRpdmUgdG8gdGhlIHRvbmljLlxyXG4gKiBVc2VkIGZvciBtYXBwaW5nIE1JREkgcGl0Y2hlcyB0byBKaWFucHUgbnVtYmVycyAoMS03KSB3aXRoaW4gYSBrZXkuXHJcbiAqIEludGVydmFsOiAwICAyICA0ICA1ICA3ICA5ICAxMVxyXG4gKiBEZWdyZWU6ICAgMSAgMiAgMyAgNCAgNSAgNiAgN1xyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE1BSk9SX1NDQUxFX0lOVEVSVkFMUzogeyBbaW50ZXJ2YWw6IG51bWJlcl06IG51bWJlciB9ID0ge1xyXG4gICAgMDogMSwgIC8vIFRvbmljXHJcbiAgICAyOiAyLCAgLy8gTWFqb3IgU2Vjb25kXHJcbiAgICA0OiAzLCAgLy8gTWFqb3IgVGhpcmRcclxuICAgIDU6IDQsICAvLyBQZXJmZWN0IEZvdXJ0aFxyXG4gICAgNzogNSwgIC8vIFBlcmZlY3QgRmlmdGhcclxuICAgIDk6IDYsICAvLyBNYWpvciBTaXh0aFxyXG4gICAgMTE6IDcgIC8vIE1ham9yIFNldmVudGhcclxufTtcclxuXHJcbi8vIE5vdGU6IE1pbm9yIGtleXMgb3IgbW9kZXMgd291bGQgcmVxdWlyZSBkaWZmZXJlbnQgaW50ZXJ2YWwgbWFwcGluZ3MuXHJcbi8vIFRoaXMgaW1wbGVtZW50YXRpb24gcHJpbWFyaWx5IGFzc3VtZXMgbWFqb3Iga2V5cyBmb3Igc2ltcGxpY2l0eS5cclxuXHJcbi8qKlxyXG4gKiBSZWZlcmVuY2UgTUlESSBwaXRjaCBmb3IgTWlkZGxlIEMgKEM0KVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IE1JRERMRV9DX01JREkgPSA2MDtcclxuXHJcbi8vIENvbnN0YW50cyByZWxhdGVkIHRvIFN0YWZmIHJlbmRlcmluZyAoQ2xlZnMsIHNwZWNpZmljIFZTdGVwcywgU0NBTEVTKSBhcmUgcmVtb3ZlZC5cclxuLy8gS0VZX0FDQ0lERU5UQUxTIHN0cnVjdHVyZSBtaWdodCBiZSBuZWVkZWQgaWYgaW1wbGVtZW50aW5nIGF1dG9tYXRpYyBrZXkgc2lnbmF0dXJlXHJcbi8vIGFjY2lkZW50YWwgcmVuZGVyaW5nIGJleW9uZCBqdXN0IFwiMT1YXCIsIGJ1dCBpcyByZW1vdmVkIGZvciBub3cgZm9yIHNpbXBsaWNpdHkuIiwiLyoqXHJcbiAqIEBsaWNlbnNlXHJcbiAqIENvcHlyaWdodCAyMDI1IGZsdWZ5M2QuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09XHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9qaWFucHVfc3ZnX3JlbmRlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vamlhbnB1X21vZGVsJztcclxuZXhwb3J0ICogZnJvbSAnLi9qaWFucHVfYmxvY2snO1xyXG5leHBvcnQgKiBmcm9tICcuL2ppYW5wdV9pbmZvJzsiLCIvKipcclxuICogRnVuY3Rpb25hbCB1bml0IHRlc3Qgc2V0IGZvciByaHl0aG0gc3BsaXR0aW5nIG9uIGppYW5wdXJlbmRlciBsaWJyYXJ5LlxyXG4gKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkIEFsbCBSaWdodHMgUmVzZXJ2ZWQuXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEltcG9ydHNcclxuICovXHJcbmltcG9ydCB7IFRlc3REYXRhIH0gZnJvbSAnLi90ZXN0X2RhdGEnO1xyXG5cclxuZXhwb3J0IGNvbnN0IHRlc3REYXRhOiBUZXN0RGF0YVtdID0gW107XHJcblxyXG52YXIgcG9zaXRpb24gPSAwOyAvLyBVc2VkIGZvciBpbmNyZW1lbnRhbCBub3RlIHN0YXJ0aW5nIHBvaW50XHJcblxyXG50ZXN0RGF0YVswXSA9IHtcclxuICB0aXRsZTogYE5vdGUgc3ltYm9scyBhbmQgdGhlaXIgZHVyYXRpb25zYCxcclxuICBkZXNjcmlwdGlvbjogYE5vdGVzIG9mIGRpZmZlcmVudCBsZW5ndGggc2hvdWxkIGNvbXBsZXRlIGVhY2ggYmFyIGdvaW5nIGZyb20gXFxcclxuICAgIHdob2xlIG5vdGUgdGhyb3VnaCAxLzJ0aCwgMS80dGgsIDEvOHRoLCAxLzE2dGgsIDEvMzJ0aCBhbmQgMS82NHRoLCB3aGljaCBcXFxyXG4gICAgaXMgdGhlIGxvd2VzdCBoYW5kbGVkIHJlc29sdXRpb24uYCxcclxuICBkYXRhOiB7XHJcbiAgICBub3RlczogW10sXHJcbiAgfVxyXG59O1xyXG5wb3NpdGlvbiA9IDA7XHJcbmZvciAobGV0IG4gPSAxOyBuIDwgMTI4OyBuICo9IDIpIHtcclxuICBjb25zdCBkdXJhdGlvbiA9IDQgLyBuO1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgbjsgKytpKSB7XHJcbiAgICBjb25zdCBub3RlUGl0Y2ggPSA2NyArIChpID49IG4gLyAyID8gNSA6IDApO1xyXG4gICAgdGVzdERhdGFbMF0uZGF0YS5ub3Rlcy5wdXNoKFxyXG4gICAgICB7IHN0YXJ0OiBwb3NpdGlvbiwgbGVuZ3RoOiBkdXJhdGlvbiwgcGl0Y2g6IG5vdGVQaXRjaCwgaW50ZW5zaXR5OiAxMjcgfVxyXG4gICAgKTtcclxuICAgIHBvc2l0aW9uICs9IGR1cmF0aW9uO1xyXG4gIH1cclxufVxyXG5cclxudGVzdERhdGFbMV0gPSB7IFxyXG4gIHRpdGxlOiBgc2ltcGxlIG5vdGUgZGlzcGxheWAsXHJcbiAgZGVzY3JpcHRpb246IGBzaW1wbGUgbm90ZSBkaXNwbGF5YCxcclxuICBkYXRhOiB7XHJcbiAgICBub3RlczogW1xyXG4gICAgICB7IHN0YXJ0OiAwLCBsZW5ndGg6IDEsIHBpdGNoOiA2OSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMSwgbGVuZ3RoOiAxLCBwaXRjaDogNzEsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDIsIGxlbmd0aDogMSwgcGl0Y2g6IDcyLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAzLCBsZW5ndGg6IDEsIHBpdGNoOiA3NCwgaW50ZW5zaXR5OiAxMjcgfVxyXG4gICAgXSxcclxuICB9XHJcbn07XHJcblxyXG50ZXN0RGF0YVsyXSA9IHtcclxuICB0aXRsZTogYFJlc3Qgc3ltYm9scyBhbmQgdGhlaXIgZHVyYXRpb25zYCxcclxuICBkZXNjcmlwdGlvbjogYE5vdGVzIG9mIGRpZmZlcmVudCBsZW5ndGggc2hvdWxkIGJlIHBhaXJlZCB3aXRoIHRoZWlyIHJlbGF0aXZlIFxcXHJcbiAgICByZXN0LiBMYXN0IG5vdGUgaGFzIGJlZW4gcGxhY2VkIHRvIGNvbXBsZXRlIHRoZSBiYXIgYW5kIG1ha2UgcHJldmlvdXMgcmVzdCBcXFxyXG4gICAgbm90aWNlYWJsZS5gLFxyXG4gIGRhdGE6IHtcclxuICAgIG5vdGVzOiBbXSxcclxuICB9XHJcbn07XHJcbnBvc2l0aW9uID0gMDtcclxuZm9yIChsZXQgbiA9IDE7IG4gPCAxMjg7IG4gKj0gMikge1xyXG4gIGNvbnN0IGR1cmF0aW9uID0gNCAvIG47XHJcbiAgdGVzdERhdGFbMl0uZGF0YS5ub3Rlcy5wdXNoKFxyXG4gICAgeyBzdGFydDogcG9zaXRpb24sIGxlbmd0aDogZHVyYXRpb24sIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfVxyXG4gICk7XHJcbiAgcG9zaXRpb24gKz0gMiAqIGR1cmF0aW9uO1xyXG59XHJcbnRlc3REYXRhWzJdLmRhdGEubm90ZXMucHVzaChcclxuICB7IHN0YXJ0OiBwb3NpdGlvbiwgbGVuZ3RoOiAwLjEyNSwgcGl0Y2g6IDY3LCBpbnRlbnNpdHk6IDEyNyB9XHJcbik7IC8vIENvbXBsZXRpbmcgYmFyXHJcblxyXG50ZXN0RGF0YVszXSA9IHtcclxuICB0aXRsZTogYERvdHRlZCBub3Rlc2AsXHJcbiAgZGVzY3JpcHRpb246IGBOb3RlIGxlbmd0aCBjYW4gYmUgZXh0ZW5kZWQgdG8gYSAxNTAlIG9mIGl0cyBub21pbmFsIHZhbHVlIFxcXHJcbiAgICBhZGRpbmcgYSBkb3QgYWZ0ZXIgdGhlIG5vdGUgc3ltYm9sLiBUaGlzIGFwcGxpZXMgdG8gYWxsIG51bWJlciBub3RhdGlvbiBcXFxyXG4gICAgc3ltYm9scyBidXQgaXQgd2lsbCBub3QgYmUgYXBwbGllZCB0byByZXN0cyBzeW1ib2xzIGluIGppYW5wdSBzeXN0ZW0sIFxcXHJcbiAgICBmb2xsb3dpbmcgdGhlIHNpbXBsaWZpZWQgbm90YXRpb24gcHJpbmNpcGxlcyB0aGF0IHByaW9yaXRpemUgcmVhZGFiaWxpdHkuIFxcXHJcbiAgICBMYXN0IG5vdGUgaXMgaW5jbHVkZWQgdG8gbWFrZSBwcmV2aW91cyByZXN0cyBub3RpY2VhYmxlLmAsXHJcbiAgZGF0YToge1xyXG4gICAgbm90ZXM6IFtcclxuICAgICAgeyBzdGFydDogMCwgbGVuZ3RoOiAzLCBwaXRjaDogNjcsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMuNzUsIGxlbmd0aDogMC4yNSwgcGl0Y2g6IDY3LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiA0LCBsZW5ndGg6IDMsIHBpdGNoOiA3MiwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNywgbGVuZ3RoOiAwLjc1LCBwaXRjaDogNzQsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDcuNzUsIGxlbmd0aDogMC4yNSwgcGl0Y2g6IDcyLCBpbnRlbnNpdHk6IDEyNyB9XHJcbiAgICBdLFxyXG4gIH1cclxufTtcclxuXHJcbnRlc3REYXRhWzRdID0geyAvLyBOb3QgcmVxdWlyZWQgZm9yIHVuaXRhcnkgdGVzdCBidXQgZm9yIHZpc3VhbCB0ZXN0LlxyXG4gIHRpdGxlOiBgSmlhbnB1IEhpZ2gtSGlnaCBQaXRjaCBUZXN0YCxcclxuICBkZXNjcmlwdGlvbjogYFRoaXMgdGVzdCBpcyBkZXNpZ25lZCB0byB2ZXJpZnkgdGhlIGRpc3BsYXkgYW5kIGhhbmRsaW5nIG9mIGhpZ2ggLSBoaWdoIHBpdGNoZXMgaW4gdGhlIGppYW5wdSBzeXN0ZW0uIEl0IGluY2x1ZGVzIGEgc2VyaWVzIG9mIG5vdGVzIHdpdGggaGlnaCAtIGhpZ2ggcGl0Y2hlcyB0byBlbnN1cmUgdGhlIGNvcnJlY3QgcmVwcmVzZW50YXRpb24gaW4gdGhlIHJlbmRlcmluZyBwcm9jZXNzLmAsXHJcbiAgZGF0YToge1xyXG4gICAgbm90ZXM6IFtcclxuICAgICAgeyBzdGFydDogMCwgbGVuZ3RoOiAxLCBwaXRjaDogNjIsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEsIGxlbmd0aDogMSwgcGl0Y2g6IDY0LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAyLCBsZW5ndGg6IDEsIHBpdGNoOiA2NSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMywgbGVuZ3RoOiAxLCBwaXRjaDogNjcsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDQsIGxlbmd0aDogMSwgcGl0Y2g6IDY5LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiA1LCBsZW5ndGg6IDEsIHBpdGNoOiA3MSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNiwgbGVuZ3RoOiAxLCBwaXRjaDogNzIsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDcsIGxlbmd0aDogMSwgcGl0Y2g6IDc0LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiA4LCBsZW5ndGg6IDEsIHBpdGNoOiA3NiwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogOSwgbGVuZ3RoOiAxLCBwaXRjaDogNzcsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEwLCBsZW5ndGg6IDEsIHBpdGNoOiA3OSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTEsIGxlbmd0aDogMSwgcGl0Y2g6IDYwLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxMiwgbGVuZ3RoOiAxLCBwaXRjaDogNTksIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEzLCBsZW5ndGg6IDEsIHBpdGNoOiA1NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTQsIGxlbmd0aDogMSwgcGl0Y2g6IDU1LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxNSwgbGVuZ3RoOiAxLCBwaXRjaDogODEsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDE2LCBsZW5ndGg6IDEsIHBpdGNoOiA4MywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTcsIGxlbmd0aDogMSwgcGl0Y2g6IDg0LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxOCwgbGVuZ3RoOiAxLCBwaXRjaDogODYsIGludGVuc2l0eTogMTI3IH1cclxuICAgIF0sXHJcbiAgfVxyXG59O1xyXG5cclxudGVzdERhdGFbNV0gPSB7IC8vIE5vdCByZXF1aXJlZCBmb3IgdW5pdGFyeSB0ZXN0IGJ1dCBmb3IgdmlzdWFsIHRlc3QuXHJcbiAgdGl0bGU6IGBUZXN0IG9mIEppYW5wdSBMb3ctTG93IFBpdGNoIFN5bWJvbHNgLFxyXG4gIGRlc2NyaXB0aW9uOiBgVGhpcyB0ZXN0IGlzIGRlc2lnbmVkIHRvIHZlcmlmeSB0aGUgZGlzcGxheSBhbmQgaGFuZGxpbmcgb2YgbG93IC0gbG93IHBpdGNoIHN5bWJvbHMgaW4gdGhlIGppYW5wdSBzeXN0ZW0uIEl0IGluY2x1ZGVzIGEgc2VyaWVzIG9mIG5vdGVzIHdpdGggbG93IC0gbG93IHBpdGNoZXMgdG8gZW5zdXJlIHRoZSBjb3JyZWN0IHJlcHJlc2VudGF0aW9uIGluIHRoZSByZW5kZXJpbmcgcHJvY2Vzcy5gLFxyXG4gIGRhdGE6IHtcclxuICAgIG5vdGVzOiBbXHJcbiAgICAgIHsgc3RhcnQ6IDAsIGxlbmd0aDogMSwgcGl0Y2g6IDU5LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxLCBsZW5ndGg6IDEsIHBpdGNoOiA1NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMiwgbGVuZ3RoOiAxLCBwaXRjaDogNTUsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMsIGxlbmd0aDogMSwgcGl0Y2g6IDUzLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiA0LCBsZW5ndGg6IDEsIHBpdGNoOiA1MiwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNSwgbGVuZ3RoOiAxLCBwaXRjaDogNTAsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDYsIGxlbmd0aDogMSwgcGl0Y2g6IDQ4LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiA3LCBsZW5ndGg6IDEsIHBpdGNoOiA0NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogOCwgbGVuZ3RoOiAxLCBwaXRjaDogNDUsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDksIGxlbmd0aDogMSwgcGl0Y2g6IDQzLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxMCwgbGVuZ3RoOiAxLCBwaXRjaDogNDEsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDExLCBsZW5ndGg6IDEsIHBpdGNoOiA2MCwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTIsIGxlbmd0aDogMSwgcGl0Y2g6IDYyLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxMywgbGVuZ3RoOiAxLCBwaXRjaDogNjQsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDE0LCBsZW5ndGg6IDEsIHBpdGNoOiA2NSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTUsIGxlbmd0aDogMSwgcGl0Y2g6IDQwLCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxNiwgbGVuZ3RoOiAxLCBwaXRjaDogMzgsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDE3LCBsZW5ndGg6IDEsIHBpdGNoOiAzNiwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMTgsIGxlbmd0aDogMSwgcGl0Y2g6IDM1LCBpbnRlbnNpdHk6IDEyNyB9XHJcbiAgICBdLFxyXG4gIH1cclxufTtcclxuXHJcbnRlc3REYXRhWzZdID0ge1xyXG4gIHRpdGxlOiBgU2hhcnAgQWNjaWRlbnRhbHNgLFxyXG4gIGRlc2NyaXB0aW9uOiBgSW4gamlhbnB1IG5vdGF0aW9uLCB0aGUgc2hhcnAgc3ltYm9sICcjJyBvbmx5IGFmZmVjdHMgdGhlIGltbWVkaWF0ZSBub3RlIGl0IHByZWNlZGVzLiBVbmxpa2Ugc3RhZmYgbm90YXRpb24sIGl0IGRvZXMgbm90IGNhcnJ5IHRocm91Z2ggdGhlIHJlc3Qgb2YgdGhlIG1lYXN1cmUuIEVhY2ggbm90ZSByZXF1aXJpbmcgYWx0ZXJhdGlvbiBtdXN0IGJlIGV4cGxpY2l0bHkgbWFya2VkLmAsXHJcbiAgZGF0YToge1xyXG4gICAga2V5U2lnbmF0dXJlczogWyB7IHN0YXJ0OiAwLCBrZXk6IDcgfSBdLFxyXG4gICAgbm90ZXM6IFtcclxuICAgICAgeyBzdGFydDogMCwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMC41LCBsZW5ndGg6IDAuNSwgcGl0Y2g6IDY4LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxLjAsIGxlbmd0aDogMC41LCBwaXRjaDogNjgsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEuNSwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA4MCwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMi4wLCBsZW5ndGg6IDAuNSwgcGl0Y2g6IDY3LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAyLjUsIGxlbmd0aDogMC41LCBwaXRjaDogODAsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMsIGxlbmd0aDogMC41LCBwaXRjaDogNjcsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMuNSwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA2OCwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNCwgbGVuZ3RoOiAyLCBwaXRjaDogNjgsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDYsIGxlbmd0aDogMiwgcGl0Y2g6IDY2LCBpbnRlbnNpdHk6IDEyNyB9XHJcbiAgICBdLFxyXG4gIH1cclxufTtcclxuXHJcblxyXG50ZXN0RGF0YVs3XSA9IHtcclxuICB0aXRsZTogYEZsYXQgQWNjaWRlbnRhbHNgLCBcclxuICBkZXNjcmlwdGlvbjogYFNpbWlsYXIgdG8gc2hhcnAgYWNjaWRlbnRhbHMsIHRoZSBmbGF0IHN5bWJvbCAnYicgaW4gamlhbnB1IG9ubHkgYXBwbGllcyB0byB0aGUgc2luZ2xlIG5vdGUgaXQgZGlyZWN0bHkgcHJlY2VkZXMuIFRoaXMgZGlmZmVycyBmcm9tIHN0YWZmIG5vdGF0aW9uIHdoZXJlIGFjY2lkZW50YWxzIGFmZmVjdCBhbGwgc3Vic2VxdWVudCBzYW1lLXBpdGNoIG5vdGVzIGluIHRoZSBtZWFzdXJlLmAsXHJcbiAgZGF0YToge1xyXG4gICAga2V5U2lnbmF0dXJlczogWyB7IHN0YXJ0OiAwLCBrZXk6IDUgfSBdLFxyXG4gICAgbm90ZXM6IFtcclxuICAgICAgeyBzdGFydDogMCwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA2OSwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMC41LCBsZW5ndGg6IDAuNSwgcGl0Y2g6IDY4LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxLjAsIGxlbmd0aDogMC41LCBwaXRjaDogNjgsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEuNSwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA4MCwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMi4wLCBsZW5ndGg6IDAuNSwgcGl0Y2g6IDY5LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAyLjUsIGxlbmd0aDogMC41LCBwaXRjaDogODAsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMsIGxlbmd0aDogMC41LCBwaXRjaDogNjksIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDMuNSwgbGVuZ3RoOiAwLjUsIHBpdGNoOiA2OCwgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNCwgbGVuZ3RoOiAyLCBwaXRjaDogNjgsIGludGVuc2l0eTogMTI3IH0sXHJcbiAgICAgIHsgc3RhcnQ6IDYsIGxlbmd0aDogMiwgcGl0Y2g6IDU4LCBpbnRlbnNpdHk6IDEyNyB9XHJcbiAgICBdLFxyXG4gIH1cclxufTtcclxuXHJcblxyXG50ZXN0RGF0YVs4XSA9IHtcclxuICB0aXRsZTogYEtleSBTaWduYXR1cmVzIG9uIGNocm9tYXRpYyBzY2FsZXNgLFxyXG4gIGRlc2NyaXB0aW9uOiBgVGhlcmUgaXMgYSBjbG9zZSBzZXQgb2YgMTIgS2V5IFNpZ25hdHVyZXMuIEhhbGYgb2YgdGhlbSB1c2UgXFxcclxuICAgIHNoYXJwcyAoZnJvbSAwIHRvIDUgc2hhcnBzOiBDLCBHLCBELCBBLCBFIGFuZCBCIGtleXMsIHRoZSByaWdodCBzaWRlIG9mIFxcXHJcbiAgICB0aGUgQ2lyY2xlIG9mIEZpZnRocykgYW5kIHRoZSByZXN0IHVzZSBmbGF0cyAoZnJvbSAxIHRvIDYgZmxhdHM6IEYsIEJiLCBcXFxyXG4gICAgRWIsIEFiLCBEYiBhbmQgR2Iga2V5cykuIEZvbGxvd2luZyBzY29yZSB3aWxsIHNob3cgYSBjaHJvbWF0aWMgc2NhbGUgb24gXFxcclxuICAgIGVhY2gga2V5IGluIHRoYXQgcHJlY2lzZSBvcmRlci4gT3ZlcmxhcHBpbmcga2V5cyB3aXRoIGRpZmZlcmVudCBuYW1lcyAoR2IgXFxcclxuICAgID0gRiMpIGhhdmUgYmVlbiByZW1vdmVkIGZvciBzaW1wbGljaXR5IHNha2UuIEFjY2lkZW50YWxzIHdpbGwgYmUgb2YgYSBcXFxyXG4gICAgdW5pcXVlIGtpbmQgYWxvbmcgYSBnaXZlbiBrZXksIHNvIHRlcmUgd29uJ3QgYXBwZWFyIGEgbWl4IHNoYXJwcyBhbmQgXFxcclxuICAgIGZsYXRzIChldmVuIHRob3VnaCBpdCdzIGFsbG93ZWQgaW4gbXVzaWNhbCBoYW5kd3JpdGluZykuYCxcclxuICBkYXRhOiB7XHJcbiAgICBrZXlTaWduYXR1cmVzOiBbIFxyXG4gICAgICB7IHN0YXJ0OiAgIDAsIGtleTogIDAgfSxcclxuICAgICAgeyBzdGFydDogIDEyLCBrZXk6ICA3IH0sXHJcbiAgICAgIHsgc3RhcnQ6ICAyNCwga2V5OiAgMiB9LFxyXG4gICAgICB7IHN0YXJ0OiAgMzYsIGtleTogIDkgfSxcclxuICAgICAgeyBzdGFydDogIDQ4LCBrZXk6ICA0IH0sXHJcbiAgICAgIHsgc3RhcnQ6ICA2MCwga2V5OiAxMSB9LFxyXG4gICAgICB7IHN0YXJ0OiAgNzIsIGtleTogIDUgfSxcclxuICAgICAgeyBzdGFydDogIDg0LCBrZXk6IDEwIH0sXHJcbiAgICAgIHsgc3RhcnQ6ICA5Niwga2V5OiAgMyB9LFxyXG4gICAgICB7IHN0YXJ0OiAxMDgsIGtleTogIDggfSxcclxuICAgICAgeyBzdGFydDogMTIwLCBrZXk6ICAxIH0sXHJcbiAgICAgIHsgc3RhcnQ6IDEzMiwga2V5OiAgNiB9XHJcbiAgICBdLFxyXG4gICAgbm90ZXM6IFtdLFxyXG4gIH1cclxufTtcclxucG9zaXRpb24gPSAwO1xyXG5mb3IgKGxldCBuID0gMDsgbiA8IDEyOyArK24pIHtcclxuICBmb3IgKGxldCBwID0gNjA7IHAgPCA3MjsgKytwKSB7XHJcbiAgICB0ZXN0RGF0YVs4XS5kYXRhLm5vdGVzLnB1c2goXHJcbiAgICAgIHsgc3RhcnQ6IHBvc2l0aW9uKyssIGxlbmd0aDogMSwgcGl0Y2g6IHAsIGludGVuc2l0eTogMTI3IH1cclxuICAgICk7XHJcbiAgfVxyXG59XHJcblxyXG5cclxudGVzdERhdGFbOV0gPSB7XHJcbiAgdGl0bGU6IGBUaW1lIFNpZ25hdHVyZXNgLFxyXG4gIGRlc2NyaXB0aW9uOiBgTm90ZXMgY2FuIGJlIGdyb3B1ZWQgb24gYmFycyBhY2NvcmRpbmcgdG8gXCJiZWF0XCIgcmh5dGhtIFxcXHJcbiAgICBwYXR0ZXJucywgZGVmaW5lZCBieSBUaW1lIFNpZ25hdHVyZXMgY29uc2lzdGluZyBvbiBhIG51bWVyYXRvciBhbmQgYSBcXFxyXG4gICAgZGVub21pbmF0b3IgbnVtYmVyLiBEZW5vbWluYXRvciBkZWZpbmVzIHRoZSBsZW5ndGggb2YgaXRzIGJlYXQgYXMgdGhlIFxcXHJcbiAgICBmcmFjdGlvbiBvZiBhIHdob2xlIG5vdGUsIGFuZCBudW1lcmF0b3IgZGVmaW5lcyB0aGUgbnVtYmVyIG9mIGJlYXRzIFxcXHJcbiAgICBuZWVkZWQgdG8gY29tcGxldGUgYSBiYXIuIEEgVGltZSBTaWduYXR1cmUgc2hvd24gYXQgdGhlIGJlZ2lubmluZyBvZiBhIFxcXHJcbiAgICBiYXIgY2hhbmdlcyByaHl0aG0gdG8gdGhhdCBiYXIgYW5kIGZvbGxvd2luZ3MuIE5leHQgc2NvcmUgc2hvd3Mgc2V2ZXJhbCBcXFxyXG4gICAgVGltZSBTaWduYXR1cmVzLmAsXHJcbiAgZGF0YToge1xyXG4gICAgdGltZVNpZ25hdHVyZXM6IFtdLFxyXG4gICAgbm90ZXM6IFtdLFxyXG4gIH1cclxufTtcclxucG9zaXRpb24gPSAwO1xyXG5mb3IgKGxldCBkID0gMjsgZCA8PSA4OyBkICo9IDIpIHtcclxuICBjb25zdCBsID0gNCAvIGQ7XHJcbiAgY29uc3QgZGF0YSA9IHRlc3REYXRhWzldLmRhdGE7XHJcbiAgZm9yIChsZXQgbiA9IDI7IG4gPD0gMTI7ICsrbikge1xyXG4gICAgZGF0YS50aW1lU2lnbmF0dXJlcy5wdXNoKFxyXG4gICAgICB7IHN0YXJ0OiBwb3NpdGlvbiwgbnVtZXJhdG9yOiBuLCBkZW5vbWluYXRvcjogZCB9XHJcbiAgICApXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG47ICsraSkge1xyXG4gICAgICBkYXRhLm5vdGVzLnB1c2goXHJcbiAgICAgICAgeyBzdGFydDogcG9zaXRpb24sIGxlbmd0aDogbCwgcGl0Y2g6IDY3LCBpbnRlbnNpdHk6IDEyNyB9XHJcbiAgICAgICk7XHJcbiAgICAgIHBvc2l0aW9uICs9IGw7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG50ZXN0RGF0YVsxMF0gPSB7XHJcbiAgdGl0bGU6IGBXaG9sZSByZXN0c2AsXHJcbiAgZGVzY3JpcHRpb246IGBXaG9sZSByZXN0IHN5bWJvbCBpcyB1c2VkIHRvIHNwZWNpZnkgYSB3aG9sZSBzaWxlbnQgYmFyLCBubyBcXFxyXG4gICAgbWF0dGVyIHdoaWNoIHRoZSB0aW1lIHNpZ25hdHVyZSBpcy5gLFxyXG4gIGRhdGE6IHtcclxuICAgIHRpbWVTaWduYXR1cmVzOiBbIFxyXG4gICAgICB7IHN0YXJ0OiAgIDAsIG51bWVyYXRvcjogIDMsIGRlbm9taW5hdG9yOiA0IH0sXHJcbiAgICAgIHsgc3RhcnQ6ICAgNiwgbnVtZXJhdG9yOiAgNiwgZGVub21pbmF0b3I6IDggfSxcclxuICAgICAgeyBzdGFydDogIDEyLCBudW1lcmF0b3I6ICA3LCBkZW5vbWluYXRvcjogMiB9LFxyXG4gICAgICB7IHN0YXJ0OiAgNDAsIG51bWVyYXRvcjogIDQsIGRlbm9taW5hdG9yOiA0IH1cclxuICAgIF0sXHJcbiAgICBub3RlczogWyBcclxuICAgICAgeyBzdGFydDogIDMsIGxlbmd0aDogIDMsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogIDksIGxlbmd0aDogIDMsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogMjYsIGxlbmd0aDogMTQsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgICAgeyBzdGFydDogNDQsIGxlbmd0aDogIDQsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfSxcclxuICAgIF1cclxuICB9XHJcbn07XHJcblxyXG50ZXN0RGF0YVsxMV0gPSB7XHJcbiAgdGl0bGU6IGBUaWVzYCxcclxuICBkZXNjcmlwdGlvbjogYE5vdGVzIGxvbmdlciB0aGFuIGF2aWxhYmxlIG5vdGUgc3ltYm9scyBsZW5ndGggY2FuIGJlIGFjaGlldmVkIFxcXHJcbiAgY29tYmluaW5nIHR3byBvciBtb3JlIHRocm91Z2ggdGllcy4gTm90ZXMgd2hpY2ggc3VycGFzcyBiYXJzIG11c3QgYmUgXFxcclxuICBzcGxpdHRlZCB1c2luZyB0aWVzLiBSZXN0IGFnZ3JlZ2F0aW9uIGRvZXMgbm90IG5lZWQgYW55IHRpZS4gRm9sbG93aW5nIHNjb3JlIFxcXHJcbiAgc2hvd3MgdGhyZWUgdGllZCBub3RlcywgYSByZXN0cyBzZXQgYW5kIHR3byB0aWVkIG5vdGVzIHRvIHN1cnBhc3MgYSBiYXIuYCxcclxuICBkYXRhOiB7XHJcbiAgICBub3RlczogW1xyXG4gICAgICB7IHN0YXJ0OiAwLCBsZW5ndGg6IDIrMS8yKzEvOCwgcGl0Y2g6IDY3LCBpbnRlbnNpdHk6IDEyNyB9LFxyXG4gICAgICB7IHN0YXJ0OiAzLCBsZW5ndGg6IDUsIHBpdGNoOiA2NywgaW50ZW5zaXR5OiAxMjcgfVxyXG4gICAgXSxcclxuICB9XHJcbn07XHJcbiIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBCYXNlIHNjYWxlIGZvciBwYXRoIGRlZmluaXRpb25zLiBNb3N0IGNvb3JkaW5hdGVzIGFyZSByZWxhdGl2ZSB0byBhIDEwMHgxMDAgYm94LlxyXG4gKiBBY3R1YWwgcmVuZGVyaW5nIHNpemUgaXMgZGV0ZXJtaW5lZCBieSBjb25maWcubm90ZUhlaWdodC5cclxuICovXHJcbmV4cG9ydCBjb25zdCBQQVRIX1NDQUxFID0gMTAwO1xyXG5cclxuLy8gLS0tIEFjY2lkZW50YWxzIC0tLVxyXG4vLyBVc2luZyBzaW1wbGVyIHRleHQgc3ltYm9scyBpcyBvZnRlbiBlYXNpZXIgZm9yIEppYW5wdSBhY2NpZGVudGFscy5cclxuLy8gSWYgcGF0aHMgYXJlIHByZWZlcnJlZCwga2VlcCB0aGVzZTpcclxuY29uc3Qgc2hhcnBQYXRoID0gYG0gMzAsMTUgaCA0MCBtIC0zNSwyMCBoIDQwIE0gNTAsMCB2IDUwIE0gNzAsNSB2IDUwYDsgLy8gU2ltcGxlIHNoYXJwICNcclxuY29uc3QgZmxhdFBhdGggPSBgbSA0NSw1IHYgNDAgYyAwLDE1IDIwLDE1IDIwLDAgViAyMCBDIDY1LDUgNDUsNSA0NSw1IFpgOyAgICAvLyBTaW1wbGUgZmxhdCBiXHJcbmNvbnN0IG5hdHVyYWxQYXRoID0gYE0gNDUsNSB2IDQ1IE0gNjUsMCB2IDQ1IEggNDUgbSAyMCwxMCBIIDQ1YDsgLy8gU2ltcGxlIG5hdHVyYWwg4pmuXHJcblxyXG4vKiogQWNjaWRlbnRhbCBwYXRocyBpbmRleGVkIGJ5IG51bWVyaWMgaWRlbnRpZmllciAoMD1ub25lLCAxPSMsIDI9YiwgMz3ima4pICovXHJcbi8vIFVzaW5nIG51bGwgZm9yIDAsIGFuZCBwb3RlbnRpYWxseSB0ZXh0IHN5bWJvbHMgaW5zdGVhZCBvZiBwYXRocy5cclxuZXhwb3J0IGNvbnN0IEFDQ0lERU5UQUxfUEFUSFMgPSBbbnVsbCwgc2hhcnBQYXRoLCBmbGF0UGF0aCwgbmF0dXJhbFBhdGhdO1xyXG4vKiogQWNjaWRlbnRhbCB0ZXh0IHN5bWJvbHMgKi9cclxuZXhwb3J0IGNvbnN0IEFDQ0lERU5UQUxfVEVYVCA9IFsnJywgJyMnLCAnYiddO1xyXG5cclxuLy8gLS0tIExpbmVzIGFuZCBEb3RzIC0tLVxyXG4vKiogQmFyIGxpbmUgKHNpbXBsZSB2ZXJ0aWNhbCBsaW5lKSAqL1xyXG5leHBvcnQgY29uc3QgYmFyUGF0aCA9ICdtIDAsLTUwIHYgMTAwJzsgLy8gQ2VudGVyZWQgdmVydGljYWxseSBhcm91bmQgeT0wLCBoZWlnaHQgMTAwXHJcbi8qKiBVbmRlcmxpbmUgZm9yIGR1cmF0aW9uIChzaW1wbGUgaG9yaXpvbnRhbCBsaW5lKSAqL1xyXG5leHBvcnQgY29uc3QgdW5kZXJsaW5lUGF0aCA9ICdtIDAsMCBoIDEwMCc7IC8vIFdpZHRoIDEwMCwgYXQgeT0wXHJcbi8qKiBBdWdtZW50YXRpb24gRGFzaCAoc2ltcGxlIGhvcml6b250YWwgbGluZSkgKi9cclxuZXhwb3J0IGNvbnN0IGF1Z21lbnRhdGlvbkRhc2hQYXRoID0gJ20gMCwwIGggNTAnOyAvLyBXaWR0aCA1MCwgYXQgeT0wIChhZGp1c3Qgd2lkdGggYXMgbmVlZGVkKVxyXG4vKiogVGllL1NsdXIgUGF0aCAoYmFzaWMgY3VydmUpICovXHJcbmV4cG9ydCBjb25zdCB0aWVQYXRoID0gYE0gLTEzLDUgQyAxNSwtMTUgNjUsLTE1IDkwLDUgQyA2NSwtMjUgMTUsLTI1IC0xMyw1IFpgOyAgLy8gQmFzaWMgYXJjIGJlbG93IGJhc2VsaW5lXHJcbi8qKiBEb3QgUGF0aCAoY2lyY2xlIGZvciBvY3RhdmUvYXVnbWVudGF0aW9uKSAqL1xyXG5leHBvcnQgY29uc3QgZG90UGF0aCA9ICdNIDAgMCBhIDE1IDE1IDAgMSAwIDAuMDAwMSAwIHonOyAvLyBDaXJjbGUgY2VudGVyZWQgYXQgMCwwLCByYWRpdXMgMTUiLCIvKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjUgZmx1ZnkzZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICovXHJcblxyXG4vKiogU3RvcmVzIG1pbmltYWwgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhIG11c2ljYWwgbm90ZSAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIE5vdGVJbmZvIHtcclxuICAvKiogU3RhcnRpbmcgdGltZSwgaW4gcXVhcnRlciBub3RlIHF1YW50aXRpZXMgKGZsb2F0KSAqL1xyXG4gIHN0YXJ0OiBudW1iZXI7XHJcbiAgLyoqIE5vdGUgbGVuZ3RoLCBpbiBxdWFydGVyIG5vdGUgcXVhbnRpdGllcyAoZmxvYXQpICovXHJcbiAgbGVuZ3RoOiBudW1iZXI7XHJcbiAgLyoqIE5vdGUgcGl0Y2ggYWNjb3JkaW5nIHRvIE1JREkgc3RhbmRhcmQgKi9cclxuICBwaXRjaDogbnVtYmVyO1xyXG4gIC8qKiBOb3RlIGludGVuc2l0eSBhY2NvcmRpbmcgdG8gTUlESSB2ZWxvY2l0eSAqL1xyXG4gIGludGVuc2l0eTogbnVtYmVyO1xyXG59XHJcblxyXG4vKiogU3RvcmVzIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYSB0ZW1wbyBjaGFuZ2Ugb24gYSBzY29yZSAobm90IHVzZWQgeWV0KSAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRlbXBvSW5mbyB7XHJcbiAgLyoqIFN0YXJ0aW5nIHRpbWUsIGluIHF1YXJ0ZXIgbm90ZSBxdWFudGl0aWVzIChmbG9hdCkgKi9cclxuICBzdGFydDogbnVtYmVyO1xyXG4gIC8qKiBRdWFydGVycyBQZXIgTWludXRlIGZyb20gdGhpcyBxdWFydGVyIG9uLCB1bmxlc3MgZnVydGhlciBjaGFuZ2VzICovXHJcbiAgcXBtOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBTdG9yZXMgaW5mb3JtYXRpb24gcmVsYXRlZCB0byBhIGtleSBzaWduYXR1cmUgY2hhbmdlIG9uIGEgc2NvcmUgKi9cclxuZXhwb3J0IGludGVyZmFjZSBLZXlTaWduYXR1cmVJbmZvIHtcclxuICAvKiogU3RhcnRpbmcgdGltZSwgaW4gcXVhcnRlciBub3RlIHF1YW50aXRpZXMgKGZsb2F0KSAqL1xyXG4gIHN0YXJ0OiBudW1iZXI7XHJcbiAgLyoqIEtleSBzaWduYXR1cmUgKDA9QywgMT1DIy9EYiwgLi4uLCAxMT1CKSBmcm9tIHRoaXMgcXVhcnRlciBvbiAqL1xyXG4gIGtleTogbnVtYmVyOyAvLyBSZXByZXNlbnRzIHRoZSAqdG9uaWMqIGtleSwgZS5nLiwgMCBmb3IgQywgNyBmb3IgRywgNSBmb3IgRlxyXG59XHJcblxyXG4vKiogU3RvcmVzIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYSB0aW1lIHNpZ25hdHVyZSBjaGFuZ2Ugb24gYSBzY29yZSAqL1xyXG5leHBvcnQgaW50ZXJmYWNlIFRpbWVTaWduYXR1cmVJbmZvIHtcclxuICAvKiogU3RhcnRpbmcgdGltZSwgaW4gcXVhcnRlciBub3RlIHF1YW50aXRpZXMgKGZsb2F0KSAqL1xyXG4gIHN0YXJ0OiBudW1iZXI7XHJcbiAgLyoqIFdvdWxkIGhvbGQgMyBpbiBhIDMvNCB0aW1lIHNpZ25hdHVyZSBjaGFuZ2UgKi9cclxuICBudW1lcmF0b3I6IG51bWJlcjtcclxuICAvKiogV291bGQgaG9sZCA0IGluIGEgMy80IHRpbWUgc2lnbmF0dXJlIGNoYW5nZSAqL1xyXG4gIGRlbm9taW5hdG9yOiBudW1iZXI7XHJcbn1cclxuXHJcbi8qKiBTdG9yZXMgdGhlIGJhcmUgbWluaW1hbCBpbmZvcm1hdGlvbiByZWxhdGVkIHRvIGEgZnVsbCBzaW5nbGUgSmlhbnB1IHNjb3JlICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgSmlhbnB1SW5mbyB7XHJcbiAgLyoqIEFsbCBub3RlcyBpbiB0aGUgc2NvcmUuIFRoZXJlJ3Mgbm8gbmVlZCB0byBiZSBzb3J0ZWQgYnkgc3RhcnQgcSAqL1xyXG4gIG5vdGVzOiBOb3RlSW5mb1tdO1xyXG4gIC8qKiBBbGwgdGVtcG8gY2hhbmdlcyBpbiB0aGUgc2NvcmUuIFRoZXkgd2lsbCBnZXQgc29ydGVkIGJ5IHN0YXJ0IHEgKi9cclxuICB0ZW1wb3M/OiBUZW1wb0luZm9bXTtcclxuICAvKiogQWxsIGtleSBzaWduYXR1cmUgY2hhbmdlcyBpbiB0aGUgc2NvcmUuIFRoZXkgd2lsbCBnZXQgc29ydGVkIGJ5IHN0YXJ0IHEgKi9cclxuICBrZXlTaWduYXR1cmVzPzogS2V5U2lnbmF0dXJlSW5mb1tdO1xyXG4gIC8qKiBBbGwgdGltZSBzaWduYXR1cmUgY2hhbmdlcyBpbiB0aGUgc2NvcmUuIFRoZXkgd2lsbCBnZXQgc29ydGVkIGJ5IHN0YXJ0IHEgKi9cclxuICB0aW1lU2lnbmF0dXJlcz86IFRpbWVTaWduYXR1cmVJbmZvW107XHJcbn1cclxuXHJcbi8qKiBEZWZhdWx0IHRlbXBvIGluIGNhc2Ugbm9uZSBpcyBmb3VuZCAoNjAgYnBtKSAqL1xyXG5leHBvcnQgY29uc3QgREVGQVVMVF9URU1QTzogVGVtcG9JbmZvID0ge1xyXG4gIHN0YXJ0OiAwLFxyXG4gIHFwbTogNjBcclxufTtcclxuLyoqIERlZmF1bHQga2V5IGluIGNhc2Ugbm9uZSBpcyBmb3VuZCAoQyBrZXkpICovXHJcbmV4cG9ydCBjb25zdCBERUZBVUxUX0tFWV9TSUdOQVRVUkU6IEtleVNpZ25hdHVyZUluZm8gPSB7XHJcbiAgc3RhcnQ6IDAsXHJcbiAga2V5OiAwIC8vIDAgcmVwcmVzZW50cyBDIE1ham9yXHJcbn07XHJcbi8qKiBEZWZhdWx0IHRpbWUgc2lnbmF0dXJlIGluIGNhc2Ugbm9uZSBpcyBmb3VuZCAoNC80KSAqL1xyXG5leHBvcnQgY29uc3QgREVGQVVMVF9USU1FX1NJR05BVFVSRTogVGltZVNpZ25hdHVyZUluZm8gPSB7XHJcbiAgc3RhcnQ6IDAsXHJcbiAgbnVtZXJhdG9yOiA0LFxyXG4gIGRlbm9taW5hdG9yOiA0XHJcbn07XHJcblxyXG4vKipcclxuICogQ2FsY3VsYXRlcyB0aGUgbnVtYmVyIG9mIHF1YXJ0ZXJzIHRoYXQgZml0cyB3aXRoaW4gYSBtZWFzdXJlIChiYXIpXHJcbiAqIGluIGEgZ2l2ZW4gdGltZSBzaWduYXR1cmVcclxuICogQHBhcmFtIHRpbWVTaWduYXR1cmUgVGhlIHRpbWUgc2lnbmF0dXJlXHJcbiAqIEByZXR1cm5zIFRoZSBudW1iZXIgb2YgcXVhcnRlcnMgdGhhdCBmaXQgaW5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRNZWFzdXJlTGVuZ3RoKHRpbWVTaWduYXR1cmU6IFRpbWVTaWduYXR1cmVJbmZvKTogbnVtYmVyIHtcclxuICAvLyBUaGUgbGVuZ3RoIG9mIGEgbWVhc3VyZSBpbiBxdWFydGVyIG5vdGVzIGRlcGVuZHMgb24gdGhlIHRpbWUgc2lnbmF0dXJlLlxyXG4gIC8vIEZvciBleGFtcGxlLCA0LzQgaGFzIDQgcXVhcnRlciBub3Rlcy4gMy80IGhhcyAzIHF1YXJ0ZXIgbm90ZXMuXHJcbiAgLy8gNi84IGhhcyA2IGVpZ2h0aCBub3Rlcywgd2hpY2ggaXMgMyBxdWFydGVyIG5vdGVzLlxyXG4gIC8vIFRoaXMgY2FsY3VsYXRpb24gYXNzdW1lcyB0aGUgZGVub21pbmF0b3IgcmVwcmVzZW50cyB0aGUgYmVhdCB1bml0IGRpcmVjdGx5LlxyXG4gIHJldHVybiB0aW1lU2lnbmF0dXJlLm51bWVyYXRvciAqICg0IC8gdGltZVNpZ25hdHVyZS5kZW5vbWluYXRvcik7XHJcbn0iLCIvKipcclxuICogQGxpY2Vuc2VcclxuICogQ29weXJpZ2h0IDIwMjUgZmx1ZnkzZC4gQWxsIFJpZ2h0cyBSZXNlcnZlZC5cclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuICovXHJcblxyXG4gLyoqIFNWRyBOYW1lU3BhY2Ugc3RyaW5nICovXHJcbiBleHBvcnQgY29uc3QgU1ZHTlMgPSAnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnO1xyXG5cclxuIC8qKlxyXG4gICogRHJhd3MgYSBTVkcgcGF0aCBvbiBhIFNWRyBjb250YWluZXIgZWxlbWVudFxyXG4gICogQHBhcmFtIGUgVGhlIFNWRyBjb250YWluZXIgZWxlbWVudFxyXG4gICogQHBhcmFtIHBhdGggVGhlIFNWRyBwYXRoIHN0cmluZyAoJ2QnIGF0dHJpYnV0ZSlcclxuICAqIEBwYXJhbSB4IEhvcml6b250YWwgcG9zaXRpb24gcmVsYXRpdmUgdG8gY29udGFpbmVyIG9yaWdpblxyXG4gICogQHBhcmFtIHkgVmVydGljYWwgcG9zaXRpb24gcmVsYXRpdmUgdG8gY29udGFpbmVyIG9yaWdpblxyXG4gICogQHBhcmFtIHNjYWxlWCBIb3Jpem9udGFsIHNjYWxlIGZhY3RvclxyXG4gICogQHBhcmFtIHNjYWxlWSBWZXJ0aWNhbCBzY2FsZSBmYWN0b3JcclxuICAqIEBwYXJhbSBvcGFjaXR5IE9wYWNpdHkgKDAgdG8gMSlcclxuICAqIEByZXR1cm5zIFRoZSBkcmF3biBTVkcgcGF0aCBlbGVtZW50XHJcbiAgKi9cclxuIGV4cG9ydCBmdW5jdGlvbiBkcmF3U1ZHUGF0aChcclxuICAgZTogU1ZHRWxlbWVudCwgcGF0aDogc3RyaW5nLCB4OiBudW1iZXIsIHk6IG51bWJlcixcclxuICAgc2NhbGVYOiBudW1iZXIsIHNjYWxlWTogbnVtYmVyLCBvcGFjaXR5ID0gMVxyXG4gKTogU1ZHUGF0aEVsZW1lbnQgIHtcclxuICAgY29uc3QgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHTlMsICdwYXRoJyk7XHJcbiAgIGNoaWxkLnNldEF0dHJpYnV0ZU5TKG51bGwsICdkJywgcGF0aCk7XHJcbiAgIGNoaWxkLnNldEF0dHJpYnV0ZU5TKFxyXG4gICAgIG51bGwsICd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7eH0sICR7eX0pIHNjYWxlKCR7c2NhbGVYfSwgJHtzY2FsZVl9KWBcclxuICAgKTtcclxuICAgaWYgKG9wYWNpdHkgPCAxKSB7XHJcbiAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsIGAke29wYWNpdHl9YCk7XHJcbiAgIH1cclxuICAgZS5hcHBlbmRDaGlsZChjaGlsZCk7XHJcbiAgIHJldHVybiBjaGlsZDtcclxuIH1cclxuIFxyXG4gLyoqXHJcbiAgKiBEcmF3cyBTVkcgdGV4dCBvbiBhIFNWRyBjb250YWluZXIgZWxlbWVudFxyXG4gICogQHBhcmFtIGUgVGhlIFNWRyBjb250YWluZXIgZWxlbWVudFxyXG4gICogQHBhcmFtIHRleHQgVGhlIHRleHQgY29udGVudFxyXG4gICogQHBhcmFtIHggSG9yaXpvbnRhbCBwb3NpdGlvbiAoYW5jaG9yIGRlcGVuZHMgb24gdGV4dC1hbmNob3IpXHJcbiAgKiBAcGFyYW0geSBWZXJ0aWNhbCBwb3NpdGlvbiAoYW5jaG9yIGRlcGVuZHMgb24gZG9taW5hbnQtYmFzZWxpbmUpXHJcbiAgKiBAcGFyYW0gZm9udFNpemUgRm9udCBzaXplIChlLmcuLCAnMTZweCcpXHJcbiAgKiBAcGFyYW0gZm9udFdlaWdodCBGb250IHdlaWdodCAoJ25vcm1hbCcsICdib2xkJylcclxuICAqIEBwYXJhbSB0ZXh0QW5jaG9yIEhvcml6b250YWwgYWxpZ25tZW50ICgnc3RhcnQnLCAnbWlkZGxlJywgJ2VuZCcpXHJcbiAgKiBAcGFyYW0gZG9taW5hbnRCYXNlbGluZSBWZXJ0aWNhbCBhbGlnbm1lbnQgKCdtaWRkbGUnLCAnaGFuZ2luZycsICdjZW50cmFsJywgJ21hdGhlbWF0aWNhbCcsICd0ZXh0LWJvdHRvbScsICd0ZXh0LXRvcCcpXHJcbiAgKiBAcGFyYW0gZmlsbCBUZXh0IGNvbG9yXHJcbiAgKiBAcGFyYW0gb3BhY2l0eSBPcGFjaXR5ICgwIHRvIDEpXHJcbiAgKiBAcmV0dXJucyBUaGUgZHJhd24gU1ZHIHRleHQgZWxlbWVudFxyXG4gICovXHJcbiBleHBvcnQgZnVuY3Rpb24gZHJhd1NWR1RleHQoXHJcbiAgIGU6IFNWR0VsZW1lbnQsIHRleHQ6IHN0cmluZywgeDogbnVtYmVyLCB5OiBudW1iZXIsXHJcbiAgIGZvbnRTaXplOiBzdHJpbmcsIGZvbnRXZWlnaHQgPSAnbm9ybWFsJyxcclxuICAgdGV4dEFuY2hvcjogJ3N0YXJ0JyB8ICdtaWRkbGUnIHwgJ2VuZCcgPSAnbWlkZGxlJyxcclxuICAgZG9taW5hbnRCYXNlbGluZTogc3RyaW5nID0gJ21pZGRsZScsIC8vIFVzZSBzdHJpbmcgZm9yIGJyb2FkZXIgU1ZHIHZhbHVlc1xyXG4gICBmaWxsID0gJ2N1cnJlbnRDb2xvcicsIC8vIERlZmF1bHQgdG8gaW5oZXJpdGluZyBjb2xvclxyXG4gICBvcGFjaXR5ID0gMVxyXG4gKTogU1ZHVGV4dEVsZW1lbnQgeyAvLyBSZXR1cm4gU1ZHVGV4dEVsZW1lbnQgc3BlY2lmaWNhbGx5XHJcbiAgIGNvbnN0IGNoaWxkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCAndGV4dCcpO1xyXG4gICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZm9udC1mYW1pbHknLCAnc2Fucy1zZXJpZicpOyAvLyBTaW1wbGUgZGVmYXVsdFxyXG4gICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZm9udC1zaXplJywgZm9udFNpemUpO1xyXG4gICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZm9udC13ZWlnaHQnLCBmb250V2VpZ2h0KTtcclxuICAgY2hpbGQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3gnLCBgJHt4fWApO1xyXG4gICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsIGAke3l9YCk7XHJcbiAgIGNoaWxkLnNldEF0dHJpYnV0ZU5TKG51bGwsICd0ZXh0LWFuY2hvcicsIHRleHRBbmNob3IpO1xyXG4gICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnZG9taW5hbnQtYmFzZWxpbmUnLCBkb21pbmFudEJhc2VsaW5lKTtcclxuICAgIGlmIChmaWxsICE9PSAnY3VycmVudENvbG9yJykge1xyXG4gICAgICAgY2hpbGQuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCBmaWxsKTtcclxuICAgfVxyXG4gICAgaWYgKG9wYWNpdHkgPCAxKSB7XHJcbiAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnb3BhY2l0eScsIGAke29wYWNpdHl9YCk7XHJcbiAgIH1cclxuIFxyXG4gICBjb25zdCB0ZXh0Tm9kZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHRleHQpO1xyXG4gICBjaGlsZC5hcHBlbmRDaGlsZCh0ZXh0Tm9kZSk7XHJcbiAgIGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICByZXR1cm4gY2hpbGQ7XHJcbiB9XHJcbiBcclxuIC8qKlxyXG4gICogQ3JlYXRlcyBhIFNWRyBncm91cCAoJ2cnKSBlbGVtZW50IGFuZCBhcHBlbmRzIGl0IHRvIGEgcGFyZW50LlxyXG4gICogQHBhcmFtIHBhcmVudCBUaGUgcGFyZW50IFNWRyBlbGVtZW50XHJcbiAgKiBAcGFyYW0gaWQgT3B0aW9uYWwgZGF0YS1pZCBhdHRyaWJ1dGUgZm9yIGlkZW50aWZpY2F0aW9uXHJcbiAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBTVkcgZ3JvdXAgZWxlbWVudFxyXG4gICovXHJcbiBleHBvcnQgZnVuY3Rpb24gY3JlYXRlU1ZHR3JvdXBDaGlsZChwYXJlbnQ6IFNWR0VsZW1lbnQsIGlkPzogc3RyaW5nKTogU1ZHR0VsZW1lbnQgeyAvLyBSZXR1cm4gU1ZHR0VsZW1lbnRcclxuICAgY29uc3QgY2hpbGQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoU1ZHTlMsICdnJyk7XHJcbiAgIGlmIChpZCkge1xyXG4gICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZGF0YS1pZCcsIGlkKTtcclxuICAgfVxyXG4gICBwYXJlbnQuYXBwZW5kQ2hpbGQoY2hpbGQpO1xyXG4gICByZXR1cm4gY2hpbGQ7XHJcbiB9XHJcbiBcclxuLyoqXHJcbiAqIFNldHMgYSBzaW1wbGUgYmxpbmtpbmcgKG9wYWNpdHkgZmFkZSBpbi9vdXQpIGFuaW1hdGlvbiBvbiBhbiBlbGVtZW50LlxyXG4gKiBAcGFyYW0gZSBUaGUgU1ZHIGVsZW1lbnQgdG8gYW5pbWF0ZVxyXG4gKiBAcGFyYW0gZW5hYmxlIEVuYWJsZSBvciBkaXNhYmxlIHRoZSBhbmltYXRpb25cclxuICogQHBhcmFtIGR1cmF0aW9uIEFuaW1hdGlvbiBkdXJhdGlvbiAoZS5nLiwgJzJzJylcclxuICogQHJldHVybnMgVGhlIG1vZGlmaWVkIFNWRyBlbGVtZW50XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gc2V0QmxpbmtBbmltYXRpb24oXHJcbiAgZTogU1ZHRWxlbWVudCwgZW5hYmxlID0gdHJ1ZSwgZHVyYXRpb24gPSAnMXMnXHJcbik6IFNWR0VsZW1lbnQge1xyXG4gIC8vIFRyeSB0byBmaW5kIGFuIGV4aXN0aW5nIDxhbmltYXRlPiBjaGlsZCBjb250cm9sbGluZyBvcGFjaXR5XHJcbiAgbGV0IGFuaW1hdGlvbiA9IGUucXVlcnlTZWxlY3RvcihcclxuICAgICdhbmltYXRlW2F0dHJpYnV0ZU5hbWU9XCJvcGFjaXR5XCJdJ1xyXG4gICkgYXMgU1ZHQW5pbWF0ZUVsZW1lbnQgfCBudWxsO1xyXG5cclxuICBpZiAoZW5hYmxlKSB7XHJcbiAgICBpZiAoIWFuaW1hdGlvbikge1xyXG4gICAgICAvLyBDcmVhdGUgYSBuZXcgPGFuaW1hdGU+IGlmIG1pc3NpbmdcclxuICAgICAgYW5pbWF0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFNWR05TLCAnYW5pbWF0ZScpO1xyXG4gICAgICBhbmltYXRpb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2F0dHJpYnV0ZU5hbWUnLCAnb3BhY2l0eScpO1xyXG4gICAgICBhbmltYXRpb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3ZhbHVlcycsICcxOzAuMjsxJyk7XHJcbiAgICAgIGFuaW1hdGlvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAna2V5VGltZXMnLCAnMDswLjU7MScpO1xyXG4gICAgICBhbmltYXRpb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ2R1cicsIGR1cmF0aW9uKTtcclxuICAgICAgYW5pbWF0aW9uLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyZXBlYXRDb3VudCcsICdpbmRlZmluaXRlJyk7XHJcbiAgICAgIGUuYXBwZW5kQ2hpbGQoYW5pbWF0aW9uKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIFJlc3VtZSBhbmltYXRpb24gYnkgcmVzZXR0aW5nIHJlcGVhdENvdW50IGFuZCByZXN0YXJ0aW5nXHJcbiAgICAgIC8vIFVzZSBiZWdpbkVsZW1lbnQoKSBpbnN0ZWFkIG9mIHVucGF1c2VBbmltYXRpb25zKClcclxuICAgICAgYW5pbWF0aW9uLnNldEF0dHJpYnV0ZU5TKG51bGwsICdyZXBlYXRDb3VudCcsICdpbmRlZmluaXRlJyk7XHJcbiAgICAgIGFuaW1hdGlvbi5iZWdpbkVsZW1lbnQoKTsgLy8gUmVzdGFydCB0aGUgU01JTCBhbmltYXRpb25cclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKGFuaW1hdGlvbikge1xyXG4gICAgICAvLyBTdG9wIHRoZSBhbmltYXRpb24gYnkgZW5kaW5nIGl0IGFuZCBwcmV2ZW50aW5nIHJlcGVhdHNcclxuICAgICAgLy8gVXNlIGVuZEVsZW1lbnQoKSBpbnN0ZWFkIG9mIHBhdXNlQW5pbWF0aW9ucygpXHJcbiAgICAgIGFuaW1hdGlvbi5lbmRFbGVtZW50KCk7XHJcbiAgICAgIGFuaW1hdGlvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAncmVwZWF0Q291bnQnLCAnMCcpO1xyXG4gICAgICAvLyBFbnN1cmUgdGhlIGVsZW1lbnQgc3RheXMgZnVsbHkgdmlzaWJsZVxyXG4gICAgICBlLnN0eWxlLm9wYWNpdHkgPSAnMSc7XHJcbiAgICB9XHJcbiAgICAvLyBBbHNvIHJlc2V0IGlubGluZSBvcGFjaXR5IGluIGNhc2UgYW5pbWF0aW9uIGVsZW1lbnQgd2FzIHJlbW92ZWRcclxuICAgIGUuc3R5bGUub3BhY2l0eSA9ICcxJztcclxuICB9XHJcblxyXG4gIHJldHVybiBlO1xyXG59XHJcblxyXG4gXHJcbiAvKipcclxuICAqIFNldHMgdGhlIGZpbGwgY29sb3Igb2YgYW4gU1ZHIGVsZW1lbnQuXHJcbiAgKiBAcGFyYW0gZSBUaGUgU1ZHIGVsZW1lbnRcclxuICAqIEBwYXJhbSBjb2xvciBUaGUgQ1NTIGNvbG9yIHN0cmluZ1xyXG4gICovXHJcbiBleHBvcnQgZnVuY3Rpb24gc2V0RmlsbChlOiBTVkdFbGVtZW50LCBjb2xvcjogc3RyaW5nKSB7XHJcbiAgIGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ2ZpbGwnLCBjb2xvcik7XHJcbiB9XHJcbiBcclxuIC8qKlxyXG4gICogU2V0cyB0aGUgc3Ryb2tlIGNvbG9yIGFuZCB3aWR0aCBvZiBhbiBTVkcgZWxlbWVudC5cclxuICAqIEBwYXJhbSBlIFRoZSBTVkcgZWxlbWVudFxyXG4gICogQHBhcmFtIGNvbG9yIFRoZSBDU1MgY29sb3Igc3RyaW5nXHJcbiAgKiBAcGFyYW0gc3Ryb2tlV2lkdGggVGhlIHN0cm9rZSB3aWR0aCBpbiBwaXhlbHNcclxuICAqL1xyXG4gZXhwb3J0IGZ1bmN0aW9uIHNldFN0cm9rZShlOiBTVkdFbGVtZW50LCBjb2xvcjogc3RyaW5nLCBzdHJva2VXaWR0aDogbnVtYmVyKSB7XHJcbiAgIGUuc2V0QXR0cmlidXRlTlMobnVsbCwgJ3N0cm9rZScsIGNvbG9yKTtcclxuICAgZS5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3Ryb2tlLXdpZHRoJywgYCR7c3Ryb2tlV2lkdGh9YCk7XHJcbiB9XHJcbiBcclxuIC8qKlxyXG4gICogSGlnaGxpZ2h0cyBhbiBlbGVtZW50IGJ5IGNoYW5naW5nIGl0cyBmaWxsIGNvbG9yLlxyXG4gICogT2Z0ZW4gdXNlZCBmb3IgYWN0aXZlIG5vdGVzLlxyXG4gICogQHBhcmFtIGUgVGhlIFNWRyBlbGVtZW50ICh0eXBpY2FsbHkgYSBncm91cCBjb250YWluaW5nIG5vdGUgcGFydHMpXHJcbiAgKiBAcGFyYW0gY29sb3IgVGhlIGhpZ2hsaWdodCBjb2xvclxyXG4gICovXHJcbiBleHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0RWxlbWVudChlOiBTVkdFbGVtZW50LCBjb2xvcjogc3RyaW5nKSB7XHJcbiAgLy8gR2F0aGVyIGJvdGggdGhlIGVsZW1lbnQgaXRzZWxmIChpZiBpdCBtYXRjaGVzKSBhbmQgaXRzIGRlc2NlbmRhbnRzXHJcbiAgY29uc3QgdG9IaWdobGlnaHQ6IFNWR0VsZW1lbnRbXSA9IFtdO1xyXG5cclxuICAvLyBJZiB0aGUgZWxlbWVudCBpdHNlbGYgaXMgYSA8dGV4dD4gb3IgPHBhdGg+LCBpbmNsdWRlIGl0XHJcbiAgaWYgKGUubWF0Y2hlcygndGV4dCwgcGF0aCcpKSB7XHJcbiAgICB0b0hpZ2hsaWdodC5wdXNoKGUpO1xyXG4gIH1cclxuXHJcbiAgLy8gQWxzbyBpbmNsdWRlIGFueSBkZXNjZW5kYW50IDx0ZXh0PiBvciA8cGF0aD5cclxuICBlLnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHRWxlbWVudD4oJ3RleHQsIHBhdGgnKS5mb3JFYWNoKGVsID0+IHtcclxuICAgIHRvSGlnaGxpZ2h0LnB1c2goZWwpO1xyXG4gIH0pO1xyXG5cclxuICAvLyBBcHBseSB0aGUgZmlsbCBjb2xvclxyXG4gIHRvSGlnaGxpZ2h0LmZvckVhY2goY2hpbGQgPT4ge1xyXG4gICAgLy8gU2tpcCBlbGVtZW50cyB3aXRoIGZpbGw9XCJub25lXCJcclxuICAgIGlmIChjaGlsZC5nZXRBdHRyaWJ1dGUoJ2ZpbGwnKSAhPT0gJ25vbmUnKSB7XHJcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGNvbG9yKTtcclxuICAgIH1cclxuICB9KTtcclxuXHJcbiAgcmV0dXJuIGU7XHJcbn1cclxuXHJcbiBcclxuIC8qKlxyXG4gICogUmVzZXRzIHRoZSBoaWdobGlnaHQgb2YgYW4gZWxlbWVudCwgcmV2ZXJ0aW5nIHRvIGEgZGVmYXVsdCBjb2xvci5cclxuICAqIEBwYXJhbSBlIFRoZSBTVkcgZWxlbWVudCAodHlwaWNhbGx5IGEgZ3JvdXApXHJcbiAgKiBAcGFyYW0gZGVmYXVsdENvbG9yIFRoZSBjb2xvciB0byByZXZlcnQgdG9cclxuICAqL1xyXG4gZXhwb3J0IGZ1bmN0aW9uIHJlc2V0RWxlbWVudEhpZ2hsaWdodChlOiBTVkdFbGVtZW50LCBkZWZhdWx0Q29sb3I6IHN0cmluZykge1xyXG4gICAgICBjb25zdCBjaGlsZHJlbiA9IGUucXVlcnlTZWxlY3RvckFsbDxTVkdFbGVtZW50PigndGV4dCwgcGF0aCcpO1xyXG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKChjaGlsZDogU1ZHRWxlbWVudCkgPT4ge1xyXG4gICAgICAgICAgaWYgKGNoaWxkLmdldEF0dHJpYnV0ZSgnZmlsbCcpICE9PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBkZWZhdWx0Q29sb3IpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9KTtcclxufSIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgTUlOX1JFU09MVVRJT05cclxufSBmcm9tICcuL21vZGVsX2NvbnN0YW50cyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIE5vdGVJbmZvXHJcbn0gZnJvbSAnLi9qaWFucHVfaW5mbyc7XHJcblxyXG5pbXBvcnQge1xyXG4gIE1lYXN1cmVzSW5mbyAvLyBSZW5hbWVkIGZyb20gQmFyc0luZm9cclxufSBmcm9tICcuL21lYXN1cmVfaW5mbyc7IC8vIFJlbmFtZWQgZnJvbSBiYXJzX2luZm9cclxuXHJcbi8qKiBBIG1hcCBvZiBKaWFucHUgYmxvY2tzIGluZGV4ZWQgYnkgc3RhcnRpbmcgcXVhcnRlciAqL1xyXG5leHBvcnQgdHlwZSBKaWFucHVCbG9ja01hcCA9IE1hcDxudW1iZXIsIEppYW5wdUJsb2NrPjtcclxuXHJcbi8qKiBTdG9yZXMgcHJvY2Vzc2VkIGluZm9ybWF0aW9uIHJlbGF0ZWQgdG8gYSBtdXNpY2FsIG5vdGUgZm9yIEppYW5wdSByZW5kZXJpbmcgKi9cclxuZXhwb3J0IGludGVyZmFjZSBKaWFucHVOb3RlIGV4dGVuZHMgTm90ZUluZm8ge1xyXG4gIC8qKiBKaWFucHUgbnVtYmVyICgxLTcpICovXHJcbiAgamlhbnB1TnVtYmVyOiBudW1iZXI7XHJcbiAgLyoqIE9jdGF2ZSBkb3RzOiBwb3NpdGl2ZSBmb3IgYWJvdmUsIG5lZ2F0aXZlIGZvciBiZWxvdywgMCBmb3Igbm9uZSAqL1xyXG4gIG9jdGF2ZURvdDogbnVtYmVyO1xyXG4gIC8qKlxyXG4gICAqIElkZW50aWZpY2F0b3Igb2YgdGhlIGFjY2lkZW50YWwga2luZDogMD1ub25lLCAxPXNoYXJwLCAyPWZsYXQsIDM9bmF0dXJhbFxyXG4gICAqL1xyXG4gIGFjY2lkZW50YWw6IG51bWJlcjtcclxuICAvKiogUmVmZXJlbmNlIHRvIHByZXZpb3VzIHRpZWQgbm90ZSAqL1xyXG4gIHRpZWRGcm9tPzogSmlhbnB1Tm90ZTtcclxuICAvKiogUmVmZXJlbmNlIHRvIGZvbGxvd2luZyB0aWVkIG5vdGUgKi9cclxuICB0aWVkVG8/OiBKaWFucHVOb3RlO1xyXG5cclxufVxyXG5cclxuLyoqIENoZWNrcyBpZiBhIG51bWJlciBpcyBjbG9zZSB0byB6ZXJvIHdpdGhpbiBhIHNtYWxsIHRvbGVyYW5jZSAqL1xyXG5mdW5jdGlvbiBpc1NhZmVaZXJvKG46IG51bWJlcik6IGJvb2xlYW4ge1xyXG4gIHJldHVybiBNYXRoLmFicyhuKSA8IDFlLTY7IC8vIFVzZSBhIHNtYWxsIGVwc2lsb25cclxufVxyXG5cclxuLyoqXHJcbiAqIFNwbGl0cyBhIEppYW5wdU5vdGUgaW4gdHdvIGF0IGEgc3BlY2lmaWMgdGltZSBwb2ludC5cclxuICogQHBhcmFtIGppYW5wdU5vdGUgTm90ZSB0byBiZSBzcGxpdC5cclxuICogQHBhcmFtIHF1YXJ0ZXJzIFNwbGl0IHBvaW50IHRpbWUgaW4gcXVhcnRlciBub3Rlcy5cclxuICogQHJldHVybnMgVGhlIHNlY29uZCBoYWxmIG9mIHRoZSBzcGxpdCBub3RlLiBUaGUgZmlyc3QgaGFsZiBtb2RpZmllcyB0aGUgaW5wdXQgbm90ZS5cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBzcGxpdEppYW5wdU5vdGUoamlhbnB1Tm90ZTogSmlhbnB1Tm90ZSwgcXVhcnRlcnM6IG51bWJlcik6IEppYW5wdU5vdGUgfCBudWxsIHtcclxuICBjb25zdCBvcmlnaW5hbEVuZCA9IGppYW5wdU5vdGUuc3RhcnQgKyBqaWFucHVOb3RlLmxlbmd0aDtcclxuICAvLyBFbnN1cmUgc3BsaXQgcG9pbnQgaXMgc3RyaWN0bHkgd2l0aGluIHRoZSBub3RlJ3MgZHVyYXRpb25cclxuICBpZiAocXVhcnRlcnMgPD0gamlhbnB1Tm90ZS5zdGFydCB8fCBxdWFydGVycyA+PSBvcmlnaW5hbEVuZCB8fCBpc1NhZmVaZXJvKG9yaWdpbmFsRW5kIC0gcXVhcnRlcnMpKSB7XHJcbiAgICAgIHJldHVybiBudWxsO1xyXG4gIH1cclxuXHJcbiAgY29uc3QgcmVtYWluTGVuZ3RoID0gb3JpZ2luYWxFbmQgLSBxdWFydGVycztcclxuICBqaWFucHVOb3RlLmxlbmd0aCA9IHF1YXJ0ZXJzIC0gamlhbnB1Tm90ZS5zdGFydDsgLy8gTW9kaWZ5IG9yaWdpbmFsIG5vdGVcclxuXHJcbiAgY29uc3Qgc3BsaXR0ZWQ6IEppYW5wdU5vdGUgPSB7XHJcbiAgICAgIHN0YXJ0OiBxdWFydGVycyxcclxuICAgICAgbGVuZ3RoOiByZW1haW5MZW5ndGgsXHJcbiAgICAgIHBpdGNoOiBqaWFucHVOb3RlLnBpdGNoLFxyXG4gICAgICBpbnRlbnNpdHk6IGppYW5wdU5vdGUuaW50ZW5zaXR5LFxyXG4gICAgICBqaWFucHVOdW1iZXI6IGppYW5wdU5vdGUuamlhbnB1TnVtYmVyLFxyXG4gICAgICBvY3RhdmVEb3Q6IGppYW5wdU5vdGUub2N0YXZlRG90LFxyXG4gICAgICBhY2NpZGVudGFsOiAwLCAvLyBBY2NpZGVudGFsIG9ubHkgYXBwbGllcyB0byB0aGUgZmlyc3QgcGFydFxyXG4gICAgICB0aWVkRnJvbTogamlhbnB1Tm90ZSwgLy8gVGhlIG5ldyBub3RlIGlzIHRpZWQgKmZyb20qIHRoZSBtb2RpZmllZCBvcmlnaW5hbFxyXG4gICAgICAvLyBSZW5kZXJpbmcgcHJvcGVydGllcyB3aWxsIGJlIHJlY2FsY3VsYXRlZCBsYXRlclxyXG4gIH07XHJcblxyXG4gIGlmIChqaWFucHVOb3RlLnRpZWRUbykgeyAvLyBSZWxpbmsgdGllcyBpZiBhbnkgaW4gcHJlLXNwbGl0dGVkIG5vdGVcclxuICAgICAgc3BsaXR0ZWQudGllZFRvID0gamlhbnB1Tm90ZS50aWVkVG87XHJcbiAgICAgIGppYW5wdU5vdGUudGllZFRvLnRpZWRGcm9tID0gc3BsaXR0ZWQ7XHJcbiAgfVxyXG4gIGppYW5wdU5vdGUudGllZFRvID0gc3BsaXR0ZWQ7IC8vIFRoZSBtb2RpZmllZCBvcmlnaW5hbCBub3RlIGlzIHRpZWQgKnRvKiB0aGUgbmV3IHNwbGl0IHBhcnRcclxuXHJcblxyXG4gIHJldHVybiBzcGxpdHRlZDtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBTdG9yZXMgYSBibG9jayBvZiBub3RlcyBpbiBKaWFucHUsIGFsbCBzdGFydGluZyBzaW11bHRhbmVvdXNseS5cclxuICogQ2FuIHJlcHJlc2VudCBhIGNob3JkIG9yIGEgc2luZ2xlIG5vdGUvcmVzdC4gQSBibG9jayB3aXRoIG5vIG5vdGVzIGlzIGEgcmVzdC5cclxuICogUHJlLXByb2Nlc3NlcyBjb250ZXh0IChrZXksIHJoeXRobSkgdG8gc3RvcmUgZGV0YWlscyBmb3IgcmVuZGVyaW5nLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIEppYW5wdUJsb2NrIHtcclxuICAvKiogU3RhcnRpbmcgdGltZSwgaW4gcXVhcnRlciBub3RlIHF1YW50aXRpZXMgKGZsb2F0KSAqL1xyXG4gIHB1YmxpYyBzdGFydDogbnVtYmVyO1xyXG4gIC8qKiBEdXJhdGlvbiBvZiB0aGUgYmxvY2ssIGluIHF1YXJ0ZXIgbm90ZSBxdWFudGl0aWVzIChmbG9hdCkgKi9cclxuICBwdWJsaWMgbGVuZ3RoOiBudW1iZXI7XHJcbiAgLyoqIFRoZSBsaXN0IG9mIG5vdGVzIGluIHRoZSBibG9jayAoZW1wdHkgZm9yIGEgcmVzdCkgKi9cclxuICBwdWJsaWMgbm90ZXM6IEppYW5wdU5vdGVbXTtcclxuICAvKiogTWVhc3VyZSBudW1iZXIgKGZsb2F0KSB3aGVyZSB0aGUgYmxvY2sgc3RhcnRzIChlLmcuLCAzLjUgaXMgaGFsZndheSB0aHJvdWdoIG1lYXN1cmUgMykgKi9cclxuICBwdWJsaWMgbWVhc3VyZU51bWJlcjogbnVtYmVyO1xyXG5cclxuICAvLyAtLS0gUmVuZGVyaW5nIFByb3BlcnRpZXMgKGNhbGN1bGF0ZWQgbGF0ZXIpIC0tLVxyXG4gICAvKiogTnVtYmVyIG9mIHVuZGVybGluZXMgZm9yIGR1cmF0aW9uIChlLmcuLCAxIGZvciA4dGgsIDIgZm9yIDE2dGgpICovXHJcbiAgIGR1cmF0aW9uTGluZXM/OiBudW1iZXI7XHJcbiAgIC8qKiBOdW1iZXIgb2YgYXVnbWVudGF0aW9uIGRvdHMgKi9cclxuICAgYXVnbWVudGF0aW9uRG90cz86IG51bWJlcjtcclxuICAgLyoqIFRydWUgaWYgYW4gYXVnbWVudGF0aW9uIGRhc2ggaXMgbmVlZGVkIChmb3Igbm90ZXMgbG9uZ2VyIHRoYW4gcXVhcnRlcikgKi9cclxuICAgYXVnbWVudGF0aW9uRGFzaD86IGJvb2xlYW47IC8vIFNpbXBsZSBmbGFnIGZvciBub3dcclxuXHJcblxyXG4gIC8vIC0tLSBSaHl0aG1pYyBQcm9wZXJ0aWVzIChjYWxjdWxhdGVkIGR1cmluZyBwcm9jZXNzaW5nKSAtLS1cclxuICAvKiogV2hldGhlciB0aGUgYmxvY2sgYmVnaW5zIG9uIGEgYmVhdCAqL1xyXG4gIHB1YmxpYyBiZWF0QmVnaW4/OiBib29sZWFuO1xyXG4gIC8qKiBXaGV0aGVyIHRoZSBibG9jayBlbmRzIGV4YWN0bHkgb24gYSBiZWF0ICovXHJcbiAgcHVibGljIGJlYXRFbmQ/OiBib29sZWFuO1xyXG4gIC8qKiBXaGV0aGVyIHRoaXMgYmxvY2sgaXMgcGFydCBvZiBhIHRpZSBmcm9tIHRoZSBwcmV2aW91cyBibG9jayAqL1xyXG4gIHB1YmxpYyBpc1RpZVN0YXJ0PzogYm9vbGVhbjtcclxuICAvKiogV2hldGhlciB0aGlzIGJsb2NrIGNvbnRpbnVlcyBhIHRpZSB0byB0aGUgbmV4dCBibG9jayAqL1xyXG4gIHB1YmxpYyBpc1RpZUVuZD86IGJvb2xlYW47XHJcblxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgYEppYW5wdUJsb2NrYC5cclxuICAgKiBAcGFyYW0gc3RhcnQgU3RhcnRpbmcgdGltZSAocXVhcnRlcnMpLlxyXG4gICAqIEBwYXJhbSBsZW5ndGggRHVyYXRpb24gKHF1YXJ0ZXJzKS5cclxuICAgKiBAcGFyYW0gbm90ZXMgQXJyYXkgb2Ygbm90ZXMgKGVtcHR5IGZvciByZXN0KS5cclxuICAgKiBAcGFyYW0gbWVhc3VyZU51bWJlciBNZWFzdXJlIG51bWJlciB3aGVyZSB0aGUgYmxvY2sgc3RhcnRzLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yIChcclxuICAgIHN0YXJ0ID0gMCxcclxuICAgIGxlbmd0aCA9IDAsXHJcbiAgICBub3RlczogSmlhbnB1Tm90ZVtdID0gW10sXHJcbiAgICBtZWFzdXJlTnVtYmVyID0gMSAvLyBTdGFydCBtZWFzdXJlcyBmcm9tIDFcclxuICApIHtcclxuICAgIHRoaXMuc3RhcnQgPSBzdGFydDtcclxuICAgIHRoaXMubGVuZ3RoID0gbGVuZ3RoO1xyXG4gICAgdGhpcy5ub3RlcyA9IG5vdGVzOyAvLyBOb3RlcyB3aWxsIGJlIGFkZGVkIHZpYSBhZGROb3RlXHJcbiAgICB0aGlzLm1lYXN1cmVOdW1iZXIgPSBtZWFzdXJlTnVtYmVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQWRkcyBhIG5vdGUgdG8gdGhlIGJsb2NrLiBBc3N1bWVzIHRoZSBub3RlIHN0YXJ0cyAqZXhhY3RseSogYXQgdGhlIGJsb2NrJ3Mgc3RhcnQgdGltZS5cclxuICAgKiBIYW5kbGVzIHBvdGVudGlhbCBkdXBsaWNhdGVzIChlLmcuLCBmcm9tIG92ZXJsYXBwaW5nIE1JREkpLiBUaGUgc2hvcnRlc3QgZHVyYXRpb24gcHJldmFpbHMuXHJcbiAgICogVXBkYXRlcyBibG9jayBsZW5ndGggaWYgbmVjZXNzYXJ5LlxyXG4gICAqIEBwYXJhbSBqaWFucHVOb3RlIFRoZSBub3RlIHRvIGFkZC5cclxuICAgKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG5vdGUgd2FzIGFkZGVkL3VwZGF0ZWQsIGBmYWxzZWAgaWYgaWdub3JlZCAoZS5nLiwgaWRlbnRpY2FsIG9yIGxvbmdlciBkdXBsaWNhdGUpLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBhZGROb3RlKGppYW5wdU5vdGU6IEppYW5wdU5vdGUpOiBib29sZWFuIHtcclxuICAgIGlmICh0aGlzLm5vdGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIC8vIEZpcnN0IG5vdGUgc2V0cyB0aGUgc3RhcnQgYW5kIGluaXRpYWwgbGVuZ3RoXHJcbiAgICAgICAgdGhpcy5zdGFydCA9IGppYW5wdU5vdGUuc3RhcnQ7XHJcbiAgICAgICAgdGhpcy5sZW5ndGggPSBqaWFucHVOb3RlLmxlbmd0aDtcclxuICAgICAgICB0aGlzLm5vdGVzLnB1c2goamlhbnB1Tm90ZSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gRW5zdXJlIHRoZSBub3RlIHN0YXJ0cyBhdCB0aGUgYmxvY2sncyBzdGFydCB0aW1lICh3aXRoaW4gdG9sZXJhbmNlKVxyXG4gICAgaWYgKCFpc1NhZmVaZXJvKHRoaXMuc3RhcnQgLSBqaWFucHVOb3RlLnN0YXJ0KSkge1xyXG4gICAgICAgIGNvbnNvbGUud2FybihgSmlhbnB1QmxvY2s6IEF0dGVtcHRlZCB0byBhZGQgbm90ZSBhdCAke2ppYW5wdU5vdGUuc3RhcnR9IHRvIGJsb2NrIHN0YXJ0aW5nIGF0ICR7dGhpcy5zdGFydH0uIElnbm9yaW5nLmApO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgcmVwbGFjZWREdXBsaWNhdGUgPSBmYWxzZTtcclxuICAgIGxldCBpc0R1cGxpY2F0ZSA9IGZhbHNlO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub3Rlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGlmICh0aGlzLm5vdGVzW2ldLnBpdGNoID09PSBqaWFucHVOb3RlLnBpdGNoKSB7XHJcbiAgICAgICAgICAgIGlzRHVwbGljYXRlID0gdHJ1ZTtcclxuICAgICAgICAgICAgLy8gTG9naWMgUHJvIHJ1bGU6IFNob3J0ZXIgbm90ZSBvdmVycmlkZXMgbG9uZ2VyIG9uZSBhdCB0aGUgc2FtZSBwaXRjaC9zdGFydFxyXG4gICAgICAgICAgICBpZiAoamlhbnB1Tm90ZS5sZW5ndGggPCB0aGlzLm5vdGVzW2ldLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgdGllcyBmcm9tIHRoZSBub3RlIGJlaW5nIHJlcGxhY2VkXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5ub3Rlc1tpXS50aWVkRnJvbSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGppYW5wdU5vdGUudGllZEZyb20gPSB0aGlzLm5vdGVzW2ldLnRpZWRGcm9tO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChqaWFucHVOb3RlLnRpZWRGcm9tKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGppYW5wdU5vdGUudGllZEZyb20udGllZFRvID0gamlhbnB1Tm90ZTsgLy8gUmVsaW5rIHByZXZpb3VzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIGlmICh0aGlzLm5vdGVzW2ldLnRpZWRUbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGppYW5wdU5vdGUudGllZFRvID0gdGhpcy5ub3Rlc1tpXS50aWVkVG87XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGppYW5wdU5vdGUudGllZFRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGppYW5wdU5vdGUudGllZFRvLnRpZWRGcm9tID0gamlhbnB1Tm90ZTsgLy8gUmVsaW5rIG5leHRcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGVzW2ldID0gamlhbnB1Tm90ZTsgLy8gUmVwbGFjZVxyXG4gICAgICAgICAgICAgICAgcmVwbGFjZWREdXBsaWNhdGUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIElmIG5ldyBub3RlIGlzIHNhbWUgbGVuZ3RoIG9yIGxvbmdlciwgaWdub3JlIGl0XHJcbiAgICAgICAgICAgIGJyZWFrOyAvLyBGb3VuZCB0aGUgZHVwbGljYXRlLCBubyBuZWVkIHRvIGNoZWNrIGZ1cnRoZXJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFpc0R1cGxpY2F0ZSkge1xyXG4gICAgICAgIHRoaXMubm90ZXMucHVzaChqaWFucHVOb3RlKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgYmxvY2sgbGVuZ3RoIHRvIHRoZSBtaW5pbXVtIGxlbmd0aCBvZiBjb250YWluZWQgbm90ZXMgaWYgYSBzaG9ydGVyIG5vdGUgd2FzIGFkZGVkL3JlcGxhY2VkXHJcbiAgICAvLyBGaW5kIHRoZSBtaW5pbXVtIGxlbmd0aCBhbW9uZyBhbGwgbm90ZXMgaW4gdGhlIGJsb2NrXHJcbiAgICBsZXQgbWluTGVuZ3RoID0gSW5maW5pdHk7XHJcbiAgICBmb3IoY29uc3Qgbm90ZSBvZiB0aGlzLm5vdGVzKSB7XHJcbiAgICAgICAgbWluTGVuZ3RoID0gTWF0aC5taW4obWluTGVuZ3RoLCBub3RlLmxlbmd0aCk7XHJcbiAgICB9XHJcbiAgICB0aGlzLmxlbmd0aCA9IG1pbkxlbmd0aDtcclxuXHJcblxyXG4gICAgcmV0dXJuICFpc0R1cGxpY2F0ZSB8fCByZXBsYWNlZER1cGxpY2F0ZTtcclxufVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogU3BsaXRzIHRoaXMgYmxvY2sgaW50byB0d28gYXQgYSBnaXZlbiB0aW1lIHBvaW50LlxyXG4gICAqIE1vZGlmaWVzIHRoZSBjdXJyZW50IGJsb2NrIHRvIGVuZCBhdCB0aGUgc3BsaXQgcG9pbnQgYW5kIHJldHVybnMgdGhlIG5ldyBibG9ja1xyXG4gICAqIHJlcHJlc2VudGluZyB0aGUgcmVtYWluZGVyLiBIYW5kbGVzIHNwbGl0dGluZyBub3RlcyBhbmQgdGllcy5cclxuICAgKiBAcGFyYW0gcXVhcnRlcnMgU3BsaXQgcG9pbnQgdGltZSBpbiBxdWFydGVyIG5vdGVzLlxyXG4gICAqIEBwYXJhbSBtZWFzdXJlc0luZm8gUHJvdmlkZXMgbWVhc3VyZSBjb250ZXh0IGZvciB0aGUgbmV3IGJsb2NrLlxyXG4gICAqIEByZXR1cm5zIFRoZSBuZXcgYEppYW5wdUJsb2NrYCByZXByZXNlbnRpbmcgdGhlIHNlY29uZCBwYXJ0LCBvciBgbnVsbGAgaWYgc3BsaXQgaXMgbm90IHBvc3NpYmxlLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGxpdChxdWFydGVyczogbnVtYmVyLCBtZWFzdXJlc0luZm86IE1lYXN1cmVzSW5mbyk6IEppYW5wdUJsb2NrIHwgbnVsbCB7XHJcbiAgICBjb25zdCBvcmlnaW5hbEVuZCA9IHRoaXMuc3RhcnQgKyB0aGlzLmxlbmd0aDtcclxuXHJcbiAgICAvLyBDaGVjayBpZiBzcGxpdCBwb2ludCBpcyB2YWxpZCAoc3RyaWN0bHkgYmV0d2VlbiBzdGFydCBhbmQgZW5kKVxyXG4gICAgIGlmIChxdWFydGVycyA8PSB0aGlzLnN0YXJ0IHx8IHF1YXJ0ZXJzID49IG9yaWdpbmFsRW5kIHx8IGlzU2FmZVplcm8ob3JpZ2luYWxFbmQgLSBxdWFydGVycykpIHtcclxuICAgICAgIHJldHVybiBudWxsOyAvLyBDYW5ub3Qgc3BsaXQgYXQgdGhlIGJvdW5kYXJpZXMgb3Igb3V0c2lkZVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlbWFpbkxlbmd0aCA9IG9yaWdpbmFsRW5kIC0gcXVhcnRlcnM7XHJcbiAgICBjb25zdCBuZXdCbG9ja0xlbmd0aCA9IHF1YXJ0ZXJzIC0gdGhpcy5zdGFydDtcclxuXHJcbiAgICBjb25zdCBzcGxpdHRlZEJsb2NrID0gbmV3IEppYW5wdUJsb2NrKFxyXG4gICAgICBxdWFydGVycyxcclxuICAgICAgcmVtYWluTGVuZ3RoLFxyXG4gICAgICBbXSwgLy8gTm90ZXMgd2lsbCBiZSBhZGRlZCBiZWxvd1xyXG4gICAgICBtZWFzdXJlc0luZm8ubWVhc3VyZU51bWJlckF0UShxdWFydGVycykgLy8gQ2FsY3VsYXRlIG1lYXN1cmUgbnVtYmVyIGZvciB0aGUgbmV3IGJsb2NrXHJcbiAgICApO1xyXG5cclxuICAgIGNvbnN0IG5vdGVzRm9yTmV3QmxvY2s6IEppYW5wdU5vdGVbXSA9IFtdO1xyXG4gICAgXHJcbiAgICAvLyBJdGVyYXRlIHRocm91Z2ggZXhpc3Rpbmcgbm90ZXMgdG8gc3BsaXQgb3IgbW92ZSB0aGVtXHJcbiAgICBmb3IgKGNvbnN0IG5vdGUgb2YgdGhpcy5ub3Rlcykge1xyXG4gICAgICAgIGNvbnN0IG5vdGVFbmQgPSBub3RlLnN0YXJ0ICsgbm90ZS5sZW5ndGg7XHJcblxyXG4gICAgICAgIGlmIChub3RlRW5kID4gcXVhcnRlcnMgKyAxZS02KSB7IC8vIE5vdGUgY3Jvc3NlcyB0aGUgc3BsaXQgcG9pbnRcclxuICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nTm90ZVBhcnQgPSBzcGxpdEppYW5wdU5vdGUobm90ZSwgcXVhcnRlcnMpO1xyXG4gICAgICAgICAgICAgaWYgKHJlbWFpbmluZ05vdGVQYXJ0KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBPcmlnaW5hbCBub3RlIGR1cmF0aW9uIHdhcyBhbHJlYWR5IHVwZGF0ZWQgYnkgc3BsaXRKaWFucHVOb3RlXHJcbiAgICAgICAgICAgICAgICBub3Rlc0Zvck5ld0Jsb2NrLnB1c2gocmVtYWluaW5nTm90ZVBhcnQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgIC8vIFRoaXMgY2FzZSBzaG91bGRuJ3QgaGFwcGVuIGlmIHNwbGl0IHBvaW50IGlzIHZhbGlkLCBidXQgZ29vZCB0byBoYW5kbGVcclxuICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJTcGxpdCBmYWlsZWQgZm9yIG5vdGUsIHVuZXhwZWN0ZWQgc3RhdGUuXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIGlmIChpc1NhZmVaZXJvKG5vdGVFbmQgLSBxdWFydGVycykpIHtcclxuICAgICAgICAgICAgIC8vIE5vdGUgZW5kcyBleGFjdGx5IGF0IHRoZSBzcGxpdCBwb2ludCwgaXQgc3RheXMgZW50aXJlbHkgaW4gdGhlIGZpcnN0IGJsb2NrXHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIElmIG5vdGUgZW5kcyBiZWZvcmUgc3BsaXQgcG9pbnQsIGl0IHN0YXlzIGluIG9yaWdpbmFsIGJsb2NrIHVuYWZmZWN0ZWRcclxuXHJcbiAgICB9XHJcblxyXG4gICAgLy8gQWRkIHRoZSBuZXdseSBjcmVhdGVkIG5vdGUgcGFydHMgdG8gdGhlIHNwbGl0IGJsb2NrXHJcbiAgICBub3Rlc0Zvck5ld0Jsb2NrLmZvckVhY2gobm90ZSA9PiBzcGxpdHRlZEJsb2NrLmFkZE5vdGUobm90ZSkpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgb3JpZ2luYWwgYmxvY2sncyBsZW5ndGhcclxuICAgIHRoaXMubGVuZ3RoID0gbmV3QmxvY2tMZW5ndGg7XHJcblxyXG4gICAgIC8vIENsZWFyIHJlbmRlcmluZyBwcm9wZXJ0aWVzLCB0aGV5IG5lZWQgcmVjYWxjdWxhdGlvblxyXG4gICAgZGVsZXRlIHRoaXMuZHVyYXRpb25MaW5lcztcclxuICAgIGRlbGV0ZSB0aGlzLmF1Z21lbnRhdGlvbkRvdHM7XHJcbiAgICBkZWxldGUgdGhpcy5hdWdtZW50YXRpb25EYXNoO1xyXG5cclxuXHJcbiAgICAvLyBUcmFuc2ZlciBiZWF0RW5kIHByb3BlcnR5IGlmIGFwcGxpY2FibGVcclxuICAgIGlmICh0aGlzLmJlYXRFbmQpIHtcclxuICAgICAgc3BsaXR0ZWRCbG9jay5iZWF0RW5kID0gdHJ1ZTsgLy8gVGhlIG5ldyBibG9jayBub3cgcG90ZW50aWFsbHkgZW5kcyBvbiBhIGJlYXRcclxuICAgICAgLy8gVGhlIG9yaWdpbmFsIGJsb2NrICptaWdodCogbm8gbG9uZ2VyIGVuZCBvbiB0aGUgYmVhdCBpdCBwcmV2aW91c2x5IGRpZCxcclxuICAgICAgLy8gdW5sZXNzIHRoZSBzcGxpdCBwb2ludCBpdHNlbGYgd2FzIGEgYmVhdC4gV2UnbGwgcmVjYWxjdWxhdGUgYmVhdEVuZCBsYXRlciBpZiBuZWVkZWQuXHJcbiAgICAgICBkZWxldGUgdGhpcy5iZWF0RW5kOyAvLyBMZXQgYmVhdCBzdGF0dXMgYmUgcmVjYWxjdWxhdGVkXHJcbiAgICB9XHJcbiAgICAgaWYgKHRoaXMuaXNUaWVFbmQpIHtcclxuICAgICAgICAvLyBUaGUgb3JpZ2luYWwgYmxvY2sgd2FzIHRpZWQgdG8gc29tZXRoaW5nICphZnRlciogdGhlIHNwbGl0IHBvaW50XHJcbiAgICAgICAgc3BsaXR0ZWRCbG9jay5pc1RpZVN0YXJ0ID0gdHJ1ZTsgLy8gVGhlIG5ldyBibG9jayBzdGFydHMgd2l0aCBhIHRpZVxyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmlzVGllRW5kOyAvLyBPcmlnaW5hbCBibG9jayBubyBsb25nZXIgZW5kcyB3aXRoIHRoaXMgdGllXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHNwbGl0dGVkQmxvY2s7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBTcGxpdHMgdGhlIGJsb2NrLCBpZiBuZWNlc3NhcnksIHNvIHRoZSBmaXJzdCBwYXJ0IGVuZHMgYXQgdGhlIG5leHQgYmVhdCBib3VuZGFyeS5cclxuICAgKiBNYXJrcyBgYmVhdEJlZ2luYCBhbmQgYGJlYXRFbmRgIHByb3BlcnRpZXMuXHJcbiAgICogQHBhcmFtIG1lYXN1cmVzSW5mbyBQcm92aWRlcyBtZWFzdXJlIGFuZCBiZWF0IGNvbnRleHQuXHJcbiAgICogQHJldHVybnMgVGhlIHNlY29uZCBwYXJ0IG9mIHRoZSBzcGxpdCBibG9jayAoaWYgc3BsaXQgb2NjdXJyZWQpLCBvdGhlcndpc2UgYG51bGxgLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBzcGxpdFRvQmVhdChtZWFzdXJlc0luZm86IE1lYXN1cmVzSW5mbyk6IEppYW5wdUJsb2NrIHwgbnVsbCB7XHJcbiAgICAgIGNvbnN0IHRpbWVTaWduYXR1cmUgPSBtZWFzdXJlc0luZm8udGltZVNpZ25hdHVyZUF0USh0aGlzLnN0YXJ0KTtcclxuICAgICAgaWYgKCF0aW1lU2lnbmF0dXJlKSByZXR1cm4gbnVsbDsgLy8gU2hvdWxkIG5vdCBoYXBwZW4gd2l0aCBwcm9wZXIgaW5pdGlhbGl6YXRpb25cclxuXHJcbiAgICAgIGNvbnN0IG1lYXN1cmVMZW5ndGggPSBtZWFzdXJlc0luZm8ubWVhc3VyZUxlbmd0aEF0USh0aGlzLnN0YXJ0KTtcclxuICAgICAgY29uc3QgbWVhc3VyZU51bSA9IG1lYXN1cmVzSW5mby5tZWFzdXJlTnVtYmVyQXRRKHRoaXMuc3RhcnQpO1xyXG4gICAgICBjb25zdCBtZWFzdXJlU3RhcnQgPSB0aGlzLnN0YXJ0IC0gKG1lYXN1cmVOdW0gLSBNYXRoLmZsb29yKG1lYXN1cmVOdW0pKSAqIG1lYXN1cmVMZW5ndGg7XHJcbiAgICAgIGNvbnN0IHRpbWVJbk1lYXN1cmUgPSB0aGlzLnN0YXJ0IC0gbWVhc3VyZVN0YXJ0O1xyXG5cclxuICAgICAgY29uc3QgYmVhdExlbmd0aCA9IDQgLyB0aW1lU2lnbmF0dXJlLmRlbm9taW5hdG9yO1xyXG5cclxuICAgICAgLy8gQ2hlY2sgaWYgYmxvY2sgc3RhcnRzIG9uIGEgYmVhdFxyXG4gICAgICBjb25zdCBzdGFydEJlYXRGcmFjdGlvbiA9IHRpbWVJbk1lYXN1cmUgLyBiZWF0TGVuZ3RoO1xyXG4gICAgICB0aGlzLmJlYXRCZWdpbiA9IGlzU2FmZVplcm8oc3RhcnRCZWF0RnJhY3Rpb24gLSBNYXRoLnJvdW5kKHN0YXJ0QmVhdEZyYWN0aW9uKSk7XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIHRpbWUgb2YgdGhlICpuZXh0KiBiZWF0IGJvdW5kYXJ5IGFmdGVyIHRoZSBibG9jayBzdGFydHNcclxuICAgICAgY29uc3QgY3VycmVudEJlYXROdW1iZXIgPSBNYXRoLmZsb29yKHN0YXJ0QmVhdEZyYWN0aW9uICsgMWUtNik7IC8vIEJlYXQgIyB3aXRoaW4gbWVhc3VyZSAoMC1pbmRleGVkKVxyXG4gICAgICBjb25zdCBuZXh0QmVhdFRpbWVJbk1lYXN1cmUgPSAoY3VycmVudEJlYXROdW1iZXIgKyAxKSAqIGJlYXRMZW5ndGg7XHJcbiAgICAgIGNvbnN0IG5leHRCZWF0VGltZUFic29sdXRlID0gbWVhc3VyZVN0YXJ0ICsgbmV4dEJlYXRUaW1lSW5NZWFzdXJlO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB0aW1lIG9mIHRoZSBtZWFzdXJlIGVuZFxyXG4gICAgICBjb25zdCBtZWFzdXJlRW5kVGltZSA9IG1lYXN1cmVTdGFydCArIG1lYXN1cmVMZW5ndGg7XHJcblxyXG4gICAgICAgLy8gVGltZSB3aGVyZSB0aGUgY3VycmVudCBibG9jayBlbmRzXHJcbiAgICAgIGNvbnN0IGJsb2NrRW5kVGltZSA9IHRoaXMuc3RhcnQgKyB0aGlzLmxlbmd0aDtcclxuXHJcbiAgICAgIGxldCBzcGxpdFRpbWU6IG51bWJlciB8IG51bGwgPSBudWxsO1xyXG5cclxuICAgICAgLy8gRGV0ZXJtaW5lIHNwbGl0IHBvaW50OiB0aGUgZWFybGllc3Qgb2YgKG5leHQgYmVhdCwgbWVhc3VyZSBlbmQpIHRoYXQgZmFsbHMgKndpdGhpbiogdGhlIGJsb2NrJ3MgZHVyYXRpb25cclxuICAgICAgaWYgKG5leHRCZWF0VGltZUFic29sdXRlIDwgYmxvY2tFbmRUaW1lIC0gMWUtNiAmJiBuZXh0QmVhdFRpbWVBYnNvbHV0ZSA+IHRoaXMuc3RhcnQgKyAxZS02KSB7XHJcbiAgICAgICAgICBzcGxpdFRpbWUgPSBuZXh0QmVhdFRpbWVBYnNvbHV0ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQWxzbyBjb25zaWRlciBzcGxpdHRpbmcgYXQgbWVhc3VyZSBlbmQgaWYgaXQgZmFsbHMgd2l0aGluIHRoZSBibG9ja1xyXG4gICAgICBpZihtZWFzdXJlRW5kVGltZSA8IGJsb2NrRW5kVGltZSAtIDFlLTYgJiYgbWVhc3VyZUVuZFRpbWUgPiB0aGlzLnN0YXJ0ICsgMWUtNikge1xyXG4gICAgICAgICAgIGlmIChzcGxpdFRpbWUgPT09IG51bGwgfHwgbWVhc3VyZUVuZFRpbWUgPCBzcGxpdFRpbWUpIHtcclxuICAgICAgICAgICAgICAgIHNwbGl0VGltZSA9IG1lYXN1cmVFbmRUaW1lO1xyXG4gICAgICAgICAgIH1cclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIGxldCBzcGxpdHRlZEJsb2NrOiBKaWFucHVCbG9jayB8IG51bGwgPSBudWxsO1xyXG4gICAgICBpZiAoc3BsaXRUaW1lICE9PSBudWxsKSB7XHJcbiAgICAgICAgICBzcGxpdHRlZEJsb2NrID0gdGhpcy5zcGxpdChzcGxpdFRpbWUsIG1lYXN1cmVzSW5mbyk7XHJcbiAgICAgICAgICBpZiAoc3BsaXR0ZWRCbG9jaykge1xyXG4gICAgICAgICAgICAgIC8vIFRoZSBmaXJzdCAob3JpZ2luYWwpIGJsb2NrIG5vdyBlbmRzIGV4YWN0bHkgb24gYSBiZWF0IG9yIG1lYXN1cmUgZW5kXHJcbiAgICAgICAgICAgICAgdGhpcy5iZWF0RW5kID0gdHJ1ZTtcclxuICAgICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE5vIHNwbGl0IG5lZWRlZCB3aXRoaW4gdGhlIGJsb2NrIGJhc2VkIG9uIGJlYXRzL21lYXN1cmUgZW5kLlxyXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlIGJsb2NrICphbHJlYWR5KiBlbmRzIG9uIGEgYmVhdCBib3VuZGFyeS5cclxuICAgICAgICAgIGNvbnN0IGVuZEJlYXRGcmFjdGlvbiA9ICh0aW1lSW5NZWFzdXJlICsgdGhpcy5sZW5ndGgpIC8gYmVhdExlbmd0aDtcclxuICAgICAgICAgIHRoaXMuYmVhdEVuZCA9IGlzU2FmZVplcm8oZW5kQmVhdEZyYWN0aW9uIC0gTWF0aC5yb3VuZChlbmRCZWF0RnJhY3Rpb24pKTtcclxuICAgICAgICAgIC8vIEFsc28gY2hlY2sgaWYgaXQgZW5kcyBleGFjdGx5IGF0IG1lYXN1cmUgZW5kXHJcbiAgICAgICAgICBpZiAoIXRoaXMuYmVhdEVuZCkge1xyXG4gICAgICAgICAgICAgIHRoaXMuYmVhdEVuZCA9IGlzU2FmZVplcm8oYmxvY2tFbmRUaW1lIC0gbWVhc3VyZUVuZFRpbWUpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICB9XHJcblxyXG4gICAgICAgLy8gU2V0IHRpZSBwcm9wZXJ0aWVzIGJhc2VkIG9uIG5vdGVzXHJcbiAgICAgICAgdGhpcy5pc1RpZVN0YXJ0ID0gdGhpcy5ub3Rlcy5zb21lKG4gPT4gbi50aWVkRnJvbSk7XHJcbiAgICAgICAgdGhpcy5pc1RpZUVuZCA9IHRoaXMubm90ZXMuc29tZShuID0+IG4udGllZFRvKTtcclxuICAgICAgICBpZiAoc3BsaXR0ZWRCbG9jaykge1xyXG4gICAgICAgICAgICAgc3BsaXR0ZWRCbG9jay5pc1RpZVN0YXJ0ID0gc3BsaXR0ZWRCbG9jay5ub3Rlcy5zb21lKG4gPT4gbi50aWVkRnJvbSk7XHJcbiAgICAgICAgICAgICBzcGxpdHRlZEJsb2NrLmlzVGllRW5kID0gc3BsaXR0ZWRCbG9jay5ub3Rlcy5zb21lKG4gPT4gbi50aWVkVG8pO1xyXG4gICAgICAgICAgICAgLy8gSWYgb3JpZ2luYWwgYmxvY2sgZW5kZWQgd2l0aCBhIHRpZSwgYW5kIHdlIHNwbGl0LCB0aGUgbmV3IHNwbGl0dGVkQmxvY2tcclxuICAgICAgICAgICAgIC8vIHN0YXJ0cyB3aXRoIHRoYXQgdGllLiBUaGUgb3JpZ2luYWwgYmxvY2sgbm8gbG9uZ2VyIGVuZHMgdGhlIHRpZS5cclxuICAgICAgICAgICAgIGlmICh0aGlzLm5vdGVzLnNvbWUobiA9PiBuLnRpZWRUbyAmJiAobi5zdGFydCArIG4ubGVuZ3RoID4gc3BsaXRUaW1lISkpKSB7XHJcbiAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuaXNUaWVFbmQ7XHJcbiAgICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgIHJldHVybiBzcGxpdHRlZEJsb2NrO1xyXG4gIH1cclxuXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBDYWxjdWxhdGVzIGFuZCBzZXRzIHRoZSByZW5kZXJpbmcgcHJvcGVydGllcyAoZHVyYXRpb24gbGluZXMsIGRvdHMsIGRhc2hlcykuXHJcbiAgICAgKiBDYWxsIHRoaXMgQUZURVIgYWxsIHNwbGl0dGluZy5cclxuICAgICAqIEBwYXJhbSBtZWFzdXJlc0luZm8gUHJvdmlkZXMgY29udGV4dCAoZS5nLiwgYWxsb3dEb3R0ZWRSZXN0cykuXHJcbiAgICAgKi9cclxuICAgIHB1YmxpYyBjYWxjdWxhdGVSZW5kZXJQcm9wZXJ0aWVzKG1lYXN1cmVzSW5mbzogTWVhc3VyZXNJbmZvKTogdm9pZCB7XHJcbiAgICAgICAgLy8g6YeN572u5riy5p+T5bGe5oCnXHJcbiAgICAgICAgZGVsZXRlIHRoaXMuZHVyYXRpb25MaW5lcztcclxuICAgICAgICBkZWxldGUgdGhpcy5hdWdtZW50YXRpb25Eb3RzO1xyXG4gICAgICAgIGRlbGV0ZSB0aGlzLmF1Z21lbnRhdGlvbkRhc2g7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBibG9ja0xlbmd0aCA9IHRoaXMubGVuZ3RoO1xyXG4gICAgICAgIGlmIChpc1NhZmVaZXJvKGJsb2NrTGVuZ3RoKSB8fCBibG9ja0xlbmd0aCA8IDApIHJldHVybjtcclxuICAgIFxyXG4gICAgICAgIC8vIOWkhOeQhumZhOeCuemfs+espumAu+i+kVxyXG4gICAgICAgIGNvbnN0IGRvdHRlZFF1YXJ0ZXIgPSAxLjU7XHJcbiAgICAgICAgY29uc3QgZG90dGVkRWlnaHRoID0gMC43NTtcclxuICAgICAgICBjb25zdCBkb3R0ZWRTaXh0ZWVudGggPSAwLjM3NTtcclxuICAgICAgICBjb25zdCBkb3R0ZWRIYWxmID0gMy4wO1xyXG4gICAgXHJcbiAgICAgICAgaWYgKG1lYXN1cmVzSW5mby5hbGxvd0RvdHRlZFJlc3RzIHx8IHRoaXMubm90ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBpZiAoaXNTYWZlWmVybyhibG9ja0xlbmd0aCAtIGRvdHRlZFF1YXJ0ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1Z21lbnRhdGlvbkRvdHMgPSAxO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChpc1NhZmVaZXJvKGJsb2NrTGVuZ3RoIC0gZG90dGVkRWlnaHRoKSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuYXVnbWVudGF0aW9uRG90cyA9IDE7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGlzU2FmZVplcm8oYmxvY2tMZW5ndGggLSBkb3R0ZWRTaXh0ZWVudGgpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmR1cmF0aW9uTGluZXMgPSAyO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hdWdtZW50YXRpb25Eb3RzID0gMTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoaXNTYWZlWmVybyhibG9ja0xlbmd0aCAtIGRvdHRlZEhhbGYpKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmF1Z21lbnRhdGlvbkRvdHMgPSAxO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgaWYgKGJsb2NrTGVuZ3RoID49IDQuMCAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrTGVuZ3RoID49IDIuMCAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrTGVuZ3RoID49IDEuMCAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMDtcclxuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrTGVuZ3RoID49IDAuNSAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMTtcclxuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrTGVuZ3RoID49IDAuMjUgLSAxZS02KSB7XHJcbiAgICAgICAgICAgIHRoaXMuZHVyYXRpb25MaW5lcyA9IDI7XHJcbiAgICAgICAgfSBlbHNlIGlmIChibG9ja0xlbmd0aCA+PSAwLjEyNSAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gMztcclxuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrTGVuZ3RoID49IDAuMDYyNSAtIDFlLTYpIHtcclxuICAgICAgICAgICAgdGhpcy5kdXJhdGlvbkxpbmVzID0gNDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmR1cmF0aW9uTGluZXMgPSA0O1xyXG4gICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgIC8vIOaWsOWinueahCBhdWdtZW50YXRpb25EYXNoIOmAu+i+kVxyXG4gICAgICAgIHRoaXMuYXVnbWVudGF0aW9uRGFzaCA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAgICAgLy8g5p2h5Lu2IDE6IGJsb2NrIOS4reWPquacieS4gOS4qumfs+esplxyXG4gICAgICAgIGlmICh0aGlzLm5vdGVzLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50Tm90ZSA9IHRoaXMubm90ZXNbMF07XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVTaWduYXR1cmUgPSBtZWFzdXJlc0luZm8udGltZVNpZ25hdHVyZUF0USh0aGlzLnN0YXJ0KTtcclxuICAgICAgICAgICAgaWYgKCF0aW1lU2lnbmF0dXJlKSByZXR1cm47XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyDmoLnmja7mi43lj7fojrflj5bln7rmnKzoioLmi43ljZXkvY0g5pyA5bCP5Yiw5Zub5YiG6Z+z56ym6ZW/5bqmXHJcbiAgICAgICAgICAgIGNvbnN0IGJlYXRMZW5ndGggPSBNYXRoLm1heCg0IC8gdGltZVNpZ25hdHVyZS5kZW5vbWluYXRvciwgMS4wKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IGlzRmlyc3RCbG9jayA9IHRoaXMubWVhc3VyZU51bWJlciAlIDEgPD0gIDFlLTY7IC8vIOS9v+eUqOWwj+iKguWPt+WIpOaWreabtOWHhuehrlxyXG5cclxuXHJcbiAgICAgICAgICAgIC8vIOadoeS7tiAyICYgMzog5a2Y5Zyo5YmN5LiA5Liq5a6M5pW05Z+65pys6IqC5ouN5Y2V5L2N6Z+z56ym5LiU6Z+z6auY55u45ZCMXHJcbiAgICAgICAgICAgIGlmICghaXNGaXJzdEJsb2NrICYmIGN1cnJlbnROb3RlLnRpZWRGcm9tICYmIFxyXG4gICAgICAgICAgICAgICAgaXNTYWZlWmVybyhjdXJyZW50Tm90ZS50aWVkRnJvbS5sZW5ndGggLSBiZWF0TGVuZ3RoKSAmJiBcclxuICAgICAgICAgICAgICAgIGN1cnJlbnROb3RlLnRpZWRGcm9tLnBpdGNoID09PSBjdXJyZW50Tm90ZS5waXRjaCAmJlxyXG4gICAgICAgICAgICAgICAgY3VycmVudE5vdGUubGVuZ3RoID49IDEuMCkge1xyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAvLyDmnaHku7YgNDog5ZCO57ut6L+e5o6l55qE6Z+z56ym5rKh5pyJ6Leo5bCP6IqCXHJcbiAgICAgICAgICAgICAgICBsZXQgdmFsaWROZXh0Tm90ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE5vdGUudGllZFRvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dE5vdGVTdGFydCA9IGN1cnJlbnROb3RlLnN0YXJ0ICsgY3VycmVudE5vdGUubGVuZ3RoO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRNZWFzdXJlID0gTWF0aC5mbG9vcihtZWFzdXJlc0luZm8ubWVhc3VyZU51bWJlckF0USh0aGlzLnN0YXJ0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmV4dE5vdGVNZWFzdXJlID0gTWF0aC5mbG9vcihtZWFzdXJlc0luZm8ubWVhc3VyZU51bWJlckF0UShuZXh0Tm90ZVN0YXJ0KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWROZXh0Tm90ZSA9IChjdXJyZW50TWVhc3VyZSA9PT0gbmV4dE5vdGVNZWFzdXJlKSAmJiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjdXJyZW50Tm90ZS50aWVkVG8ubGVuZ3RoID49IDEuMCk7IC8vIOaWsOWinuadoeS7tu+8muS4i+S4gOS4qm5vdGXkuI3lsI/kuo7lm5vliIbpn7PnrKbplb/luqZcclxuICAgICAgICAgICAgICAgIH1cclxuICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbGlkTmV4dE5vdGUpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmF1Z21lbnRhdGlvbkRhc2ggPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTcGxpdHMgYSBibG9jayB0byBmaXQgc3RhbmRhcmQgbXVzaWNhbCBzeW1ib2wgbGVuZ3RocyAobGluZXMvZG90cy9kYXNoZXMpLlxyXG4gICAgICogVGhpcyBpcyBjb21wbGV4IGluIEppYW5wdSBhcyBkdXJhdGlvbiBpc24ndCBqdXN0IGhlYWQgc2hhcGUgKyBmbGFncy5cclxuICAgICAqIEl0IHRyaWVzIHRvIGZpbmQgdGhlIGxhcmdlc3Qgc3RhbmRhcmQgcmVwcmVzZW50YWJsZSBkdXJhdGlvbiAobGlrZSBkb3R0ZWQgcXVhcnRlcixcclxuICAgICAqIGhhbGYsIGVpZ2h0aCwgZXRjLikgdGhhdCBmaXRzIHdpdGhpbiB0aGUgY3VycmVudCBibG9jayBsZW5ndGguXHJcbiAgICAgKiBAcGFyYW0gbWVhc3VyZXNJbmZvIENvbnRleHQgZm9yIHNwbGl0dGluZyBydWxlcy5cclxuICAgICAqIEByZXR1cm5zIFRoZSByZW1haW5kZXIgb2YgdGhlIGJsb2NrIGFmdGVyIHNwbGl0dGluZyBvZmYgdGhlIGZpcnN0IHN5bWJvbCwgb3IgbnVsbC5cclxuICAgICAqL1xyXG4gICAgcHVibGljIHNwbGl0VG9TdGFuZGFyZFN5bWJvbChtZWFzdXJlc0luZm86IE1lYXN1cmVzSW5mbyk6IEppYW5wdUJsb2NrIHwgbnVsbCB7XHJcbiAgICAgICAgY29uc3QgYmxvY2tMZW5ndGggPSB0aGlzLmxlbmd0aDtcclxuICAgICAgICBpZiAoaXNTYWZlWmVybyhibG9ja0xlbmd0aCkgfHwgYmxvY2tMZW5ndGggPCBNSU5fUkVTT0xVVElPTiAtIDFlLTYpIHtcclxuICAgICAgICAgICAgIC8vIEFscmVhZHkgdG9vIHNob3J0IG9yIHplcm8gbGVuZ3RoLCBjYW5ub3Qgc3BsaXQgZnVydGhlciBtZWFuaW5nZnVsbHlcclxuICAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gRGVmaW5lIHN0YW5kYXJkIHJlbmRlcmFibGUgbGVuZ3RocyAobG9uZ2VzdCBmaXJzdClcclxuICAgICAgICAvLyBJbmNsdWRpbmcgY29tbW9uIGRvdHRlZCB2YWx1ZXMgaWYgYWxsb3dlZFxyXG4gICAgICAgIGNvbnN0IHN0YW5kYXJkTGVuZ3RoczogbnVtYmVyW10gPSBbXTtcclxuICAgICAgICAgaWYgKG1lYXN1cmVzSW5mby5hbGxvd0RvdHRlZFJlc3RzIHx8IHRoaXMubm90ZXMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goNi4wKTsgLy8gRG90dGVkIFdob2xlIChsZXNzIGNvbW1vbilcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDQuMCk7IC8vIFdob2xlXHJcbiAgICAgICAgICAgICBzdGFuZGFyZExlbmd0aHMucHVzaCgzLjApOyAvLyBEb3R0ZWQgSGFsZlxyXG4gICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMi4wKTsgLy8gSGFsZlxyXG4gICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMS41KTsgLy8gRG90dGVkIFF1YXJ0ZXJcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDEuMCk7IC8vIFF1YXJ0ZXJcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuNzUpOy8vIERvdHRlZCBFaWdodGhcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuNSk7IC8vIEVpZ2h0aFxyXG4gICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMC4zNzUpOy8vIERvdHRlZCBTaXh0ZWVudGhcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuMjUpOy8vIFNpeHRlZW50aFxyXG4gICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMC4xMjUpOy8vIDMybmRcclxuICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuMDYyNSk7IC8vIDY0dGhcclxuICAgICAgICAgfSBlbHNlIHsgLy8gT25seSBub24tZG90dGVkIHJlc3RzXHJcbiAgICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goNC4wKTsgLy8gV2hvbGVcclxuICAgICAgICAgICAgICBzdGFuZGFyZExlbmd0aHMucHVzaCgyLjApOyAvLyBIYWxmXHJcbiAgICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMS4wKTsgLy8gUXVhcnRlclxyXG4gICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuNSk7IC8vIEVpZ2h0aFxyXG4gICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuMjUpOy8vIFNpeHRlZW50aFxyXG4gICAgICAgICAgICAgIHN0YW5kYXJkTGVuZ3Rocy5wdXNoKDAuMTI1KTsvLyAzMm5kXHJcbiAgICAgICAgICAgICAgc3RhbmRhcmRMZW5ndGhzLnB1c2goMC4wNjI1KTsgLy8gNjR0aFxyXG4gICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgYmVzdEZpdExlbmd0aCA9IDA7XHJcblxyXG4gICAgICAgIC8vIEZpbmQgdGhlIGxhcmdlc3Qgc3RhbmRhcmQgbGVuZ3RoIHRoYXQgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIHRoZSBibG9jayBsZW5ndGhcclxuICAgICAgICBmb3IgKGNvbnN0IHN0YW5kYXJkTGVuIG9mIHN0YW5kYXJkTGVuZ3Rocykge1xyXG4gICAgICAgICAgICBpZiAoYmxvY2tMZW5ndGggPj0gc3RhbmRhcmRMZW4gLSAxZS02KSB7IC8vIEFsbG93IGZvciBmbG9hdCB0b2xlcmFuY2VcclxuICAgICAgICAgICAgICAgIGJlc3RGaXRMZW5ndGggPSBzdGFuZGFyZExlbjtcclxuICAgICAgICAgICAgICAgIGJyZWFrOyAvLyBGb3VuZCB0aGUgbG9uZ2VzdCBmaXRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcblxyXG4gICAgICAgIGlmIChpc1NhZmVaZXJvKGJlc3RGaXRMZW5ndGgpKSB7XHJcbiAgICAgICAgICAgIC8vIEJsb2NrIGxlbmd0aCBpcyBzbWFsbGVyIHRoYW4gdGhlIHNtYWxsZXN0IHN0YW5kYXJkIHVuaXQsIHdlaXJkIHN0YXRlLlxyXG4gICAgICAgICAgICAvLyBSZW5kZXIgYXMgc2hvcnRlc3QgcG9zc2libGUuXHJcbiAgICAgICAgICAgIGJlc3RGaXRMZW5ndGggPSBNSU5fUkVTT0xVVElPTjsgLy8gRm9yY2UgaXQgdG8gdGhlIG1pbmltdW0gcmVwcmVzZW50YWJsZVxyXG4gICAgICAgICAgICBpZihibG9ja0xlbmd0aCA8IGJlc3RGaXRMZW5ndGggLSAxZS02ICYmIGJsb2NrTGVuZ3RoID4gMWUtNikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGBCbG9jayBsZW5ndGggJHtibG9ja0xlbmd0aH0gaXMgdG9vIHNtYWxsLCByZW5kZXJpbmcgYXMgJHtiZXN0Rml0TGVuZ3RofWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuXHJcbiAgICAgICAgLy8gU3BsaXQgdGhlIGJsb2NrIGF0IHRoZSBkZXRlcm1pbmVkIGJlc3QgZml0IGxlbmd0aFxyXG4gICAgICAgIGxldCBzcGxpdHRlZEJsb2NrOiBKaWFucHVCbG9jayB8IG51bGwgPSBudWxsO1xyXG4gICAgICAgIGlmIChibG9ja0xlbmd0aCA+IGJlc3RGaXRMZW5ndGggKyAxZS02KSB7IC8vIE9ubHkgc3BsaXQgaWYgdGhlcmUncyByZW1haW5pbmcgZHVyYXRpb25cclxuICAgICAgICAgICAgc3BsaXR0ZWRCbG9jayA9IHRoaXMuc3BsaXQodGhpcy5zdGFydCArIGJlc3RGaXRMZW5ndGgsIG1lYXN1cmVzSW5mbyk7XHJcbiAgICAgICAgICAgIC8vIEVuc3VyZSB0aGUgZmlyc3QgcGFydCAodGhpcyBibG9jaykgaGFzIHRoZSBleGFjdCBiZXN0Rml0TGVuZ3RoXHJcbiAgICAgICAgICAgaWYgKHRoaXMubGVuZ3RoICE9PSBiZXN0Rml0TGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYEFkanVzdGluZyBibG9jayBsZW5ndGggYWZ0ZXIgc3BsaXQgZnJvbSAke3RoaXMubGVuZ3RofSB0byAke2Jlc3RGaXRMZW5ndGh9YCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCA9IGJlc3RGaXRMZW5ndGg7XHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIFRoZSBibG9jayBpcyBleGFjdGx5IGEgc3RhbmRhcmQgc3ltYm9sIGxlbmd0aCwgbm8gc3BsaXQgbmVlZGVkLlxyXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGxlbmd0aCBpcyBwcmVjaXNlbHkgdGhlIHN0YW5kYXJkIGxlbmd0aCBmb3VuZC5cclxuICAgICAgICAgICAgdGhpcy5sZW5ndGggPSBiZXN0Rml0TGVuZ3RoO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHNwbGl0dGVkQmxvY2s7XHJcbiAgICB9XHJcblxyXG5cclxuICAvKipcclxuICAgKiBNZXJnZXMgdGhpcyBibG9jayBpbnRvIGEgbWFwLCBlaXRoZXIgYWRkaW5nIGl0IG9yIG1lcmdpbmcgaXRzIG5vdGVzXHJcbiAgICogaW50byBhbiBleGlzdGluZyBibG9jayBhdCB0aGUgc2FtZSBzdGFydCB0aW1lLlxyXG4gICAqIEBwYXJhbSBtYXAgVGhlIGBKaWFucHVCbG9ja01hcGAgdG8gbWVyZ2UgaW50by5cclxuICAgKi9cclxuICBwdWJsaWMgbWVyZ2VUb01hcChtYXA6IEppYW5wdUJsb2NrTWFwKSB7XHJcbiAgICBjb25zdCBleGlzdGluZ0Jsb2NrID0gbWFwLmdldCh0aGlzLnN0YXJ0KTtcclxuICAgIGlmIChleGlzdGluZ0Jsb2NrKSB7XHJcbiAgICAgIC8vIE1lcmdlIG5vdGVzIGludG8gdGhlIGV4aXN0aW5nIGJsb2NrLiBBc3N1bWVzIGFkZE5vdGUgaGFuZGxlcyBkdXBsaWNhdGVzL2xlbmd0aC5cclxuICAgICAgdGhpcy5ub3Rlcy5mb3JFYWNoKG5vdGUgPT4gZXhpc3RpbmdCbG9jay5hZGROb3RlKG5vdGUpKTtcclxuICAgICAgLy8gVXBkYXRlIG1lYXN1cmUgbnVtYmVyIGlmIHRoZSBuZXcgYmxvY2sgaGFkIGEgbW9yZSBhY2N1cmF0ZSBvbmUgKGUuZy4sIGFmdGVyIHNwbGl0KVxyXG4gICAgICAvLyBUaGlzIG1pZ2h0IG5lZWQgcmVmaW5lbWVudCBiYXNlZCBvbiBob3cgbWVhc3VyZSBudW1iZXJzIGFyZSB0cmFja2VkLlxyXG4gICAgICBpZiAodGhpcy5tZWFzdXJlTnVtYmVyICE9PSAwKSBleGlzdGluZ0Jsb2NrLm1lYXN1cmVOdW1iZXIgPSB0aGlzLm1lYXN1cmVOdW1iZXI7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gQWRkIHRoaXMgYmxvY2sgYXMgYSBuZXcgZW50cnlcclxuICAgICAgbWFwLnNldCh0aGlzLnN0YXJ0LCB0aGlzKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyBpZiB0aGUgYmxvY2sgc3RhcnRzIGV4YWN0bHkgYXQgdGhlIGJlZ2lubmluZyBvZiBhIG1lYXN1cmUuXHJcbiAgICogQHJldHVybnMgYHRydWVgIGlmIGl0IHN0YXJ0cyBhdCB0aGUgYmVnaW5uaW5nIG9mIGEgbWVhc3VyZS5cclxuICAgKi9cclxuICBwdWJsaWMgaXNNZWFzdXJlQmVnaW5uaW5nKCk6IGJvb2xlYW4ge1xyXG4gICAgLy8gQ2hlY2sgaWYgdGhlIGZyYWN0aW9uYWwgcGFydCBvZiB0aGUgbWVhc3VyZSBudW1iZXIgaXMgemVybyAob3IgdmVyeSBjbG9zZSlcclxuICAgIHJldHVybiBpc1NhZmVaZXJvKHRoaXMubWVhc3VyZU51bWJlciAtIE1hdGguZmxvb3IodGhpcy5tZWFzdXJlTnVtYmVyKSk7XHJcbiAgfVxyXG5cclxufSIsIi8qKlxyXG4gKiBAbGljZW5zZVxyXG4gKiBDb3B5cmlnaHQgMjAyNSBmbHVmeTNkLiBBbGwgUmlnaHRzIFJlc2VydmVkLlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG4gKi9cclxuXHJcbmltcG9ydCB7XHJcbiAgSmlhbnB1SW5mbywgVGVtcG9JbmZvLCBUaW1lU2lnbmF0dXJlSW5mbywgS2V5U2lnbmF0dXJlSW5mbywgZ2V0TWVhc3VyZUxlbmd0aCxcclxuICBERUZBVUxUX1RJTUVfU0lHTkFUVVJFLCBERUZBVUxUX0tFWV9TSUdOQVRVUkUsIERFRkFVTFRfVEVNUE9cclxufSBmcm9tICcuL2ppYW5wdV9pbmZvJztcclxuXHJcbmltcG9ydCB7XHJcbiAgTUFYX1FVQVJURVJfRElWSVNJT04sIE1JTl9SRVNPTFVUSU9OXHJcbn0gZnJvbSAnLi9tb2RlbF9jb25zdGFudHMnO1xyXG5cclxuLyoqXHJcbiAqIFN0b3JlcyB0aGUgc2NvcmUgc3RydWN0dXJhbCBpbmZvIGluIGNodW5rcywgbGlrZSBzaWduYXR1cmVzIGFuZCBtZWFzdXJlIGRldGFpbHMsXHJcbiAqIGluIG9yZGVyIHRvIHVzZSBpdCBmb3IgbWVhc3VyZSBoYW5kbGluZy4gRXZlcnkgY2h1bmsgYXBwbGllcyBmcm9tIGl0cyBzdGFydFxyXG4gKiBwb2ludCB0byB0aGUgbmV4dCBvbmUuIFRoaXMgaW5mbyBjYW4gYmUgZWFzaWx5IGluZGV4ZWQgdG8gZG8gYSBmYXN0IGxvb2t1cC5cclxuICovXHJcbmV4cG9ydCBpbnRlcmZhY2UgTWVhc3VyZUluZm8ge1xyXG4gIC8qKiBXaGVyZSBhbGwgdGhpcyBpbmZvIHN0YXJ0cyBhcHBseWluZyAoaW4gcXVhcnRlciBub3RlcykgKi9cclxuICBzdGFydDogbnVtYmVyO1xyXG4gIC8qKiBUaGUgYXBwbGljYWJsZSBtZWFzdXJlIG51bWJlciBpbiB0aGlzIGNodW5rIChpbnRlZ2VyIHBhcnQgaXMgbWVhc3VyZSwgZnJhY3Rpb25hbCBpcyBwb3NpdGlvbiB3aXRoaW4pICovXHJcbiAgbWVhc3VyZU51bWJlcjogbnVtYmVyO1xyXG4gIC8qKiBUaGUgYXBwbGljYWJsZSBtZWFzdXJlIGxlbmd0aCBpbiB0aGlzIGNodW5rIChpbiBxdWFydGVyIG5vdGVzKSAqL1xyXG4gIG1lYXN1cmVMZW5ndGg6IG51bWJlcjtcclxuICAvKiogVGhlIGFwcGxpY2FibGUgdGVtcG8gaW4gdGhpcyBjaHVuayAqL1xyXG4gIHRlbXBvOiBUZW1wb0luZm87XHJcbiAgLyoqIFRoZSBhcHBsaWNhYmxlIEtleSBTaWduYXR1cmUgaW4gdGhpcyBjaHVuayAqL1xyXG4gIGtleVNpZ25hdHVyZTogS2V5U2lnbmF0dXJlSW5mbztcclxuICAvKiogVGhlIGFwcGxpY2FibGUgVGltZSBTaWduYXR1cmUgaW4gdGhpcyBjaHVuayAqL1xyXG4gIHRpbWVTaWduYXR1cmU6IFRpbWVTaWduYXR1cmVJbmZvO1xyXG4gIC8qKiBXaGV0aGVyIHRoZSBUZW1wbyBjaGFuZ2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBjaHVuayAqL1xyXG4gIHRlbXBvQ2hhbmdlPzogYm9vbGVhbjtcclxuICAvKiogV2hldGhlciB0aGUgS2V5IFNpZ25hdHVyZSBjaGFuZ2VkIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhpcyBjaHVuayAqL1xyXG4gIGtleUNoYW5nZT86IGJvb2xlYW47XHJcbiAgLyoqIFdoZXRoZXIgdGhlIFRpbWUgU2lnbmF0dXJlIGNoYW5nZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGlzIGNodW5rICovXHJcbiAgdGltZUNoYW5nZT86IGJvb2xlYW47XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBQcm92aWRlcyBhIGZyYW1ld29yayBmb3IgTWVhc3VyZUluZm8gaW5kZXhpbmcgYW5kIGZhc3QgdHJhdmVyc2luZyBpbiBvcmRlciB0b1xyXG4gKiBsb2NhdGUgdGhlIHN0cnVjdHVyYWwgaW5mbyByZWxhdGVkIHRvIGFueSBub3RlLiBJdCBjdXJyZW50bHkgc3RvcmVzIHRoZSBpbmZvXHJcbiAqIGluIGNodW5rcyBiYXNlZCBvbiB0aGUgbWluaW11bSByZXNvbHV0aW9uLlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIE1lYXN1cmVzSW5mbyB7XHJcbiAgLyoqIEludGVybmFsIHN0b3JhZ2Ugb2Ygc3RydWN0dXJhbCBjaHVua3MuICovXHJcbiAgcHJpdmF0ZSBtZWFzdXJlc0luZm86IE1lYXN1cmVJbmZvW107XHJcbiAgLyoqIEZsYWcgdG8gZGVmaW5lIGRvdHRlZCByZXN0cyBjb25maWd1cmF0aW9uIChtYXkgY2hhbmdlIGluIGEgZnV0dXJlKS4gKi9cclxuICBwdWJsaWMgYWxsb3dEb3R0ZWRSZXN0cz86IGJvb2xlYW4gPSB0cnVlOyAvLyBEZWZhdWx0IHRvIGFsbG93aW5nIGRvdHRlZCByZXN0cyBpbiBKaWFucHVcclxuXHJcbiAgLyoqXHJcbiAgICogRmlsbHMgdGhlIHJlZmVyZW5jZSBpbmZvIChtZWFzdXJlLCB0ZW1wbywgdGltZSBzaWduYXR1cmUgYW5kIGtleSBzaWduYXR1cmUpXHJcbiAgICogaW4gYSBwZXItY2h1bmsgYXJyYXkgYXMgYSBmYXN0IG1ldGhvZCB0byBmdXJ0aGVyIGZpbGwgZGV0YWlscyBpbiBibG9ja3MuXHJcbiAgICogQHBhcmFtIGppYW5wdUluZm8gVGhlIHNjb3JlIGluZm9ybWF0aW9uIHRvIGdldCByZWZlcmVuY2VzIGZyb20uXHJcbiAgICogQHBhcmFtIGxhc3RRIFRoZSBlbmQgdGltZSAoaW4gcXVhcnRlciBub3Rlcykgb2YgdGhlIHNjb3JlLlxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yIChqaWFucHVJbmZvOiBKaWFucHVJbmZvLCBsYXN0UTogbnVtYmVyKSB7XHJcbiAgICB0aGlzLm1lYXN1cmVzSW5mbyA9IFtdO1xyXG4gICAgbGV0IHRlbXBvSW5kZXggPSAwO1xyXG4gICAgbGV0IGtleUluZGV4ID0gMDtcclxuICAgIGxldCB0aW1lSW5kZXggPSAwO1xyXG4gICAgbGV0IGN1cnJlbnRUZW1wbyA9IGppYW5wdUluZm8udGVtcG9zWzBdO1xyXG4gICAgbGV0IGN1cnJlbnRLZXlTaWduYXR1cmUgPSBqaWFucHVJbmZvLmtleVNpZ25hdHVyZXNbMF07XHJcbiAgICBsZXQgY3VycmVudFRpbWVTaWduYXR1cmUgPSBqaWFucHVJbmZvLnRpbWVTaWduYXR1cmVzWzBdO1xyXG5cclxuICAgIC8vIFN0YXJ0IG51bWJlcmluZyBtZWFzdXJlcyBmcm9tIDEsIGhhbmRsZSBwb3RlbnRpYWwgYW5hY3J1c2lzIGxhdGVyIGlmIG5lZWRlZFxyXG4gICAgbGV0IG1lYXN1cmVOdW1iZXJBdEN1cnJlbnRUaW1lU2lnbmF0dXJlID0gMTtcclxuICAgIGxldCBjdXJyZW50TWVhc3VyZUxlbmd0aCA9IGdldE1lYXN1cmVMZW5ndGgoY3VycmVudFRpbWVTaWduYXR1cmUpO1xyXG4gICAgbGV0IHRpbWVPZkxhc3RUaW1lU2lnQ2hhbmdlID0gY3VycmVudFRpbWVTaWduYXR1cmUuc3RhcnQ7XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHJlc29sdXRpb24gc3RlcFxyXG4gICAgY29uc3QgcmVzb2x1dGlvblN0ZXAgPSBNSU5fUkVTT0xVVElPTjsgLy8gVXNlIHRoZSBkZWZpbmVkIG1pbmltdW0gcmVzb2x1dGlvblxyXG5cclxuICAgIGZvciAobGV0IHF1YXJ0ZXJzID0gMDsgcXVhcnRlcnMgPCBsYXN0UTsgcXVhcnRlcnMgKz0gcmVzb2x1dGlvblN0ZXApIHtcclxuICAgICAgLy8gQ2FsY3VsYXRlIGN1cnJlbnQgbWVhc3VyZSBudW1iZXJcclxuICAgICAgY29uc3QgdGltZVNpbmNlTGFzdFNpZ0NoYW5nZSA9IHF1YXJ0ZXJzIC0gdGltZU9mTGFzdFRpbWVTaWdDaGFuZ2U7XHJcbiAgICAgIGNvbnN0IG1lYXN1cmVzUGFzc2VkU2luY2VTaWdDaGFuZ2UgPSB0aW1lU2luY2VMYXN0U2lnQ2hhbmdlIC8gY3VycmVudE1lYXN1cmVMZW5ndGg7XHJcbiAgICAgIGNvbnN0IGN1cnJlbnRNZWFzdXJlTnVtYmVyID0gbWVhc3VyZU51bWJlckF0Q3VycmVudFRpbWVTaWduYXR1cmUgKyBtZWFzdXJlc1Bhc3NlZFNpbmNlU2lnQ2hhbmdlO1xyXG5cclxuICAgICAgY29uc3QgbWVhc3VyZUluZm86IE1lYXN1cmVJbmZvID0ge1xyXG4gICAgICAgIHN0YXJ0OiBxdWFydGVycyxcclxuICAgICAgICBtZWFzdXJlTnVtYmVyOiBjdXJyZW50TWVhc3VyZU51bWJlcixcclxuICAgICAgICBtZWFzdXJlTGVuZ3RoOiBjdXJyZW50TWVhc3VyZUxlbmd0aCxcclxuICAgICAgICB0ZW1wbzogY3VycmVudFRlbXBvLFxyXG4gICAgICAgIGtleVNpZ25hdHVyZTogY3VycmVudEtleVNpZ25hdHVyZSxcclxuICAgICAgICB0aW1lU2lnbmF0dXJlOiBjdXJyZW50VGltZVNpZ25hdHVyZVxyXG4gICAgICB9O1xyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIFRlbXBvIENoYW5nZVxyXG4gICAgICBpZiAoXHJcbiAgICAgICAgdGVtcG9JbmRleCA8IGppYW5wdUluZm8udGVtcG9zLmxlbmd0aCAmJlxyXG4gICAgICAgIE1hdGguYWJzKGppYW5wdUluZm8udGVtcG9zW3RlbXBvSW5kZXhdLnN0YXJ0IC0gcXVhcnRlcnMpIDwgcmVzb2x1dGlvblN0ZXAgLyAyIC8vIENoZWNrIHByb3hpbWl0eVxyXG4gICAgICApIHtcclxuICAgICAgICBjdXJyZW50VGVtcG8gPSBqaWFucHVJbmZvLnRlbXBvc1t0ZW1wb0luZGV4KytdO1xyXG4gICAgICAgIG1lYXN1cmVJbmZvLnRlbXBvID0gY3VycmVudFRlbXBvO1xyXG4gICAgICAgIG1lYXN1cmVJbmZvLnRlbXBvQ2hhbmdlID0gdHJ1ZTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2hlY2sgZm9yIEtleSBTaWduYXR1cmUgQ2hhbmdlXHJcbiAgICAgIGlmIChcclxuICAgICAgICBrZXlJbmRleCA8IGppYW5wdUluZm8ua2V5U2lnbmF0dXJlcy5sZW5ndGggJiZcclxuICAgICAgICBNYXRoLmFicyhqaWFucHVJbmZvLmtleVNpZ25hdHVyZXNba2V5SW5kZXhdLnN0YXJ0IC0gcXVhcnRlcnMpIDwgcmVzb2x1dGlvblN0ZXAgLyAyXHJcbiAgICAgICkge1xyXG4gICAgICAgIGN1cnJlbnRLZXlTaWduYXR1cmUgPSBqaWFucHVJbmZvLmtleVNpZ25hdHVyZXNba2V5SW5kZXgrK107XHJcbiAgICAgICAgbWVhc3VyZUluZm8ua2V5U2lnbmF0dXJlID0gY3VycmVudEtleVNpZ25hdHVyZTtcclxuICAgICAgICBtZWFzdXJlSW5mby5rZXlDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDaGVjayBmb3IgVGltZSBTaWduYXR1cmUgQ2hhbmdlXHJcbiAgICAgIGlmIChcclxuICAgICAgICB0aW1lSW5kZXggPCBqaWFucHVJbmZvLnRpbWVTaWduYXR1cmVzLmxlbmd0aCAmJlxyXG4gICAgICAgIE1hdGguYWJzKGppYW5wdUluZm8udGltZVNpZ25hdHVyZXNbdGltZUluZGV4XS5zdGFydCAtIHF1YXJ0ZXJzKSA8IHJlc29sdXRpb25TdGVwIC8gMlxyXG4gICAgICApIHtcclxuICAgICAgICAvLyBSZWNhbGN1bGF0ZSBtZWFzdXJlIG51bWJlciBhdCB0aGUgcG9pbnQgb2YgY2hhbmdlICpiZWZvcmUqIHVwZGF0aW5nXHJcbiAgICAgICAgY29uc3QgdGltZUF0Q2hhbmdlID0gamlhbnB1SW5mby50aW1lU2lnbmF0dXJlc1t0aW1lSW5kZXhdLnN0YXJ0O1xyXG4gICAgICAgIGNvbnN0IHRpbWVTaW5jZVByZXZTaWdDaGFuZ2UgPSB0aW1lQXRDaGFuZ2UgLSB0aW1lT2ZMYXN0VGltZVNpZ0NoYW5nZTtcclxuICAgICAgICBtZWFzdXJlTnVtYmVyQXRDdXJyZW50VGltZVNpZ25hdHVyZSArPSB0aW1lU2luY2VQcmV2U2lnQ2hhbmdlIC8gY3VycmVudE1lYXN1cmVMZW5ndGg7XHJcbiAgICAgICAgLy8gRW5zdXJlIGl0IGFsaWducyByZWFzb25hYmx5IChtaWdodCBuZWVkIGZsb29yL2NlaWwgZGVwZW5kaW5nIG9uIGFuYWNydXNpcyBoYW5kbGluZylcclxuICAgICAgICBtZWFzdXJlTnVtYmVyQXRDdXJyZW50VGltZVNpZ25hdHVyZSA9IE1hdGgucm91bmQobWVhc3VyZU51bWJlckF0Q3VycmVudFRpbWVTaWduYXR1cmUgKiAxMDAwKSAvIDEwMDA7XHJcblxyXG5cclxuICAgICAgICBjdXJyZW50VGltZVNpZ25hdHVyZSA9IGppYW5wdUluZm8udGltZVNpZ25hdHVyZXNbdGltZUluZGV4KytdO1xyXG4gICAgICAgIG1lYXN1cmVJbmZvLnRpbWVTaWduYXR1cmUgPSBjdXJyZW50VGltZVNpZ25hdHVyZTtcclxuICAgICAgICBjdXJyZW50TWVhc3VyZUxlbmd0aCA9IGdldE1lYXN1cmVMZW5ndGgoY3VycmVudFRpbWVTaWduYXR1cmUpO1xyXG4gICAgICAgIG1lYXN1cmVJbmZvLm1lYXN1cmVMZW5ndGggPSBjdXJyZW50TWVhc3VyZUxlbmd0aDtcclxuICAgICAgICBtZWFzdXJlSW5mby5tZWFzdXJlTnVtYmVyID0gbWVhc3VyZU51bWJlckF0Q3VycmVudFRpbWVTaWduYXR1cmU7IC8vIFN0YXJ0IG5ldyBtZWFzdXJlIG51bWJlcmluZ1xyXG4gICAgICAgIG1lYXN1cmVJbmZvLnRpbWVDaGFuZ2UgPSB0cnVlO1xyXG4gICAgICAgIHRpbWVPZkxhc3RUaW1lU2lnQ2hhbmdlID0gbWVhc3VyZUluZm8uc3RhcnQ7IC8vIFVwZGF0ZSB0aW1lIG9mIGxhc3QgY2hhbmdlXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHRoaXMubWVhc3VyZXNJbmZvLnB1c2gobWVhc3VyZUluZm8pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqIEZpbmRzIHRoZSBpbmRleCBpbiB0aGUgbWVhc3VyZXNJbmZvIGFycmF5IGZvciBhIGdpdmVuIHRpbWUgKi9cclxuICBwcml2YXRlIGZpbmRJbmRleChzdGFydDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgLy8gU2luY2UgY2h1bmtzIGFyZSBjcmVhdGVkIGF0IE1JTl9SRVNPTFVUSU9OIHN0ZXBzLCB3ZSBjYW4gZXN0aW1hdGUgdGhlIGluZGV4XHJcbiAgICAgIGNvbnN0IGVzdGltYXRlZEluZGV4ID0gTWF0aC5tYXgoMCwgTWF0aC5taW4odGhpcy5tZWFzdXJlc0luZm8ubGVuZ3RoIC0gMSwgTWF0aC5mbG9vcihzdGFydCAvIE1JTl9SRVNPTFVUSU9OKSkpO1xyXG5cclxuICAgICAgLy8gVE9ETzogQ291bGQgYWRkIHJlZmluZW1lbnQgaGVyZSBpZiBleGFjdCBzdGFydCB0aW1lcyBkb24ndCBhbHdheXMgYWxpZ24gcGVyZmVjdGx5XHJcbiAgICAgIC8vIEZvciBub3csIGFzc3VtZSB0aGUgZXN0aW1hdGVkIGluZGV4IGlzIGNsb3NlIGVub3VnaC5cclxuICAgICAgLy8gSWYgc3RhcnQgdGltZXMgY2FuIGJlIGFyYml0cmFyeSwgYSBiaW5hcnkgc2VhcmNoIHdvdWxkIGJlIG1vcmUgcm9idXN0OlxyXG4gICAgICAvLyBsZXQgbG93ID0gMCwgaGlnaCA9IHRoaXMubWVhc3VyZXNJbmZvLmxlbmd0aCAtIDE7XHJcbiAgICAgIC8vIHdoaWxlIChsb3cgPD0gaGlnaCkge1xyXG4gICAgICAvLyAgIGNvbnN0IG1pZCA9IE1hdGguZmxvb3IoKGxvdyArIGhpZ2gpIC8gMik7XHJcbiAgICAgIC8vICAgaWYgKHRoaXMubWVhc3VyZXNJbmZvW21pZF0uc3RhcnQgPD0gc3RhcnQpIHtcclxuICAgICAgLy8gICAgIGlmIChtaWQgPT09IHRoaXMubWVhc3VyZXNJbmZvLmxlbmd0aCAtIDEgfHwgdGhpcy5tZWFzdXJlc0luZm9bbWlkICsgMV0uc3RhcnQgPiBzdGFydCkge1xyXG4gICAgICAvLyAgICAgICByZXR1cm4gbWlkO1xyXG4gICAgICAvLyAgICAgfVxyXG4gICAgICAvLyAgICAgbG93ID0gbWlkICsgMTtcclxuICAgICAgLy8gICB9IGVsc2Uge1xyXG4gICAgICAvLyAgICAgaGlnaCA9IG1pZCAtIDE7XHJcbiAgICAgIC8vICAgfVxyXG4gICAgICAvLyB9XHJcbiAgICAgIC8vIHJldHVybiAwOyAvLyBTaG91bGQgbm90IGhhcHBlbiBpZiBzdGFydCA+PSAwXHJcblxyXG4gICAgICByZXR1cm4gZXN0aW1hdGVkSW5kZXg7XHJcbiAgfVxyXG5cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgbWVhc3VyZSBudW1iZXIgb2YgYSBub3RlIHN0YXJ0aW5nIGF0IGEgZ2l2ZW4gcG9zaXRpb24uXHJcbiAgICogSXQgcmV0dXJucyBhIGZsb2F0IHdoZXJlIHRoZSBpbnRlZ2VyIHBhcnQgaXMgdGhlIG1lYXN1cmUgbnVtYmVyIChzdGFydGluZyBmcm9tIDEpXHJcbiAgICogYW5kIHRoZSBmcmFjdGlvbmFsIHBhcnQgaW5kaWNhdGVzIHRoZSBwb3NpdGlvbiB3aXRoaW4gdGhlIG1lYXN1cmUuXHJcbiAgICogKGUuZy4sIDMuNSBtZWFucyBoYWxmd2F5IHRocm91Z2ggdGhlIDNyZCBtZWFzdXJlKS5cclxuICAgKiBAcGFyYW0gc3RhcnQgVGltZSBpbiBxdWFydGVyIG5vdGVzLlxyXG4gICAqL1xyXG4gIHB1YmxpYyBtZWFzdXJlTnVtYmVyQXRRKHN0YXJ0OiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgaWYgKHRoaXMubWVhc3VyZXNJbmZvLmxlbmd0aCA9PT0gMCkgcmV0dXJuIDEuMDsgLy8gRGVmYXVsdCBpZiBlbXB0eVxyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRJbmRleChzdGFydCk7XHJcbiAgICBjb25zdCByZWZlcmVuY2UgPSB0aGlzLm1lYXN1cmVzSW5mb1tpbmRleF07XHJcbiAgICBjb25zdCBxdWFydGVyc0FkdmFuY2UgPSBzdGFydCAtIHJlZmVyZW5jZS5zdGFydDtcclxuICAgIGNvbnN0IG1lYXN1cmVBZHZhbmNlU2luY2VSZWZlcmVuY2UgPSBxdWFydGVyc0FkdmFuY2UgLyByZWZlcmVuY2UubWVhc3VyZUxlbmd0aDtcclxuICAgIC8vIEFkZCBhIHNtYWxsIGVwc2lsb24gdG8gaGFuZGxlIHBvdGVudGlhbCBmbG9hdGluZyBwb2ludCBpc3N1ZXMgYXQgYm91bmRhcmllc1xyXG4gICAgcmV0dXJuIHJlZmVyZW5jZS5tZWFzdXJlTnVtYmVyICsgbWVhc3VyZUFkdmFuY2VTaW5jZVJlZmVyZW5jZSArIDFlLTk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSBtZWFzdXJlIGxlbmd0aCAoaW4gcXVhcnRlciBub3RlcykgYXQgYSBnaXZlbiB0aW1lIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSBzdGFydCBUaW1lIGluIHF1YXJ0ZXIgbm90ZXMuXHJcbiAgICogQHJldHVybnMgVGhlIGxlbmd0aCBvZiB0aGUgbWVhc3VyZSBhdCB0aGUgZ2l2ZW4gdGltZS5cclxuICAgKi9cclxuICBwdWJsaWMgbWVhc3VyZUxlbmd0aEF0UShzdGFydDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICBpZiAodGhpcy5tZWFzdXJlc0luZm8ubGVuZ3RoID09PSAwKSByZXR1cm4gZ2V0TWVhc3VyZUxlbmd0aChERUZBVUxUX1RJTUVfU0lHTkFUVVJFKTtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5maW5kSW5kZXgoc3RhcnQpO1xyXG4gICAgcmV0dXJuIHRoaXMubWVhc3VyZXNJbmZvW2luZGV4XS5tZWFzdXJlTGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogR2V0cyB0aGUgdGVtcG8gKGluIFFQTSkgYXQgYSBnaXZlbiB0aW1lIHBvc2l0aW9uLlxyXG4gICAqIEBwYXJhbSBzdGFydCBUaW1lIGluIHF1YXJ0ZXIgbm90ZXMuXHJcbiAgICogQHBhcmFtIG9ubHlDaGFuZ2VzIElmIHRydWUsIHJldHVybnMgLTEgaWYgdGhlcmUncyBubyB0ZW1wbyBjaGFuZ2UgKmV4YWN0bHkqIGF0ICdzdGFydCcuXHJcbiAgICogQHJldHVybnMgVGhlIFFQTSwgb3IgLTEgaWYgb25seUNoYW5nZXMgaXMgdHJ1ZSBhbmQgdGhlcmUncyBubyBjaGFuZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIHRlbXBvQXRRKFxyXG4gICAgc3RhcnQ6IG51bWJlciwgb25seUNoYW5nZXMgPSBmYWxzZVxyXG4gICk6IG51bWJlciB7XHJcbiAgICBpZiAodGhpcy5tZWFzdXJlc0luZm8ubGVuZ3RoID09PSAwKSByZXR1cm4gREVGQVVMVF9URU1QTy5xcG07XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZEluZGV4KHN0YXJ0KTtcclxuICAgIGNvbnN0IG1lYXN1cmVJbmZvID0gdGhpcy5tZWFzdXJlc0luZm9baW5kZXhdO1xyXG4gICAgLy8gRm9yIG9ubHlDaGFuZ2VzLCBjaGVjayBpZiB0aGUgc3RhcnQgdGltZSAqZXhhY3RseSogbWF0Y2hlcyB0aGUgaW5mbyBibG9jaydzIHN0YXJ0XHJcbiAgICAvLyAod2l0aGluIGEgc21hbGwgdG9sZXJhbmNlIGR1ZSB0byBmbG9hdCBjYWxjdWxhdGlvbnMpXHJcbiAgICBjb25zdCBpc0V4YWN0U3RhcnQgPSBNYXRoLmFicyhtZWFzdXJlSW5mby5zdGFydCAtIHN0YXJ0KSA8IE1JTl9SRVNPTFVUSU9OIC8gMjtcclxuICAgIHJldHVybiAhb25seUNoYW5nZXMgfHwgKG1lYXN1cmVJbmZvLnRlbXBvQ2hhbmdlICYmIGlzRXhhY3RTdGFydCkgPyBtZWFzdXJlSW5mby50ZW1wby5xcG0gOiAtMTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldHMgdGhlIGtleSBzaWduYXR1cmUgKDAtMTEpIGF0IGEgZ2l2ZW4gdGltZSBwb3NpdGlvbi5cclxuICAgKiBAcGFyYW0gc3RhcnQgVGltZSBpbiBxdWFydGVyIG5vdGVzLlxyXG4gICAqIEBwYXJhbSBvbmx5Q2hhbmdlcyBJZiB0cnVlLCByZXR1cm5zIC0xIGlmIHRoZXJlJ3Mgbm8ga2V5IGNoYW5nZSAqZXhhY3RseSogYXQgJ3N0YXJ0Jy5cclxuICAgKiBAcmV0dXJucyBUaGUga2V5ICgwLTExKSwgb3IgLTEgaWYgb25seUNoYW5nZXMgaXMgdHJ1ZSBhbmQgdGhlcmUncyBubyBjaGFuZ2UuXHJcbiAgICovXHJcbiAgcHVibGljIGtleVNpZ25hdHVyZUF0UShcclxuICAgIHN0YXJ0OiBudW1iZXIsIG9ubHlDaGFuZ2VzID0gZmFsc2VcclxuICApOiBudW1iZXIge1xyXG4gICAgIGlmICh0aGlzLm1lYXN1cmVzSW5mby5sZW5ndGggPT09IDApIHJldHVybiBERUZBVUxUX0tFWV9TSUdOQVRVUkUua2V5O1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRJbmRleChzdGFydCk7XHJcbiAgICBjb25zdCBtZWFzdXJlSW5mbyA9IHRoaXMubWVhc3VyZXNJbmZvW2luZGV4XTtcclxuICAgIGNvbnN0IGlzRXhhY3RTdGFydCA9IE1hdGguYWJzKG1lYXN1cmVJbmZvLnN0YXJ0IC0gc3RhcnQpIDwgTUlOX1JFU09MVVRJT04gLyAyO1xyXG4gICAgcmV0dXJuICFvbmx5Q2hhbmdlcyB8fCAobWVhc3VyZUluZm8ua2V5Q2hhbmdlICYmIGlzRXhhY3RTdGFydCkgPyBtZWFzdXJlSW5mby5rZXlTaWduYXR1cmUua2V5IDogLTE7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZXRzIHRoZSB0aW1lIHNpZ25hdHVyZSBhdCBhIGdpdmVuIHRpbWUgcG9zaXRpb24uXHJcbiAgICogQHBhcmFtIHN0YXJ0IFRpbWUgaW4gcXVhcnRlciBub3Rlcy5cclxuICAgKiBAcGFyYW0gb25seUNoYW5nZXMgSWYgdHJ1ZSwgcmV0dXJucyBudWxsIGlmIHRoZXJlJ3Mgbm8gdGltZSBzaWduYXR1cmUgY2hhbmdlICpleGFjdGx5KiBhdCAnc3RhcnQnLlxyXG4gICAqIEByZXR1cm5zIFRoZSBUaW1lU2lnbmF0dXJlSW5mbywgb3IgbnVsbCBpZiBvbmx5Q2hhbmdlcyBpcyB0cnVlIGFuZCB0aGVyZSdzIG5vIGNoYW5nZS5cclxuICAgKi9cclxuICBwdWJsaWMgdGltZVNpZ25hdHVyZUF0UShcclxuICAgIHN0YXJ0OiBudW1iZXIsIG9ubHlDaGFuZ2VzID0gZmFsc2VcclxuICApOiBUaW1lU2lnbmF0dXJlSW5mbyB8IG51bGwge1xyXG4gICAgIGlmICh0aGlzLm1lYXN1cmVzSW5mby5sZW5ndGggPT09IDApIHJldHVybiBERUZBVUxUX1RJTUVfU0lHTkFUVVJFO1xyXG4gICAgY29uc3QgaW5kZXggPSB0aGlzLmZpbmRJbmRleChzdGFydCk7XHJcbiAgICBjb25zdCBtZWFzdXJlSW5mbyA9IHRoaXMubWVhc3VyZXNJbmZvW2luZGV4XTtcclxuICAgIGNvbnN0IGlzRXhhY3RTdGFydCA9IE1hdGguYWJzKG1lYXN1cmVJbmZvLnN0YXJ0IC0gc3RhcnQpIDwgTUlOX1JFU09MVVRJT04gLyAyO1xyXG4gICAgcmV0dXJuICFvbmx5Q2hhbmdlcyB8fCAobWVhc3VyZUluZm8udGltZUNoYW5nZSAmJiBpc0V4YWN0U3RhcnQpID8gbWVhc3VyZUluZm8udGltZVNpZ25hdHVyZSA6IG51bGw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDb252ZXJ0IGEgZ2l2ZW4gYW1vdW50IG9mIHF1YXJ0ZXJzIHRvIHNlY29uZHMgYmFzZWQgb24gdGhlIHRlbXBvIGF0IHRoZSBzdGFydCB0aW1lLlxyXG4gICAqICoqTk9URSoqOiBUaGlzIHNpbXBsZSB2ZXJzaW9uIGRvZXNuJ3QgYWNjb3VudCBmb3IgdGVtcG8gY2hhbmdlcyAqZHVyaW5nKiB0aGUgZHVyYXRpb24uXHJcbiAgICogQSBtb3JlIGFjY3VyYXRlIHZlcnNpb24gd291bGQgaW50ZWdyYXRlIHRlbXBvIG92ZXIgdGhlIGludGVydmFsLlxyXG4gICAqIEBwYXJhbSBxdWFydGVycyBUaGUgZHVyYXRpb24gaW4gcXVhcnRlciBub3Rlcy5cclxuICAgKiBAcGFyYW0gc3RhcnRUaW1lIFRoZSB0aW1lIChpbiBxdWFydGVyIG5vdGVzKSBhdCB3aGljaCB0aGUgZHVyYXRpb24gYmVnaW5zLCB0byBkZXRlcm1pbmUgdGVtcG8uXHJcbiAgICogQHJldHVybnMgVGhlIGVxdWl2YWxlbnQgZHVyYXRpb24gaW4gc2Vjb25kcy5cclxuICAgKi9cclxuICBwdWJsaWMgcXVhcnRlcnNUb1RpbWUocXVhcnRlcnM6IG51bWJlciwgc3RhcnRUaW1lOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgcXBtID0gdGhpcy50ZW1wb0F0UShzdGFydFRpbWUpO1xyXG4gICAgaWYgKHFwbSA8PSAwKSByZXR1cm4gMDsgLy8gQXZvaWQgZGl2aXNpb24gYnkgemVybyBvciBuZWdhdGl2ZSB0ZW1wb1xyXG4gICAgcmV0dXJuIChxdWFydGVycyAvIHFwbSkgKiA2MDtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENvbnZlcnQgYSBnaXZlbiBhbW91bnQgb2Ygc2Vjb25kcyB0byBxdWFydGVycyBiYXNlZCBvbiB0aGUgdGVtcG8gYXQgdGhlIHN0YXJ0IHRpbWUuXHJcbiAgICogKipOT1RFKio6IFRoaXMgc2ltcGxlIHZlcnNpb24gYXNzdW1lcyBjb25zdGFudCB0ZW1wby5cclxuICAgKiBJdCB3aWxsIGJlIHJvdW5kZWQgdG8gdGhlIG1heGltdW0gaW50ZXJuYWwgcHJlY2lzaW9uIHRvIGF2b2lkIGZsb2F0aW5nIHBvaW50IGlzc3Vlcy5cclxuICAgKiBAcGFyYW0gdGltZSBUaGUgZHVyYXRpb24gaW4gc2Vjb25kcy5cclxuICAgKiBAcGFyYW0gc3RhcnRUaW1lIFRoZSB0aW1lIChpbiBxdWFydGVyIG5vdGVzKSB3aGVyZSB0aGUgY29udmVyc2lvbiBpcyByZWxldmFudCBmb3IgdGVtcG8uXHJcbiAgICogQHJldHVybnMgVGhlIGVxdWl2YWxlbnQgZHVyYXRpb24gaW4gcXVhcnRlcnMuXHJcbiAgICovXHJcbiAgcHVibGljIHRpbWVUb1F1YXJ0ZXJzKHRpbWU6IG51bWJlciwgc3RhcnRUaW1lOiBudW1iZXIpOiBudW1iZXIge1xyXG4gICAgY29uc3QgcXBtID0gdGhpcy50ZW1wb0F0UShzdGFydFRpbWUpO1xyXG4gICAgaWYgKHFwbSA8PSAwKSByZXR1cm4gMDtcclxuICAgIGNvbnN0IHEgPSAodGltZSAqIHFwbSkgLyA2MDtcclxuICAgIHJldHVybiBNYXRoLnJvdW5kKHEgKiBNQVhfUVVBUlRFUl9ESVZJU0lPTikgLyBNQVhfUVVBUlRFUl9ESVZJU0lPTjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENoZWNrcyBpZiBhIGdpdmVuIHRpbWUgZmFsbHMgZXhhY3RseSBvbiBhIGJlYXQgYm91bmRhcnkgYWNjb3JkaW5nIHRvIHRoZSB0aW1lIHNpZ25hdHVyZS5cclxuICAgKiBAcGFyYW0gdGltZSBUaW1lIGluIHF1YXJ0ZXIgbm90ZXMuXHJcbiAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgdGltZSBpcyBvbiBhIGJlYXQsIGZhbHNlIG90aGVyd2lzZS5cclxuICAgKi9cclxuICBwdWJsaWMgaXNCZWF0U3RhcnQodGltZTogbnVtYmVyKTogYm9vbGVhbiB7XHJcbiAgICBpZiAodGhpcy5tZWFzdXJlc0luZm8ubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XHJcbiAgICBjb25zdCBpbmRleCA9IHRoaXMuZmluZEluZGV4KHRpbWUpO1xyXG4gICAgY29uc3QgbWVhc3VyZUluZm8gPSB0aGlzLm1lYXN1cmVzSW5mb1tpbmRleF07XHJcbiAgICBjb25zdCB0aW1lU2lnbmF0dXJlID0gbWVhc3VyZUluZm8udGltZVNpZ25hdHVyZTtcclxuICAgIGNvbnN0IG1lYXN1cmVTdGFydCA9IG1lYXN1cmVJbmZvLnN0YXJ0IC0gKChtZWFzdXJlSW5mby5tZWFzdXJlTnVtYmVyIC0gTWF0aC5mbG9vcihtZWFzdXJlSW5mby5tZWFzdXJlTnVtYmVyKSkgKiBtZWFzdXJlSW5mby5tZWFzdXJlTGVuZ3RoKTtcclxuICAgIGNvbnN0IHRpbWVJbk1lYXN1cmUgPSB0aW1lIC0gbWVhc3VyZVN0YXJ0O1xyXG5cclxuICAgIGNvbnN0IGJlYXRMZW5ndGggPSA0IC8gdGltZVNpZ25hdHVyZS5kZW5vbWluYXRvcjsgLy8gTGVuZ3RoIG9mIG9uZSBiZWF0IGluIHF1YXJ0ZXIgbm90ZXNcclxuXHJcbiAgICAvLyBDaGVjayBpZiB0aW1lSW5NZWFzdXJlIGlzIGEgbXVsdGlwbGUgb2YgYmVhdExlbmd0aCAod2l0aGluIHRvbGVyYW5jZSlcclxuICAgIGNvbnN0IGJlYXROdW1iZXIgPSB0aW1lSW5NZWFzdXJlIC8gYmVhdExlbmd0aDtcclxuICAgIHJldHVybiBNYXRoLmFicyhiZWF0TnVtYmVyIC0gTWF0aC5yb3VuZChiZWF0TnVtYmVyKSkgPCBNSU5fUkVTT0xVVElPTiAvIDI7XHJcbiAgfVxyXG59IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiJdLCJuYW1lcyI6WyJkZW1vQ29udGFpbmVyIiwiTElORV9TVFJPS0VfV0lEVEgiLCJDT01QQUNUX1NQQUNJTkdfRkFDVE9SIiwiVU5ERVJMSU5FX1NQQUNJTkdfRkFDVE9SIiwiT0NUQVZFX0RPVF9PRkZTRVRfRkFDVE9SIiwiRE9UX1NJWkVfRkFDVE9SIiwiQVVHTUVOVEFUSU9OX0RBU0hfRkFDVE9SIiwiQUNDSURFTlRBTF9TUEFDSU5HX0ZBQ1RPUiIsIkFVR01FTlRBVElPTl9TUEFDSU5HX0ZBQ1RPUiIsIkZPTlRfU0laRV9NVUxUSVBMSUVSIiwiU01BTExfRk9OVF9TSVpFX01VTFRJUExJRVIiLCJEVVJBVElPTl9MSU5FX1NDQUxFUyIsIk1hcCIsIlNjcm9sbFR5cGUiLCJzY29yZSIsImNvbmZpZyIsImRpdiIsImhhbmRsZVNjcm9sbEV2ZW50IiwiX2V2ZW50IiwibGFzdEtub3duU2Nyb2xsTGVmdCIsInBhcmVudEVsZW1lbnQiLCJzY3JvbGxMZWZ0IiwiaXNTY3JvbGxpbmciLCJ3aW5kb3ciLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJ1cGRhdGVPdmVybGF5U2lnbmF0dXJlc0ZvclNjcm9sbCIsInRoaXMiLCJqaWFucHVJbmZvIiwibm90ZUhlaWdodCIsIm5vdGVTcGFjaW5nRmFjdG9yIiwicGl4ZWxzUGVyVGltZVN0ZXAiLCJub3RlQ29sb3IiLCJhY3RpdmVOb3RlQ29sb3IiLCJkZWZhdWx0S2V5Iiwic2Nyb2xsVHlwZSIsIlBBR0UiLCJmb250RmFtaWx5Iiwid2lkdGgiLCJoZWlnaHQiLCJqaWFucHVNb2RlbCIsIkppYW5wdU1vZGVsIiwiY3VycmVudEtleSIsIm1lYXN1cmVzSW5mbyIsImtleVNpZ25hdHVyZUF0USIsImN1cnJlbnRUaW1lU2lnbmF0dXJlIiwidGltZVNpZ25hdHVyZUF0USIsIkRFRkFVTFRfVElNRV9TSUdOQVRVUkUiLCJwbGF5aW5nTm90ZXMiLCJsYXN0UmVuZGVyZWRRIiwic2lnbmF0dXJlc0JsaW5raW5nIiwibnVtYmVyRm9udFNpemUiLCJzbWFsbEZvbnRTaXplIiwiZXN0aW1hdGVkTm90ZVdpZHRoIiwieUJhc2VsaW5lIiwiY2xlYXIiLCJyZWRyYXciLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsInN0eWxlIiwicG9zaXRpb24iLCJvdmVyZmxvdyIsIm92ZXJsYXlTVkciLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnROUyIsIlNWR05TIiwibGVmdCIsInRvcCIsInBvaW50ZXJFdmVudHMiLCJhcHBlbmRDaGlsZCIsIm92ZXJsYXlHIiwiY3JlYXRlU1ZHR3JvdXBDaGlsZCIsImNyZWF0ZUVsZW1lbnQiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJhZGRFdmVudExpc3RlbmVyIiwibWFpblNWRyIsImRpc3BsYXkiLCJtYWluRyIsInNpZ25hdHVyZXNHIiwibXVzaWNHIiwiZHJhd1NpZ25hdHVyZXMiLCJ1cGRhdGVMYXlvdXQiLCJjb250ZW50V2lkdGgiLCJNYXRoIiwibWF4IiwidmVydGljYWxQYWRkaW5nIiwic2V0QXR0cmlidXRlIiwiYWN0aXZlTm90ZSIsInNjcm9sbEludG9WaWV3IiwiYWN0aXZlTm90ZVBvc2l0aW9uIiwiaXNDb21wYWN0Iiwic3RhcnQiLCJwaXRjaCIsImZvckVhY2giLCJfbm90ZSIsImlkIiwiZyIsInF1ZXJ5U2VsZWN0b3IiLCJyZXNldEVsZW1lbnRIaWdobGlnaHQiLCJkZWxldGUiLCJoYXMiLCJoaWdobGlnaHRFbGVtZW50Iiwic2V0Iiwibm90ZVJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJzdmdSZWN0IiwiaXNNZWFzdXJlU3RhcnQiLCJoYXNBdHRyaWJ1dGUiLCJCQVIiLCJzY3JvbGxJbnRvVmlld0lmTmVlZGVkIiwic2lnbmF0dXJlV2lkdGhQaXhlbHMiLCJxdWFydGVyc1RvVGltZSIsInNldEJsaW5rQW5pbWF0aW9uIiwidXBkYXRlIiwiamlhbnB1QmxvY2tNYXAiLCJibG9jayIsInN0YXJ0VGltZVEiLCJibG9ja1dpZHRoIiwiZHJhd0ppYW5wdUJsb2NrIiwiYmxvY2tHIiwiYmxvY2tCb3giLCJnZXRCQm94IiwidG9wWSIsInkiLCJib3R0b21ZIiwibWluIiwiZSIsImxlbmd0aCIsIngiLCJsaW5rZWROb3RlTWFwIiwiaXNNZWFzdXJlQmVnaW5uaW5nIiwiYmxvY2tHcm91cCIsImJhclgiLCJiYXJIZWlnaHQiLCJiYXJZIiwiYmFyIiwiZHJhd1NWR1BhdGgiLCJiYXJQYXRoIiwiUEFUSF9TQ0FMRSIsInNldFN0cm9rZSIsImtleUNoYW5nZWQiLCJ1cGRhdGVDdXJyZW50S2V5IiwidGltZUNoYW5nZWQiLCJ1cGRhdGVDdXJyZW50VGltZVNpZ25hdHVyZSIsInNpZ25hdHVyZVdpZHRoIiwic2lnWCIsImNvbnRlbnRYIiwibm90ZXMiLCJkcmF3Tm90ZXMiLCJkcmF3UmVzdCIsImdhcCIsImJlYXRFbmQiLCJpc0xhc3RNZWFzdXJlQXRRIiwiY3VycmVudFgiLCJtYXhYIiwibm90ZVNwYWNpbmciLCJGT05UX1NJWkUiLCJTTUFMTF9GT05UX1NJWkUiLCJkdXJhdGlvbkxpbmVzIiwiYXVnbWVudGF0aW9uRG90cyIsImF1Z21lbnRhdGlvbkRhc2giLCJub3RlIiwibm90ZUlkIiwibm90ZUciLCJub3RlU3RhcnRYIiwibm90ZUVuZFgiLCJhY2NpZGVudGFsIiwiYWNjVGV4dCIsIkFDQ0lERU5UQUxfVEVYVCIsImRyYXdTVkdUZXh0Iiwibm90ZVdpZHRoIiwiZGFzaFdpZHRoIiwiZGFzaFNjYWxlWCIsImRhc2giLCJhdWdtZW50YXRpb25EYXNoUGF0aCIsIm51bVRleHQiLCJqaWFucHVOdW1iZXIiLCJvY3RhdmVEb3QiLCJkb3RTY2FsZSIsImRvdFNpemUiLCJkb3RYIiwiZG90U3BhY2luZyIsImJhc2VPZmZzZXQiLCJpIiwiYWJzIiwiZG90UGF0aCIsImxpbmVZT2Zmc2V0IiwibGluZVNwYWNpbmciLCJsaW5lV2lkdGhTY2FsZSIsImdldCIsImxpbmVJbmRleCIsInlQb3NpdGlvbiIsImR1cmF0aW9uTGluZSIsInVuZGVybGluZVBhdGgiLCJhdWdtZW50YXRpb25YIiwibm90ZUxvZ2ljYWxFbmRQb3NpdGlvblgiLCJ0aWVkVG8iLCJ4Tm90ZVJpZ2h0IiwieU5vdGVCYXNlbGluZSIsInRpZWRGcm9tIiwiZmlyc3ROb3RlIiwicHJldkxpbmsiLCJ0aWVTdGFydFgiLCJ0aWVXaWR0aCIsInRpZVkiLCJ0aWVTY2FsZVgiLCJ0aWVTY2FsZVkiLCJ0aWVQYXRoIiwiZ2V0Q1RNIiwiY3VycmVudCIsIm5leHROb3RlIiwiY29uc29sZSIsIndhcm4iLCJyZXN0V2lkdGgiLCJjb250YWluZXIiLCJkcmF3S2V5IiwiZHJhd1RpbWUiLCJzcGFjaW5nIiwidGltZUZvbnRTaXplIiwia2V5Rm9udFNpemUiLCJrZXlOYW1lIiwiUElUQ0hfQ0xBU1NfTkFNRVMiLCJrZXlUZXh0IiwidGltZVN0ciIsIm51bWVyYXRvciIsImRlbm9taW5hdG9yIiwidG90YWxXaWR0aCIsImJvdW5kcyIsIm1pblkiLCJtYXhZIiwicmVxdWlyZWRIZWlnaHQiLCJ0aW1lUSIsIm5ld0tleSIsIm5ld1RpbWVTaWciLCJjb250YWluZXJXaWR0aCIsImN1cnJlbnRTY3JvbGwiLCJ0YXJnZXRTY3JvbGwiLCJzY3JvbGxXaWR0aCIsInNjcm9sbFRvIiwiYmVoYXZpb3IiLCJzY3JvbGxlZFRpbWVRIiwicGl4ZWxzVG9UaW1lIiwia2V5QXRTY3JvbGwiLCJ0aW1lU2lnQXRTY3JvbGwiLCJuZWVkc1JlZHJhdyIsInBpeGVscyIsInRpbWVUb1F1YXJ0ZXJzIiwiSmlhbnB1U1ZHUmVuZGVyIiwibGFzdFEiLCJxIiwiZ2V0VG90YWxEdXJhdGlvbiIsInNvcnQiLCJhIiwiYiIsInRlbXBvcyIsIkRFRkFVTFRfVEVNUE8iLCJ1bnNoaWZ0Iiwic3RhcnRpbmdLZXkiLCJ1bmRlZmluZWQiLCJrZXkiLCJERUZBVUxUX0tFWV9TSUdOQVRVUkUiLCJrZXlTaWduYXR1cmVzIiwidGltZVNpZ25hdHVyZXMiLCJNZWFzdXJlc0luZm8iLCJpbmZvVG9CbG9ja3MiLCJyYXdCbG9ja3MiLCJsYXN0Tm90ZUVuZFRpbWUiLCJub3RlU3RhcnQiLCJtZWFzdXJlTnVtYmVyIiwibWVhc3VyZU51bWJlckF0USIsInJlc3RTdGFydCIsInJlc3RMZW5ndGgiLCJyZXN0TWVhc3VyZU51bSIsInJlc3RCbG9jayIsIkppYW5wdUJsb2NrIiwia2V5U2lnbmF0dXJlS2V5IiwiamlhbnB1Tm90ZSIsImNyZWF0ZUppYW5wdU5vdGUiLCJhZGROb3RlIiwic29ydGVkU3RhcnRzRnJvbVJhdyIsIkFycmF5IiwiZnJvbSIsImtleXMiLCJibG9ja1Byb2Nlc3NpbmdRdWV1ZSIsInB1c2giLCJwcm9jZXNzZWRCbG9ja3NGb3JTcGxpdHRpbmciLCJTZXQiLCJjdXJyZW50QmxvY2siLCJzaGlmdCIsInJlbWFpbmluZ0JlYXRTcGxpdCIsInNwbGl0VG9CZWF0IiwibWVyZ2VUb01hcCIsImFkZCIsImJsb2NrVG9TeW1ib2xTcGxpdCIsInJlbWFpbmluZ1N5bWJvbFNwbGl0Iiwic3BsaXRUb1N0YW5kYXJkU3ltYm9sIiwiY2FsY3VsYXRlUmVuZGVyUHJvcGVydGllcyIsImRldGFpbHMiLCJtYXBNaWRpVG9KaWFucHUiLCJtaWRpUGl0Y2giLCJrZXlQaXRjaENsYXNzIiwidG9uaWNNaWRpUmVmIiwiTUlERExFX0NfTUlESSIsImludGVydmFsIiwicm91bmQiLCJNQUpPUl9TQ0FMRV9JTlRFUlZBTFMiLCJsb3dlckludGVydmFsRmFsbGJhY2siLCJ1cHBlckludGVydmFsRmFsbGJhY2siLCJsb3dlckRlZ3JlZUZhbGxiYWNrIiwidXBwZXJEZWdyZWVGYWxsYmFjayIsImVycm9yIiwiZmxvb3IiLCJNSU5fUkVTT0xVVElPTiIsIk1BWF9RVUFSVEVSX0RJVklTSU9OIiwidGVzdERhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwiZGF0YSIsIm4iLCJkdXJhdGlvbiIsIm5vdGVQaXRjaCIsImludGVuc2l0eSIsInAiLCJkIiwibCIsIkFDQ0lERU5UQUxfUEFUSFMiLCJ0aW1lU2lnbmF0dXJlIiwicXBtIiwicGF0aCIsInNjYWxlWCIsInNjYWxlWSIsIm9wYWNpdHkiLCJjaGlsZCIsInNldEF0dHJpYnV0ZU5TIiwidGV4dCIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsInRleHRBbmNob3IiLCJkb21pbmFudEJhc2VsaW5lIiwiZmlsbCIsInRleHROb2RlIiwiY3JlYXRlVGV4dE5vZGUiLCJwYXJlbnQiLCJlbmFibGUiLCJhbmltYXRpb24iLCJiZWdpbkVsZW1lbnQiLCJlbmRFbGVtZW50IiwiY29sb3IiLCJzdHJva2VXaWR0aCIsInRvSGlnaGxpZ2h0IiwibWF0Y2hlcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJlbCIsImdldEF0dHJpYnV0ZSIsImRlZmF1bHRDb2xvciIsImlzU2FmZVplcm8iLCJzcGxpdEppYW5wdU5vdGUiLCJxdWFydGVycyIsIm9yaWdpbmFsRW5kIiwicmVtYWluTGVuZ3RoIiwic3BsaXR0ZWQiLCJyZXBsYWNlZER1cGxpY2F0ZSIsImlzRHVwbGljYXRlIiwibWluTGVuZ3RoIiwiSW5maW5pdHkiLCJzcGxpdCIsIm5ld0Jsb2NrTGVuZ3RoIiwic3BsaXR0ZWRCbG9jayIsIm5vdGVzRm9yTmV3QmxvY2siLCJub3RlRW5kIiwicmVtYWluaW5nTm90ZVBhcnQiLCJpc1RpZUVuZCIsImlzVGllU3RhcnQiLCJtZWFzdXJlTGVuZ3RoIiwibWVhc3VyZUxlbmd0aEF0USIsIm1lYXN1cmVOdW0iLCJtZWFzdXJlU3RhcnQiLCJ0aW1lSW5NZWFzdXJlIiwiYmVhdExlbmd0aCIsInN0YXJ0QmVhdEZyYWN0aW9uIiwiYmVhdEJlZ2luIiwibmV4dEJlYXRUaW1lQWJzb2x1dGUiLCJtZWFzdXJlRW5kVGltZSIsImJsb2NrRW5kVGltZSIsInNwbGl0VGltZSIsImVuZEJlYXRGcmFjdGlvbiIsInNvbWUiLCJibG9ja0xlbmd0aCIsImFsbG93RG90dGVkUmVzdHMiLCJjdXJyZW50Tm90ZSIsInZhbGlkTmV4dE5vdGUiLCJuZXh0Tm90ZVN0YXJ0Iiwic3RhbmRhcmRMZW5ndGhzIiwiYmVzdEZpdExlbmd0aCIsInN0YW5kYXJkTGVuIiwibWFwIiwiZXhpc3RpbmdCbG9jayIsInRlbXBvSW5kZXgiLCJrZXlJbmRleCIsInRpbWVJbmRleCIsImN1cnJlbnRUZW1wbyIsImN1cnJlbnRLZXlTaWduYXR1cmUiLCJtZWFzdXJlTnVtYmVyQXRDdXJyZW50VGltZVNpZ25hdHVyZSIsImN1cnJlbnRNZWFzdXJlTGVuZ3RoIiwiZ2V0TWVhc3VyZUxlbmd0aCIsInRpbWVPZkxhc3RUaW1lU2lnQ2hhbmdlIiwicmVzb2x1dGlvblN0ZXAiLCJtZWFzdXJlSW5mbyIsInRlbXBvIiwia2V5U2lnbmF0dXJlIiwidGVtcG9DaGFuZ2UiLCJrZXlDaGFuZ2UiLCJ0aW1lQ2hhbmdlIiwiZmluZEluZGV4IiwiaW5kZXgiLCJyZWZlcmVuY2UiLCJtZWFzdXJlQWR2YW5jZVNpbmNlUmVmZXJlbmNlIiwidGVtcG9BdFEiLCJvbmx5Q2hhbmdlcyIsImlzRXhhY3RTdGFydCIsInN0YXJ0VGltZSIsInRpbWUiLCJpc0JlYXRTdGFydCIsImJlYXROdW1iZXIiLCJfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18iLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJjYWNoZWRNb2R1bGUiLCJleHBvcnRzIiwibW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsImNhbGwiLCJnZXRFbGVtZW50QnlJZCIsInRlc3RDYXNlIiwiY2FzZURpdiIsImNsYXNzTmFtZSIsImlubmVySFRNTCIsImppYW5wdUNvbnRhaW5lciJdLCJzb3VyY2VSb290IjoiIn0=